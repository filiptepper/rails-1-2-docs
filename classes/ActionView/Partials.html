<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>ActionView::Partials</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link rel="stylesheet" href="../../css/reset.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../../css/main.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../../css/github.css" type="text/css" media="screen" />
<script src="../../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
<script src="../../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
<script src="../../js/main.js" type="text/javascript" charset="utf-8"></script>
<script src="../../js/highlight.pack.js" type="text/javascript" charset="utf-8"></script>

</head>

<body>     
    <div class="banner">
        
        <h1>
            <span class="type">Module</span> 
            ActionView::Partials 
            
        </h1>
        <ul class="files">
            
            <li><a href="../../files/rails/actionpack/lib/action_view/partials_rb.html">rails/actionpack/lib/action_view/partials.rb</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
  
    <div class="description">
      
<p>There’s also a convenience method for rendering sub templates within the
current controller that depends on a single object  (we call this kind of
sub templates for partials). It relies on the fact that partials should
follow the naming convention of being  prefixed with an underscore – as to
separate them from regular templates that could be rendered on their own.</p>

<p>In a template for Advertiser#account:</p>

<pre>&lt;%= render :partial =&gt; &quot;account&quot; %&gt;</pre>

<p>This would render “advertiser/_account.rhtml” and pass the instance
variable @account in as a local variable <code>account</code> to  the
template for display.</p>

<p>In another template for Advertiser#buy, we could have:</p>

<pre>&lt;%= render :partial =&gt; &quot;account&quot;, :locals =&gt; { :account =&gt; @buyer } %&gt;

&lt;% for ad in @advertisements %&gt;
  &lt;%= render :partial =&gt; &quot;ad&quot;, :locals =&gt; { :ad =&gt; ad } %&gt;
&lt;% end %&gt;</pre>

<p>This would first render “advertiser/_account.rhtml” with @buyer passed in
as the local variable <code>account</code>, then render 
“advertiser/_ad.rhtml” and pass the local variable <code>ad</code> to the
template for display.</p>

<h2 id="label-Rendering+a+collection+of+partials">Rendering a collection of partials</h2>

<p>The example of partial use describes a familiar pattern where a template
needs to iterate over an array and render a sub template for each of the
elements. This pattern has been implemented as a single method that accepts
an array and renders a partial by the same name as the elements contained
within. So the three-lined example in “Using partials” can be rewritten
with a single line:</p>

<pre>&lt;%= render :partial =&gt; &quot;ad&quot;, :collection =&gt; @advertisements %&gt;</pre>

<p>This will render “advertiser/_ad.rhtml” and pass the local variable
<code>ad</code> to the template for display. An iteration counter will
automatically be made available to the template with a name of the form
<code>partial_name_counter</code>. In the case of the  example above, the
template would be fed <code>ad_counter</code>.</p>

<p>NOTE: Due to backwards compatibility concerns, the collection can’t be one
of hashes. Normally you’d also just keep domain objects, like Active
Records, in there.</p>

<h2 id="label-Rendering+shared+partials">Rendering shared partials</h2>

<p>Two controllers can share a set of partials and render them like this:</p>

<pre>&lt;%= render :partial =&gt; &quot;advertisement/ad&quot;, :locals =&gt; { :ad =&gt; @advertisement } %&gt;</pre>

<p>This will render the partial “advertisement/_ad.rhtml” regardless of which
controller this is being called from.</p>

    </div>
  


  


  
  


  


  

  



  

    

    

    


    


    <!-- Methods -->
              </div>
    </div>
  </body>
</html>    