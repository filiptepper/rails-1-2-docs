<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>ActionView::Helpers::UrlHelper</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link rel="stylesheet" href="../../../css/reset.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../../../css/main.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../../../css/github.css" type="text/css" media="screen" />
<script src="../../../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
<script src="../../../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
<script src="../../../js/main.js" type="text/javascript" charset="utf-8"></script>
<script src="../../../js/highlight.pack.js" type="text/javascript" charset="utf-8"></script>

</head>

<body>     
    <div class="banner">
        
        <h1>
            <span class="type">Module</span> 
            ActionView::Helpers::UrlHelper 
            
        </h1>
        <ul class="files">
            
            <li><a href="../../../files/rails/actionpack/lib/action_view/helpers/url_helper_rb.html">rails/actionpack/lib/action_view/helpers/url_helper.rb</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
  
    <div class="description">
      
<p>Provides a set of methods for making easy links and getting urls that 
depend on the controller and action. This means that you can use the  same
format for links in the views that you do in the controller.</p>

    </div>
  


  


  
  


  


  
    <!-- Method ref -->
    <div class="sectiontitle">Methods</div>
    <dl class="methods">
      
        <dt>B</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-button_to">button_to</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>C</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-current_page-3F">current_page?</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>L</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-link_image_to">link_image_to</a>,
              </li>
            
              
              <li>
                <a href="#method-i-link_to">link_to</a>,
              </li>
            
              
              <li>
                <a href="#method-i-link_to_if">link_to_if</a>,
              </li>
            
              
              <li>
                <a href="#method-i-link_to_image">link_to_image</a>,
              </li>
            
              
              <li>
                <a href="#method-i-link_to_unless">link_to_unless</a>,
              </li>
            
              
              <li>
                <a href="#method-i-link_to_unless_current">link_to_unless_current</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>M</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-mail_to">mail_to</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>U</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-url_for">url_for</a>
              </li>
            
          </ul>
        </dd>
      
    </dl>
  

  
    <!-- Includes -->
    <div class="sectiontitle">Included Modules</div>
    <ul>
      
        <li>
          
            <a href="JavaScriptHelper.html">
              ActionView::Helpers::JavaScriptHelper
            </a>
          
        </li>
      
    </ul>
  



  

    

    

    


    


    <!-- Methods -->
        
      <div class="sectiontitle">Instance Public methods</div>
      
        <div class="method">
          <div class="title method-title" id="method-i-button_to">
            
              <a name="method-i-button_to"></a><b>button_to</b>(name, options = {}, html_options = {})
            
          </div>
          
          
            <div class="description">
              <p>Generates a form containing a single button that submits to the URL created
by the set of <code>options</code>. This is the safest method to ensure
links that cause changes to your data are not triggered by search bots or
accelerators. If the <a href="../../HTML.html">HTML</a> button does not
work with your layout, you can also consider using the <a
href="UrlHelper.html#method-i-link_to">#link_to</a> method with the
<code>:method</code> modifier as described in the <a
href="UrlHelper.html#method-i-link_to">#link_to</a> documentation.</p>

<p>The generated FORM element has a class name of <code>button-to</code> to
allow styling of the form itself and its children. You can control the form
submission and input element behavior using <code>html_options</code>. This
method accepts the <code>:method</code> and <code>:confirm</code> modifiers
described in the <a href="UrlHelper.html#method-i-link_to">#link_to</a>
documentation. If no <code>:method</code> modifier is given, it will
default to performing a POST operation. You can also  disable the button by
passing <code>:disabled =&gt; true</code> in <code>html_options</code>.</p>

<pre class="ruby"><span class="ruby-identifier">button_to</span> <span class="ruby-string">&quot;New&quot;</span>, :<span class="ruby-identifier">action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;new&quot;</span>
</pre>

<p>Generates the following HTML:</p>

<pre class="ruby"><span class="ruby-operator">&lt;</span><span class="ruby-identifier">form</span> <span class="ruby-identifier">method</span>=<span class="ruby-string">&quot;post&quot;</span> <span class="ruby-identifier">action</span>=<span class="ruby-string">&quot;/controller/new&quot;</span> <span class="ruby-keyword">class</span>=<span class="ruby-string">&quot;button-to&quot;</span><span class="ruby-operator">&gt;</span>
  <span class="ruby-operator">&lt;</span><span class="ruby-identifier">div</span><span class="ruby-operator">&gt;</span><span class="ruby-operator">&lt;</span><span class="ruby-identifier">input</span> <span class="ruby-identifier">value</span>=<span class="ruby-string">&quot;New&quot;</span> <span class="ruby-identifier">type</span>=<span class="ruby-string">&quot;submit&quot;</span> <span class="ruby-operator">/</span><span class="ruby-operator">&gt;</span><span class="ruby-operator">&lt;</span><span class="ruby-regexp">%rdiv&gt;
&lt;/</span><span class="ruby-identifier">form</span><span class="ruby-operator">&gt;</span>
</pre>

<p>If you are using RESTful routes, you can pass the <code>:method</code> to
change the HTTP verb used to submit the form.</p>

<pre class="ruby"><span class="ruby-identifier">button_to</span> <span class="ruby-string">&quot;Delete Image&quot;</span>, { :<span class="ruby-identifier">action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;delete&quot;</span>, :<span class="ruby-identifier">id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@image</span>.<span class="ruby-identifier">id</span> },
          :<span class="ruby-identifier">confirm</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;Are you sure?&quot;</span>, :<span class="ruby-identifier">method</span> =<span class="ruby-operator">&gt;</span> :<span class="ruby-identifier">delete</span>
</pre>

<p>Which generates the following HTML:</p>

<pre class="ruby"><span class="ruby-operator">&lt;</span><span class="ruby-identifier">form</span> <span class="ruby-identifier">method</span>=<span class="ruby-string">&quot;post&quot;</span> <span class="ruby-identifier">action</span>=<span class="ruby-string">&quot;/images/delete/1&quot;</span> <span class="ruby-keyword">class</span>=<span class="ruby-string">&quot;button-to&quot;</span><span class="ruby-operator">&gt;</span>
  <span class="ruby-operator">&lt;</span><span class="ruby-identifier">div</span><span class="ruby-operator">&gt;</span>
    <span class="ruby-operator">&lt;</span><span class="ruby-identifier">input</span> <span class="ruby-identifier">type</span>=<span class="ruby-string">&quot;hidden&quot;</span> <span class="ruby-identifier">name</span>=<span class="ruby-string">&quot;_method&quot;</span> <span class="ruby-identifier">value</span>=<span class="ruby-string">&quot;delete&quot;</span> <span class="ruby-operator">/</span><span class="ruby-operator">&gt;</span>
    <span class="ruby-operator">&lt;</span><span class="ruby-identifier">input</span> <span class="ruby-identifier">onclick</span>=<span class="ruby-string">&quot;return confirm('Are you sure?');&quot;</span>
              <span class="ruby-identifier">value</span>=<span class="ruby-string">&quot;Delete&quot;</span> <span class="ruby-identifier">type</span>=<span class="ruby-string">&quot;submit&quot;</span> <span class="ruby-operator">/</span><span class="ruby-operator">&gt;</span>
  <span class="ruby-operator">&lt;</span><span class="ruby-regexp">%rdiv&gt;
&lt;/</span><span class="ruby-identifier">form</span><span class="ruby-operator">&gt;</span>
</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-button_to_source')" id="l_method-i-button_to_source">show</a>
                
              </p>
              <div id="method-i-button_to_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/actionpack/lib/action_view/helpers/url_helper.rb, line 117</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">button_to</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">options</span> = {}, <span class="ruby-identifier">html_options</span> = {})
  <span class="ruby-identifier">html_options</span> = <span class="ruby-identifier">html_options</span>.<span class="ruby-identifier">stringify_keys</span>
  <span class="ruby-identifier">convert_boolean_attributes!</span>(<span class="ruby-identifier">html_options</span>, <span class="ruby-node">%w( disabled )</span>)

  <span class="ruby-identifier">method_tag</span> = <span class="ruby-string">''</span>
  <span class="ruby-keyword">if</span> (<span class="ruby-identifier">method</span> = <span class="ruby-identifier">html_options</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-string">'method'</span>)) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-node">%w{put delete}</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">method</span>.<span class="ruby-identifier">to_s</span>)
    <span class="ruby-identifier">method_tag</span> = <span class="ruby-identifier">tag</span>(<span class="ruby-string">'input'</span>, <span class="ruby-value">:type</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'hidden'</span>, <span class="ruby-value">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'_method'</span>, <span class="ruby-value">:value</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">method</span>.<span class="ruby-identifier">to_s</span>)
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">form_method</span> = <span class="ruby-identifier">method</span>.<span class="ruby-identifier">to_s</span> <span class="ruby-operator">==</span> <span class="ruby-string">'get'</span> <span class="ruby-operator">?</span> <span class="ruby-string">'get'</span> <span class="ruby-operator">:</span> <span class="ruby-string">'post'</span>

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">confirm</span> = <span class="ruby-identifier">html_options</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-string">&quot;confirm&quot;</span>)
    <span class="ruby-identifier">html_options</span>[<span class="ruby-string">&quot;onclick&quot;</span>] = <span class="ruby-node">&quot;return #{confirm_javascript_function(confirm)};&quot;</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">url</span> = <span class="ruby-identifier">options</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">String</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">options</span> <span class="ruby-operator">:</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">url_for</span>(<span class="ruby-identifier">options</span>)
  <span class="ruby-identifier">name</span> <span class="ruby-operator">||=</span> <span class="ruby-identifier">url</span>

  <span class="ruby-identifier">html_options</span>.<span class="ruby-identifier">merge!</span>(<span class="ruby-string">&quot;type&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;submit&quot;</span>, <span class="ruby-string">&quot;value&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">name</span>)
  
  <span class="ruby-node">&quot;&lt;form method=\&quot;#{form_method}\&quot; action=\&quot;#{escape_once url}\&quot; class=\&quot;button-to\&quot;&gt;&lt;div&gt;&quot;</span> <span class="ruby-operator">+</span> 
    <span class="ruby-identifier">method_tag</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">tag</span>(<span class="ruby-string">&quot;input&quot;</span>, <span class="ruby-identifier">html_options</span>) <span class="ruby-operator">+</span> <span class="ruby-string">&quot;&lt;/div&gt;&lt;/form&gt;&quot;</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-current_page-3F">
            
              <a name="method-i-current_page-3F"></a><b>current_page?</b>(options)
            
          </div>
          
          
            <div class="description">
              <p>True if the current request uri was generated by the given
<code>options</code>.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-current_page-3F_source')" id="l_method-i-current_page-3F_source">show</a>
                
              </p>
              <div id="method-i-current_page-3F_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/actionpack/lib/action_view/helpers/url_helper.rb, line 314</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">current_page?</span>(<span class="ruby-identifier">options</span>)
  <span class="ruby-identifier">url_string</span> = <span class="ruby-constant">CGI</span>.<span class="ruby-identifier">escapeHTML</span>(<span class="ruby-identifier">url_for</span>(<span class="ruby-identifier">options</span>))
  <span class="ruby-identifier">request</span> = <span class="ruby-ivar">@controller</span>.<span class="ruby-identifier">request</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">url_string</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp">%r^\w+:\/\//</span>
    <span class="ruby-identifier">url_string</span> <span class="ruby-operator">==</span> <span class="ruby-node">&quot;#{request.protocol}#{request.host_with_port}#{request.request_uri}&quot;</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">url_string</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">request</span>.<span class="ruby-identifier">request_uri</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-link_image_to">
            
              <a name="method-i-link_image_to"></a><b>link_image_to</b>(src, options = {}, html_options = {}, *parameters_for_method_reference)
            
          </div>
          
          
            <div class="description">
              <p>DEPRECATED. It is reccommended to use the AssetTagHelper::image_tag within
a <a href="UrlHelper.html#method-i-link_to">#link_to</a> method to generate
a linked image.</p>

<pre class="ruby"><span class="ruby-identifier">link_to</span>(<span class="ruby-identifier">image_tag</span>(<span class="ruby-string">&quot;rss&quot;</span>, :<span class="ruby-identifier">size</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;30x45&quot;</span>, :<span class="ruby-identifier">border</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span>), <span class="ruby-string">&quot;http://www.example.com&quot;</span>)
</pre>
            </div>
          
          
          
            <div class="aka">
              Also aliased as: <a href="UrlHelper.html#method-i-link_to_image">link_to_image</a>
            </div>
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-link_image_to_source')" id="l_method-i-link_image_to_source">show</a>
                
              </p>
              <div id="method-i-link_image_to_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/actionpack/lib/action_view/helpers/url_helper.rb, line 146</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">link_image_to</span>(<span class="ruby-identifier">src</span>, <span class="ruby-identifier">options</span> = {}, <span class="ruby-identifier">html_options</span> = {}, *<span class="ruby-identifier">parameters_for_method_reference</span>)
  <span class="ruby-identifier">image_options</span> = { <span class="ruby-string">&quot;src&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">src</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-string">&quot;/&quot;</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">src</span> <span class="ruby-operator">:</span> <span class="ruby-node">&quot;/images/#{src}&quot;</span> }
  <span class="ruby-identifier">image_options</span>[<span class="ruby-string">&quot;src&quot;</span>] <span class="ruby-operator">+=</span> <span class="ruby-string">&quot;.png&quot;</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">image_options</span>[<span class="ruby-string">&quot;src&quot;</span>].<span class="ruby-identifier">include?</span>(<span class="ruby-string">&quot;.&quot;</span>)

  <span class="ruby-identifier">html_options</span> = <span class="ruby-identifier">html_options</span>.<span class="ruby-identifier">stringify_keys</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">html_options</span>[<span class="ruby-string">&quot;alt&quot;</span>]
    <span class="ruby-identifier">image_options</span>[<span class="ruby-string">&quot;alt&quot;</span>] = <span class="ruby-identifier">html_options</span>[<span class="ruby-string">&quot;alt&quot;</span>]
    <span class="ruby-identifier">html_options</span>.<span class="ruby-identifier">delete</span> <span class="ruby-string">&quot;alt&quot;</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">image_options</span>[<span class="ruby-string">&quot;alt&quot;</span>] = <span class="ruby-identifier">src</span>.<span class="ruby-identifier">split</span>(<span class="ruby-string">&quot;/&quot;</span>).<span class="ruby-identifier">last</span>.<span class="ruby-identifier">split</span>(<span class="ruby-string">&quot;.&quot;</span>).<span class="ruby-identifier">first</span>.<span class="ruby-identifier">capitalize</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">html_options</span>[<span class="ruby-string">&quot;size&quot;</span>]
    <span class="ruby-identifier">image_options</span>[<span class="ruby-string">&quot;width&quot;</span>], <span class="ruby-identifier">image_options</span>[<span class="ruby-string">&quot;height&quot;</span>] = <span class="ruby-identifier">html_options</span>[<span class="ruby-string">&quot;size&quot;</span>].<span class="ruby-identifier">split</span>(<span class="ruby-string">&quot;x&quot;</span>)
    <span class="ruby-identifier">html_options</span>.<span class="ruby-identifier">delete</span> <span class="ruby-string">&quot;size&quot;</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">html_options</span>[<span class="ruby-string">&quot;border&quot;</span>]
    <span class="ruby-identifier">image_options</span>[<span class="ruby-string">&quot;border&quot;</span>] = <span class="ruby-identifier">html_options</span>[<span class="ruby-string">&quot;border&quot;</span>]
    <span class="ruby-identifier">html_options</span>.<span class="ruby-identifier">delete</span> <span class="ruby-string">&quot;border&quot;</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">html_options</span>[<span class="ruby-string">&quot;align&quot;</span>]
    <span class="ruby-identifier">image_options</span>[<span class="ruby-string">&quot;align&quot;</span>] = <span class="ruby-identifier">html_options</span>[<span class="ruby-string">&quot;align&quot;</span>]
    <span class="ruby-identifier">html_options</span>.<span class="ruby-identifier">delete</span> <span class="ruby-string">&quot;align&quot;</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">link_to</span>(<span class="ruby-identifier">tag</span>(<span class="ruby-string">&quot;img&quot;</span>, <span class="ruby-identifier">image_options</span>), <span class="ruby-identifier">options</span>, <span class="ruby-identifier">html_options</span>, *<span class="ruby-identifier">parameters_for_method_reference</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-link_to">
            
              <a name="method-i-link_to"></a><b>link_to</b>(name, options = {}, html_options = nil, *parameters_for_method_reference)
            
          </div>
          
          
            <div class="description">
              <p>Creates a link tag of the given <code>name</code> using a URL created by
the set  of <code>options</code>. See the valid options in the
documentation for  <a
href="../../ActionController/Base.html#method-i-url_for">ActionController::Base#url_for</a>.
It’s also possible to pass a string instead  of an options hash to get a
link tag that uses the value of the string as the  href for the link. If
nil is passed as a name, the link itself will become  the name.</p>

<p>The <code>html_options</code> will accept a hash of html attributes for the
link tag. It also accepts 3 modifiers that specialize the link behavior.</p>
<ul><li>
<p><code>:confirm =&gt; 'question?'</code>: This will add a JavaScript confirm
prompt with the question specified. If the user accepts, the link is 
processed normally, otherwise no action is taken.</p>
</li><li>
<p><code>:popup =&gt; true || array of window options</code>: This will force
the  link to open in a popup window. By passing true, a default browser
window  will be opened with the URL. You can also specify an array of
options  that are passed-thru to JavaScripts window.open method.</p>
</li><li>
<p><code>:method =&gt; symbol of HTTP verb</code>: This modifier will
dynamically create an <a href="../../HTML.html">HTML</a> form and
immediately submit the form for processing using  the HTTP verb specified.
Useful for having links perform a POST operation in dangerous actions like
deleting a record (which search bots can follow while spidering your site).
Supported verbs are :post, :delete and :put. Note that if the user has
JavaScript disabled, the request will fall back  to using GET. If you are
relying on the POST behavior, your should check for it in your controllers
action by using the request objects methods for post?, delete? or put?.</p>
</li></ul>

<p>You can mix and match the <code>html_options</code> with the exception of
:popup and :method which will raise an ActionView::ActionViewError
exception.</p>

<pre class="ruby"><span class="ruby-identifier">link_to</span> <span class="ruby-string">&quot;Visit Other Site&quot;</span>, <span class="ruby-string">&quot;http://www.rubyonrails.org/&quot;</span>, :<span class="ruby-identifier">confirm</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;Are you sure?&quot;</span>
<span class="ruby-identifier">link_to</span> <span class="ruby-string">&quot;Help&quot;</span>, { :<span class="ruby-identifier">action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;help&quot;</span> }, :<span class="ruby-identifier">popup</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>
<span class="ruby-identifier">link_to</span> <span class="ruby-string">&quot;View Image&quot;</span>, { :<span class="ruby-identifier">action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;view&quot;</span> }, :<span class="ruby-identifier">popup</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-string">'new_window_name'</span>, <span class="ruby-string">'height=300,width=600'</span>]
<span class="ruby-identifier">link_to</span> <span class="ruby-string">&quot;Delete Image&quot;</span>, { :<span class="ruby-identifier">action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;delete&quot;</span>, :<span class="ruby-identifier">id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@image</span>.<span class="ruby-identifier">id</span> }, :<span class="ruby-identifier">confirm</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;Are you sure?&quot;</span>, :<span class="ruby-identifier">method</span> =<span class="ruby-operator">&gt;</span> :<span class="ruby-identifier">delete</span>
</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-link_to_source')" id="l_method-i-link_to_source">show</a>
                
              </p>
              <div id="method-i-link_to_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/actionpack/lib/action_view/helpers/url_helper.rb, line 66</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">link_to</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">options</span> = {}, <span class="ruby-identifier">html_options</span> = <span class="ruby-keyword">nil</span>, *<span class="ruby-identifier">parameters_for_method_reference</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">html_options</span>
    <span class="ruby-identifier">html_options</span> = <span class="ruby-identifier">html_options</span>.<span class="ruby-identifier">stringify_keys</span>
    <span class="ruby-identifier">convert_options_to_javascript!</span>(<span class="ruby-identifier">html_options</span>)
    <span class="ruby-identifier">tag_options</span> = <span class="ruby-identifier">tag_options</span>(<span class="ruby-identifier">html_options</span>)
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">tag_options</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">url</span> = <span class="ruby-identifier">options</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">String</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">options</span> <span class="ruby-operator">:</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">url_for</span>(<span class="ruby-identifier">options</span>, *<span class="ruby-identifier">parameters_for_method_reference</span>)
  <span class="ruby-node">&quot;&lt;a href=\&quot;#{url}\&quot;#{tag_options}&gt;#{name || url}&lt;/a&gt;&quot;</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-link_to_if">
            
              <a name="method-i-link_to_if"></a><b>link_to_if</b>(condition, name, options = {}, html_options = {}, *parameters_for_method_reference, &amp;block)
            
          </div>
          
          
            <div class="description">
              <p>Creates a link tag of the given <code>name</code> using a URL created by
the set of <code>options</code> if <code>condition</code> is true, in which
case only the name is  returned. To specialize the default behavior, you
can pass a block that accepts the name or the full argument list for <a
href="UrlHelper.html#method-i-link_to_unless">#link_to_unless</a> (see the
examples in <a
href="UrlHelper.html#method-i-link_to_unless">#link_to_unless</a>).</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-link_to_if_source')" id="l_method-i-link_to_if_source">show</a>
                
              </p>
              <div id="method-i-link_to_if_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/actionpack/lib/action_view/helpers/url_helper.rb, line 229</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">link_to_if</span>(<span class="ruby-identifier">condition</span>, <span class="ruby-identifier">name</span>, <span class="ruby-identifier">options</span> = {}, <span class="ruby-identifier">html_options</span> = {}, *<span class="ruby-identifier">parameters_for_method_reference</span>, &amp;<span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">link_to_unless</span> <span class="ruby-operator">!</span><span class="ruby-identifier">condition</span>, <span class="ruby-identifier">name</span>, <span class="ruby-identifier">options</span>, <span class="ruby-identifier">html_options</span>, *<span class="ruby-identifier">parameters_for_method_reference</span>, &amp;<span class="ruby-identifier">block</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-link_to_image">
            
              <a name="method-i-link_to_image"></a><b>link_to_image</b>(src, options = {}, html_options = {}, *parameters_for_method_reference)
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-link_to_unless">
            
              <a name="method-i-link_to_unless"></a><b>link_to_unless</b>(condition, name, options = {}, html_options = {}, *parameters_for_method_reference, &amp;block)
            
          </div>
          
          
            <div class="description">
              <p>Creates a link tag of the given <code>name</code> using a URL created by
the set of <code>options</code> unless <code>condition</code> is true, in
which case only the name is  returned. To specialize the default behavior,
you can pass a block that accepts the name or the full argument list for <a
href="UrlHelper.html#method-i-link_to_unless">#link_to_unless</a> (see the
example).</p>

<pre>&lt;%= link_to_unless(@current_user.nil?, &quot;Reply&quot;, { :action =&gt; &quot;reply&quot; }) %&gt;</pre>

<p>This example uses a block to modify the link if the condition isn’t met.</p>

<pre>&lt;%= link_to_unless(@current_user.nil?, &quot;Reply&quot;, { :action =&gt; &quot;reply&quot; }) do |name|
   link_to(name, { :controller =&gt; &quot;accounts&quot;, :action =&gt; &quot;signup&quot; })
 end %&gt;</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-link_to_unless_source')" id="l_method-i-link_to_unless_source">show</a>
                
              </p>
              <div id="method-i-link_to_unless_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/actionpack/lib/action_view/helpers/url_helper.rb, line 212</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">link_to_unless</span>(<span class="ruby-identifier">condition</span>, <span class="ruby-identifier">name</span>, <span class="ruby-identifier">options</span> = {}, <span class="ruby-identifier">html_options</span> = {}, *<span class="ruby-identifier">parameters_for_method_reference</span>, &amp;<span class="ruby-identifier">block</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">condition</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">block_given?</span>
      <span class="ruby-identifier">block</span>.<span class="ruby-identifier">arity</span> <span class="ruby-operator">&lt;=</span> <span class="ruby-number">1</span> <span class="ruby-operator">?</span> <span class="ruby-keyword">yield</span>(<span class="ruby-identifier">name</span>) <span class="ruby-operator">:</span> <span class="ruby-keyword">yield</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">options</span>, <span class="ruby-identifier">html_options</span>, *<span class="ruby-identifier">parameters_for_method_reference</span>)
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">name</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">link_to</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">options</span>, <span class="ruby-identifier">html_options</span>, *<span class="ruby-identifier">parameters_for_method_reference</span>)
  <span class="ruby-keyword">end</span>  
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-link_to_unless_current">
            
              <a name="method-i-link_to_unless_current"></a><b>link_to_unless_current</b>(name, options = {}, html_options = {}, *parameters_for_method_reference, &amp;block)
            
          </div>
          
          
            <div class="description">
              <p>Creates a link tag of the given <code>name</code> using a URL created by
the set of <code>options</code> unless the current request uri is the same
as the links, in  which case only the name is returned (or the given block
is yielded, if one exists). Refer to the documentation for <a
href="UrlHelper.html#method-i-link_to_unless">#link_to_unless</a> for block
usage.</p>

<pre>&lt;ul id=&quot;navbar&quot;&gt;
  &lt;li&gt;&lt;%= link_to_unless_current(&quot;Home&quot;, { :action =&gt; &quot;index&quot; }) %&gt;&lt;/li&gt;
  &lt;li&gt;&lt;%= link_to_unless_current(&quot;About Us&quot;, { :action =&gt; &quot;about&quot; }) %&gt;&lt;/li&gt;
&lt;/ul&gt;</pre>

<p>This will render the following <a href="../../HTML.html">HTML</a> when on
the about us page:</p>

<pre>&lt;ul id=&quot;navbar&quot;&gt;
  &lt;li&gt;&lt;a href=&quot;/controller/index&quot;&gt;Home&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;About Us&lt;/li&gt;
&lt;/ul&gt;</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-link_to_unless_current_source')" id="l_method-i-link_to_unless_current_source">show</a>
                
              </p>
              <div id="method-i-link_to_unless_current_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/actionpack/lib/action_view/helpers/url_helper.rb, line 196</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">link_to_unless_current</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">options</span> = {}, <span class="ruby-identifier">html_options</span> = {}, *<span class="ruby-identifier">parameters_for_method_reference</span>, &amp;<span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">link_to_unless</span> <span class="ruby-identifier">current_page?</span>(<span class="ruby-identifier">options</span>), <span class="ruby-identifier">name</span>, <span class="ruby-identifier">options</span>, <span class="ruby-identifier">html_options</span>, *<span class="ruby-identifier">parameters_for_method_reference</span>, &amp;<span class="ruby-identifier">block</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-mail_to">
            
              <a name="method-i-mail_to"></a><b>mail_to</b>(email_address, name = nil, html_options = {})
            
          </div>
          
          
            <div class="description">
              <p>Creates a mailto link tag to the specified <code>email_address</code>,
which is also used as the name of the link unless <code>name</code> is
specified. Additional html attributes for the link can be passed in
<code>html_options</code>.</p>

<p><a href="UrlHelper.html#method-i-mail_to">#mail_to</a> has several methods
for hindering email harvestors and customizing the email itself by passing
special keys to <code>html_options</code>.</p>

<p>Special <a href="../../HTML.html">HTML</a> Options:</p>
<ul><li>
<p><code>:encode</code>  - This key will accept the strings "javascript" or
"hex". Passing "javascript" will dynamically create and encode the mailto:
link then eval it into the DOM of the page. This method will not show the
link on the page if the user has JavaScript disabled. Passing "hex" will
hex encode the <code>email_address</code> before outputting the mailto:
link.</p>
</li><li>
<p><code>:replace_at</code>  - When the link <code>name</code> isn't provided,
the <code>email_address</code> is used for the link label. You can use this
option to obfuscate the <code>email_address</code> by substituting the @
sign with the string given as the value.</p>
</li><li>
<p><code>:replace_dot</code>  - When the link <code>name</code> isn't
provided, the <code>email_address</code> is used for the link label. You
can use this option to obfuscate the <code>email_address</code> by
substituting the . in the email with the string given as the value.</p>
</li><li>
<p><code>:subject</code>  - Preset the subject line of the email.</p>
</li><li>
<p><code>:body</code> - Preset the body of the email.</p>
</li><li>
<p><code>:cc</code>  - Carbon Copy addition recipients on the email.</p>
</li><li>
<p><code>:bcc</code>  - Blind Carbon Copy additional recipients on the email.</p>
</li></ul>

<p>Examples:</p>

<pre class="ruby"><span class="ruby-identifier">mail_to</span> <span class="ruby-string">&quot;me@domain.com&quot;</span>  <span class="ruby-comment"># =&gt; &lt;a href=&quot;mailto:me@domain.com&quot;&gt;me@domain.com&lt;/a&gt;</span>
<span class="ruby-identifier">mail_to</span> <span class="ruby-string">&quot;me@domain.com&quot;</span>, <span class="ruby-string">&quot;My email&quot;</span>, :<span class="ruby-identifier">encode</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;javascript&quot;</span>  <span class="ruby-comment"># =&gt;</span>
  <span class="ruby-operator">&lt;</span><span class="ruby-identifier">script</span> <span class="ruby-identifier">type</span>=<span class="ruby-string">&quot;text/javascript&quot;</span><span class="ruby-operator">&gt;</span><span class="ruby-identifier">eval</span>(<span class="ruby-identifier">unescape</span>(<span class="ruby-string">'%64%6f%63...%6d%65%6e'</span>))<span class="ruby-operator">&lt;</span><span class="ruby-node">%rscript&gt;

mail_to &quot;me@domain.com&quot;, &quot;My email&quot;, :encode =&gt; &quot;hex&quot;  # =&gt;
  &lt;a href=&quot;mailto:%6d%65@%64%6f%6d%61%69%6e.%63%6f%6d&quot;&gt;My email&lt;/</span><span class="ruby-identifier">a</span><span class="ruby-operator">&gt;</span>

<span class="ruby-identifier">mail_to</span> <span class="ruby-string">&quot;me@domain.com&quot;</span>, <span class="ruby-keyword">nil</span>, :<span class="ruby-identifier">replace_at</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;_at_&quot;</span>, :<span class="ruby-identifier">replace_dot</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;_dot_&quot;</span>, :<span class="ruby-keyword">class</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;email&quot;</span>  <span class="ruby-comment"># =&gt;</span>
  <span class="ruby-operator">&lt;</span><span class="ruby-identifier">a</span> <span class="ruby-identifier">href</span>=<span class="ruby-string">&quot;mailto:me@domain.com&quot;</span> <span class="ruby-keyword">class</span>=<span class="ruby-string">&quot;email&quot;</span><span class="ruby-operator">&gt;</span><span class="ruby-identifier">me_at_domain_dot_com</span><span class="ruby-operator">&lt;</span><span class="ruby-node">%ra&gt;

mail_to &quot;me@domain.com&quot;, &quot;My email&quot;, :cc =&gt; &quot;ccaddress@domain.com&quot;, 
         :subject =&gt; &quot;This is an example email&quot;  # =&gt;
  &lt;a href=&quot;mailto:me@domain.com?cc=ccaddress@domain.com&amp;subject=This%20is%20an%20example%20email&quot;&gt;My email&lt;/</span><span class="ruby-identifier">a</span><span class="ruby-operator">&gt;</span>
</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-mail_to_source')" id="l_method-i-mail_to_source">show</a>
                
              </p>
              <div id="method-i-mail_to_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/actionpack/lib/action_view/helpers/url_helper.rb, line 274</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">mail_to</span>(<span class="ruby-identifier">email_address</span>, <span class="ruby-identifier">name</span> = <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">html_options</span> = {})
  <span class="ruby-identifier">html_options</span> = <span class="ruby-identifier">html_options</span>.<span class="ruby-identifier">stringify_keys</span>
  <span class="ruby-identifier">encode</span> = <span class="ruby-identifier">html_options</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-string">&quot;encode&quot;</span>)
  <span class="ruby-identifier">cc</span>, <span class="ruby-identifier">bcc</span>, <span class="ruby-identifier">subject</span>, <span class="ruby-identifier">body</span> = <span class="ruby-identifier">html_options</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-string">&quot;cc&quot;</span>), <span class="ruby-identifier">html_options</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-string">&quot;bcc&quot;</span>), <span class="ruby-identifier">html_options</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-string">&quot;subject&quot;</span>), <span class="ruby-identifier">html_options</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-string">&quot;body&quot;</span>)

  <span class="ruby-identifier">string</span> = <span class="ruby-string">''</span>
  <span class="ruby-identifier">extras</span> = <span class="ruby-string">''</span>
  <span class="ruby-identifier">extras</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;cc=#{CGI.escape(cc).gsub(&quot;+&quot;, &quot;%20&quot;)}&amp;&quot;</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">cc</span>.<span class="ruby-identifier">nil?</span>
  <span class="ruby-identifier">extras</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;bcc=#{CGI.escape(bcc).gsub(&quot;+&quot;, &quot;%20&quot;)}&amp;&quot;</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">bcc</span>.<span class="ruby-identifier">nil?</span>
  <span class="ruby-identifier">extras</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;body=#{CGI.escape(body).gsub(&quot;+&quot;, &quot;%20&quot;)}&amp;&quot;</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">body</span>.<span class="ruby-identifier">nil?</span>
  <span class="ruby-identifier">extras</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;subject=#{CGI.escape(subject).gsub(&quot;+&quot;, &quot;%20&quot;)}&amp;&quot;</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">subject</span>.<span class="ruby-identifier">nil?</span>
  <span class="ruby-identifier">extras</span> = <span class="ruby-string">&quot;?&quot;</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">extras</span>.<span class="ruby-identifier">gsub!</span>(<span class="ruby-regexp">%r&amp;?$/</span>,<span class="ruby-string">&quot;&quot;</span>) <span class="ruby-keyword">unless</span> <span class="ruby-identifier">extras</span>.<span class="ruby-identifier">empty?</span>

  <span class="ruby-identifier">email_address</span> = <span class="ruby-identifier">email_address</span>.<span class="ruby-identifier">to_s</span>

  <span class="ruby-identifier">email_address_obfuscated</span> = <span class="ruby-identifier">email_address</span>.<span class="ruby-identifier">dup</span>
  <span class="ruby-identifier">email_address_obfuscated</span>.<span class="ruby-identifier">gsub!</span>(<span class="ruby-regexp">%r@/</span>, <span class="ruby-identifier">html_options</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-string">&quot;replace_at&quot;</span>)) <span class="ruby-keyword">if</span> <span class="ruby-identifier">html_options</span>.<span class="ruby-identifier">has_key?</span>(<span class="ruby-string">&quot;replace_at&quot;</span>)
  <span class="ruby-identifier">email_address_obfuscated</span>.<span class="ruby-identifier">gsub!</span>(<span class="ruby-regexp">%r\./</span>, <span class="ruby-identifier">html_options</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-string">&quot;replace_dot&quot;</span>)) <span class="ruby-keyword">if</span> <span class="ruby-identifier">html_options</span>.<span class="ruby-identifier">has_key?</span>(<span class="ruby-string">&quot;replace_dot&quot;</span>)

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">encode</span> <span class="ruby-operator">==</span> <span class="ruby-string">&quot;javascript&quot;</span>
    <span class="ruby-identifier">tmp</span> = <span class="ruby-node">&quot;document.write('#{content_tag(&quot;a&quot;, name || email_address, html_options.merge({ &quot;href&quot; =&gt; &quot;mailto:&quot;+email_address+extras }))}');&quot;</span>
    <span class="ruby-keyword">for</span> <span class="ruby-identifier">i</span> <span class="ruby-keyword">in</span> <span class="ruby-number">0</span><span class="ruby-operator">...</span><span class="ruby-identifier">tmp</span>.<span class="ruby-identifier">length</span>
      <span class="ruby-identifier">string</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">sprintf</span>(<span class="ruby-string">&quot;%%%x&quot;</span>,<span class="ruby-identifier">tmp</span>[<span class="ruby-identifier">i</span>])
    <span class="ruby-keyword">end</span>
    <span class="ruby-node">&quot;&lt;script type=\&quot;text/javascript\&quot;&gt;eval(unescape('#{string}'))&lt;/script&gt;&quot;</span>
  <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">encode</span> <span class="ruby-operator">==</span> <span class="ruby-string">&quot;hex&quot;</span>
    <span class="ruby-keyword">for</span> <span class="ruby-identifier">i</span> <span class="ruby-keyword">in</span> <span class="ruby-number">0</span><span class="ruby-operator">...</span><span class="ruby-identifier">email_address</span>.<span class="ruby-identifier">length</span>
      <span class="ruby-keyword">if</span> <span class="ruby-identifier">email_address</span>[<span class="ruby-identifier">i</span>,<span class="ruby-number">1</span>] <span class="ruby-operator">=~</span> <span class="ruby-regexp">%r\w/</span>
        <span class="ruby-identifier">string</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">sprintf</span>(<span class="ruby-string">&quot;%%%x&quot;</span>,<span class="ruby-identifier">email_address</span>[<span class="ruby-identifier">i</span>])
      <span class="ruby-keyword">else</span>
        <span class="ruby-identifier">string</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">email_address</span>[<span class="ruby-identifier">i</span>,<span class="ruby-number">1</span>]
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>
    <span class="ruby-identifier">content_tag</span> <span class="ruby-string">&quot;a&quot;</span>, <span class="ruby-identifier">name</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">email_address_obfuscated</span>, <span class="ruby-identifier">html_options</span>.<span class="ruby-identifier">merge</span>({ <span class="ruby-string">&quot;href&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">&quot;mailto:#{string}#{extras}&quot;</span> })
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">content_tag</span> <span class="ruby-string">&quot;a&quot;</span>, <span class="ruby-identifier">name</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">email_address_obfuscated</span>, <span class="ruby-identifier">html_options</span>.<span class="ruby-identifier">merge</span>({ <span class="ruby-string">&quot;href&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">&quot;mailto:#{email_address}#{extras}&quot;</span> })
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-url_for">
            
              <a name="method-i-url_for"></a><b>url_for</b>(options = {}, *parameters_for_method_reference)
            
          </div>
          
          
            <div class="description">
              <p>Returns the URL for the set of <code>options</code> provided. This takes
the  same options as <a href="UrlHelper.html#method-i-url_for">#url_for</a>
in action controller. For a list, see the  documentation for <a
href="../../ActionController/Base.html#method-i-url_for">ActionController::Base#url_for</a>.
Note that it’ll  set :only_path =&gt; true so you’ll get the relative
/controller/action  instead of the fully qualified <a
href="http://example.com/controller/action.">example.com/controller/action.</a></p>

<p>When called from a view, <a
href="UrlHelper.html#method-i-url_for">#url_for</a> returns an <a
href="../../HTML.html">HTML</a> escaped url. If you  need an unescaped url,
pass :escape =&gt; false in the <code>options</code>.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-url_for_source')" id="l_method-i-url_for_source">show</a>
                
              </p>
              <div id="method-i-url_for_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/actionpack/lib/action_view/helpers/url_helper.rb, line 19</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">url_for</span>(<span class="ruby-identifier">options</span> = {}, *<span class="ruby-identifier">parameters_for_method_reference</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">options</span>.<span class="ruby-identifier">kind_of?</span> <span class="ruby-constant">Hash</span>
    <span class="ruby-identifier">options</span> = { <span class="ruby-value">:only_path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span> }.<span class="ruby-identifier">update</span>(<span class="ruby-identifier">options</span>.<span class="ruby-identifier">symbolize_keys</span>)
    <span class="ruby-identifier">escape</span> = <span class="ruby-identifier">options</span>.<span class="ruby-identifier">key?</span>(<span class="ruby-value">:escape</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">options</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-value">:escape</span>) <span class="ruby-operator">:</span> <span class="ruby-keyword">true</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">escape</span> = <span class="ruby-keyword">true</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">url</span> = <span class="ruby-ivar">@controller</span>.<span class="ruby-identifier">send</span>(<span class="ruby-value">:url_for</span>, <span class="ruby-identifier">options</span>, *<span class="ruby-identifier">parameters_for_method_reference</span>)
  <span class="ruby-identifier">escape</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">html_escape</span>(<span class="ruby-identifier">url</span>) <span class="ruby-operator">:</span> <span class="ruby-identifier">url</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
                    </div>
    </div>
  </body>
</html>    