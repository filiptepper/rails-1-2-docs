<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>DependenciesTest</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link rel="stylesheet" href="../css/reset.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../css/main.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../css/github.css" type="text/css" media="screen" />
<script src="../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
<script src="../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
<script src="../js/main.js" type="text/javascript" charset="utf-8"></script>
<script src="../js/highlight.pack.js" type="text/javascript" charset="utf-8"></script>

</head>

<body>     
    <div class="banner">
        
        <h1>
            <span class="type">Class</span> 
            DependenciesTest 
            
                <span class="parent">&lt; 
                    
                    Test::Unit::TestCase
                    
                </span>
            
        </h1>
        <ul class="files">
            
            <li><a href="../files/rails/activesupport/test/dependencies_test_rb.html">rails/activesupport/test/dependencies_test.rb</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
  


  


  
  


  


  
    <!-- Method ref -->
    <div class="sectiontitle">Methods</div>
    <dl class="methods">
      
        <dt>F</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-failing_test_access_thru_and_upwards_fails">failing_test_access_thru_and_upwards_fails</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>T</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-teardown">teardown</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_application_should_special_case_application_controller">test_application_should_special_case_application_controller</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_as_load_path">test_as_load_path</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_autoload_doesnt_shadow_name_error">test_autoload_doesnt_shadow_name_error</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_autoload_doesnt_shadow_no_method_error_with_absolute_constant">test_autoload_doesnt_shadow_no_method_error_with_absolute_constant</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_autoload_doesnt_shadow_no_method_error_with_relative_constant">test_autoload_doesnt_shadow_no_method_error_with_relative_constant</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_autoloaded-3F">test_autoloaded?</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_class_with_nested_class">test_class_with_nested_class</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_class_with_nested_inline_class">test_class_with_nested_inline_class</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_class_with_nested_inline_subclass_of_parent">test_class_with_nested_inline_subclass_of_parent</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_const_missing_on_kernel_should_fallback_to_object">test_const_missing_on_kernel_should_fallback_to_object</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_const_missing_should_not_double_load">test_const_missing_should_not_double_load</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_const_missing_within_anonymous_module">test_const_missing_within_anonymous_module</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_custom_const_missing_should_work">test_custom_const_missing_should_work</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_dependency_which_raises_exception_isnt_added_to_loaded_set">test_dependency_which_raises_exception_isnt_added_to_loaded_set</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_directories_manifest_as_modules_unless_const_defined">test_directories_manifest_as_modules_unless_const_defined</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_directories_may_manifest_as_nested_classes">test_directories_may_manifest_as_nested_classes</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_file_search">test_file_search</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_file_search_uses_first_in_load_path">test_file_search_uses_first_in_load_path</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_file_with_multiple_constants_and_auto_loading">test_file_with_multiple_constants_and_auto_loading</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_file_with_multiple_constants_and_require_dependency">test_file_with_multiple_constants_and_require_dependency</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_load_once_constants_should_not_be_unloaded">test_load_once_constants_should_not_be_unloaded</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_load_once_paths_do_not_add_to_autoloaded_constants">test_load_once_paths_do_not_add_to_autoloaded_constants</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_load_once_paths_should_behave_when_recursively_loading">test_load_once_paths_should_behave_when_recursively_loading</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_loadable_constants_for_path_should_handle_empty_autoloads">test_loadable_constants_for_path_should_handle_empty_autoloads</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_loadable_constants_for_path_should_handle_relative_paths">test_loadable_constants_for_path_should_handle_relative_paths</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_loadable_constants_for_path_should_provide_all_results">test_loadable_constants_for_path_should_provide_all_results</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_loadable_constants_for_path_should_uniq_results">test_loadable_constants_for_path_should_uniq_results</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_loadable_constants_with_load_path_without_trailing_slash">test_loadable_constants_with_load_path_without_trailing_slash</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_missing_association_raises_nothing">test_missing_association_raises_nothing</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_missing_dependency_raises_missing_source_file">test_missing_dependency_raises_missing_source_file</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_module_loading">test_module_loading</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_module_with_nested_class">test_module_with_nested_class</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_module_with_nested_inline_class">test_module_with_nested_inline_class</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_mutual_dependencies_dont_infinite_loop">test_mutual_dependencies_dont_infinite_loop</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_nested_class_can_access_sibling">test_nested_class_can_access_sibling</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_nested_file_with_multiple_constants_and_auto_loading">test_nested_file_with_multiple_constants_and_auto_loading</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_nested_file_with_multiple_constants_and_require_dependency">test_nested_file_with_multiple_constants_and_require_dependency</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_nested_load_error_isnt_rescued">test_nested_load_error_isnt_rescued</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_new_constants_in_module">test_new_constants_in_module</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_new_constants_in_module_using_name">test_new_constants_in_module_using_name</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_new_constants_in_with_a_single_constant">test_new_constants_in_with_a_single_constant</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_new_constants_in_with_inherited_constants">test_new_constants_in_with_inherited_constants</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_new_constants_in_with_nesting">test_new_constants_in_with_nesting</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_new_contants_in_without_constants">test_new_contants_in_without_constants</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_non_existing_const_raises_name_error">test_non_existing_const_raises_name_error</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_non_existing_const_raises_name_error_with_fully_qualified_name">test_non_existing_const_raises_name_error_with_fully_qualified_name</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_preexisting_constants_are_not_marked_as_autoloaded">test_preexisting_constants_are_not_marked_as_autoloaded</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_qualified_const_defined">test_qualified_const_defined</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_qualified_const_defined_should_not_call_method_missing">test_qualified_const_defined_should_not_call_method_missing</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_qualified_name_for">test_qualified_name_for</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_removal_from_tree_should_be_detected">test_removal_from_tree_should_be_detected</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_remove_constant_handles_double_colon_at_start">test_remove_constant_handles_double_colon_at_start</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_smart_name_error_strings">test_smart_name_error_strings</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_tracking_identical_loaded_files">test_tracking_identical_loaded_files</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_tracking_loaded_files">test_tracking_loaded_files</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_unloadable">test_unloadable</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_unloadable_should_fail_with_anonymous_modules">test_unloadable_should_fail_with_anonymous_modules</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_unloadable_should_return_change_flag">test_unloadable_should_return_change_flag</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_warnings_should_be_enabled_on_first_load">test_warnings_should_be_enabled_on_first_load</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>W</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-with_loading">with_loading</a>
              </li>
            
          </ul>
        </dd>
      
    </dl>
  

  



  

    

    

    


    


    <!-- Methods -->
        
      <div class="sectiontitle">Instance Public methods</div>
      
        <div class="method">
          <div class="title method-title" id="method-i-failing_test_access_thru_and_upwards_fails">
            
              <a name="method-i-failing_test_access_thru_and_upwards_fails"></a><b>failing_test_access_thru_and_upwards_fails</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-failing_test_access_thru_and_upwards_fails_source')" id="l_method-i-failing_test_access_thru_and_upwards_fails_source">show</a>
                
              </p>
              <div id="method-i-failing_test_access_thru_and_upwards_fails_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/test/dependencies_test.rb, line 206</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">failing_test_access_thru_and_upwards_fails</span>
  <span class="ruby-identifier">with_loading</span> <span class="ruby-string">'autoloading_fixtures'</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span> <span class="ruby-keyword">defined?</span>(<span class="ruby-constant">ModuleFolder</span>)
    <span class="ruby-identifier">assert_raises</span>(<span class="ruby-constant">NameError</span>) { <span class="ruby-constant">ModuleFolder</span><span class="ruby-operator">::</span><span class="ruby-constant">Object</span> }
    <span class="ruby-identifier">assert_raises</span>(<span class="ruby-constant">NameError</span>) { <span class="ruby-constant">ModuleFolder</span><span class="ruby-operator">::</span><span class="ruby-constant">NestedClass</span><span class="ruby-operator">::</span><span class="ruby-constant">Object</span> }
    <span class="ruby-constant">Object</span>.<span class="ruby-identifier">send</span> <span class="ruby-value">:remove_const</span>, <span class="ruby-value">:ModuleFolder</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-teardown">
            
              <a name="method-i-teardown"></a><b>teardown</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-teardown_source')" id="l_method-i-teardown_source">show</a>
                
              </p>
              <div id="method-i-teardown_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/test/dependencies_test.rb, line 17</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">teardown</span>
  <span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">clear</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_application_should_special_case_application_controller">
            
              <a name="method-i-test_application_should_special_case_application_controller"></a><b>test_application_should_special_case_application_controller</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_application_should_special_case_application_controller_source')" id="l_method-i-test_application_should_special_case_application_controller_source">show</a>
                
              </p>
              <div id="method-i-test_application_should_special_case_application_controller_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/test/dependencies_test.rb, line 447</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_application_should_special_case_application_controller</span>
  <span class="ruby-identifier">with_loading</span> <span class="ruby-string">'autoloading_fixtures'</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">require_dependency</span> <span class="ruby-string">'application'</span>
    <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">10</span>, <span class="ruby-constant">ApplicationController</span>
    <span class="ruby-identifier">assert</span> <span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">autoloaded?</span>(<span class="ruby-value">:ApplicationController</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_as_load_path">
            
              <a name="method-i-test_as_load_path"></a><b>test_as_load_path</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_as_load_path_source')" id="l_method-i-test_as_load_path_source">show</a>
                
              </p>
              <div id="method-i-test_as_load_path_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/test/dependencies_test.rb, line 124</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_as_load_path</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">''</span>, <span class="ruby-constant">DependenciesTest</span>.<span class="ruby-identifier">as_load_path</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_autoload_doesnt_shadow_name_error">
            
              <a name="method-i-test_autoload_doesnt_shadow_name_error"></a><b>test_autoload_doesnt_shadow_name_error</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_autoload_doesnt_shadow_name_error_source')" id="l_method-i-test_autoload_doesnt_shadow_name_error_source">show</a>
                
              </p>
              <div id="method-i-test_autoload_doesnt_shadow_name_error_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/test/dependencies_test.rb, line 689</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_autoload_doesnt_shadow_name_error</span>
  <span class="ruby-identifier">with_loading</span> <span class="ruby-string">'autoloading_fixtures'</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-keyword">defined?</span>(<span class="ruby-operator">::</span><span class="ruby-constant">RaisesNameError</span>), <span class="ruby-string">&quot;::RaisesNameError is defined but it hasn't been referenced yet!&quot;</span>
    <span class="ruby-number">2</span>.<span class="ruby-identifier">times</span> <span class="ruby-keyword">do</span>
      <span class="ruby-keyword">begin</span>
        <span class="ruby-operator">::</span><span class="ruby-constant">RaisesNameError</span>.<span class="ruby-identifier">object_id</span>
        <span class="ruby-identifier">flunk</span> <span class="ruby-string">'should have raised NameError when autoloaded file referenced FooBarBaz'</span>
      <span class="ruby-keyword">rescue</span> <span class="ruby-constant">NameError</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">e</span>
        <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">'uninitialized constant RaisesNameError::FooBarBaz'</span>, <span class="ruby-identifier">e</span>.<span class="ruby-identifier">message</span>
      <span class="ruby-keyword">end</span>
      <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-keyword">defined?</span>(<span class="ruby-operator">::</span><span class="ruby-constant">RaisesNameError</span>), <span class="ruby-string">&quot;::RaisesNameError is defined but it should have failed!&quot;</span>
    <span class="ruby-keyword">end</span>

    <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-keyword">defined?</span>(<span class="ruby-constant">RaisesNameError</span>)
    <span class="ruby-number">2</span>.<span class="ruby-identifier">times</span> <span class="ruby-keyword">do</span>
      <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">NameError</span>) { <span class="ruby-constant">RaisesNameError</span> }
      <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-keyword">defined?</span>(<span class="ruby-operator">::</span><span class="ruby-constant">RaisesNameError</span>), <span class="ruby-string">&quot;::RaisesNameError is defined but it should have failed!&quot;</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>

<span class="ruby-keyword">ensure</span>
  <span class="ruby-constant">Object</span>.<span class="ruby-identifier">send</span>(<span class="ruby-value">:remove_const</span>, <span class="ruby-value">:RaisesNameError</span>) <span class="ruby-keyword">if</span> <span class="ruby-keyword">defined?</span>(<span class="ruby-operator">::</span><span class="ruby-constant">RaisesNameError</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_autoload_doesnt_shadow_no_method_error_with_absolute_constant">
            
              <a name="method-i-test_autoload_doesnt_shadow_no_method_error_with_absolute_constant"></a><b>test_autoload_doesnt_shadow_no_method_error_with_absolute_constant</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_autoload_doesnt_shadow_no_method_error_with_absolute_constant_source')" id="l_method-i-test_autoload_doesnt_shadow_no_method_error_with_absolute_constant_source">show</a>
                
              </p>
              <div id="method-i-test_autoload_doesnt_shadow_no_method_error_with_absolute_constant_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/test/dependencies_test.rb, line 676</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_autoload_doesnt_shadow_no_method_error_with_absolute_constant</span>
  <span class="ruby-identifier">with_loading</span> <span class="ruby-string">'autoloading_fixtures'</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-keyword">defined?</span>(<span class="ruby-operator">::</span><span class="ruby-constant">RaisesNoMethodError</span>), <span class="ruby-string">&quot;::RaisesNoMethodError is defined but it hasn't been referenced yet!&quot;</span>
    <span class="ruby-number">2</span>.<span class="ruby-identifier">times</span> <span class="ruby-keyword">do</span>
      <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">NoMethodError</span>) { <span class="ruby-operator">::</span><span class="ruby-constant">RaisesNoMethodError</span> }
      <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-keyword">defined?</span>(<span class="ruby-operator">::</span><span class="ruby-constant">RaisesNoMethodError</span>), <span class="ruby-string">&quot;::RaisesNoMethodError is defined but it should have failed!&quot;</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>

<span class="ruby-keyword">ensure</span>
  <span class="ruby-constant">Object</span>.<span class="ruby-identifier">send</span>(<span class="ruby-value">:remove_const</span>, <span class="ruby-value">:RaisesNoMethodError</span>) <span class="ruby-keyword">if</span> <span class="ruby-keyword">defined?</span>(<span class="ruby-operator">::</span><span class="ruby-constant">RaisesNoMethodError</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_autoload_doesnt_shadow_no_method_error_with_relative_constant">
            
              <a name="method-i-test_autoload_doesnt_shadow_no_method_error_with_relative_constant"></a><b>test_autoload_doesnt_shadow_no_method_error_with_relative_constant</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_autoload_doesnt_shadow_no_method_error_with_relative_constant_source')" id="l_method-i-test_autoload_doesnt_shadow_no_method_error_with_relative_constant_source">show</a>
                
              </p>
              <div id="method-i-test_autoload_doesnt_shadow_no_method_error_with_relative_constant_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/test/dependencies_test.rb, line 663</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_autoload_doesnt_shadow_no_method_error_with_relative_constant</span>
  <span class="ruby-identifier">with_loading</span> <span class="ruby-string">'autoloading_fixtures'</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-keyword">defined?</span>(<span class="ruby-operator">::</span><span class="ruby-constant">RaisesNoMethodError</span>), <span class="ruby-string">&quot;::RaisesNoMethodError is defined but it hasn't been referenced yet!&quot;</span>
    <span class="ruby-number">2</span>.<span class="ruby-identifier">times</span> <span class="ruby-keyword">do</span>
      <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">NoMethodError</span>) { <span class="ruby-constant">RaisesNoMethodError</span> }
      <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-keyword">defined?</span>(<span class="ruby-operator">::</span><span class="ruby-constant">RaisesNoMethodError</span>), <span class="ruby-string">&quot;::RaisesNoMethodError is defined but it should have failed!&quot;</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>

<span class="ruby-keyword">ensure</span>
  <span class="ruby-constant">Object</span>.<span class="ruby-identifier">send</span>(<span class="ruby-value">:remove_const</span>, <span class="ruby-value">:RaisesNoMethodError</span>) <span class="ruby-keyword">if</span> <span class="ruby-keyword">defined?</span>(<span class="ruby-operator">::</span><span class="ruby-constant">RaisesNoMethodError</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_autoloaded-3F">
            
              <a name="method-i-test_autoloaded-3F"></a><b>test_autoloaded?</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_autoloaded-3F_source')" id="l_method-i-test_autoloaded-3F_source">show</a>
                
              </p>
              <div id="method-i-test_autoloaded-3F_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/test/dependencies_test.rb, line 294</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_autoloaded?</span>
  <span class="ruby-identifier">with_loading</span> <span class="ruby-string">'autoloading_fixtures'</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span> <span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">autoloaded?</span>(<span class="ruby-string">&quot;ModuleFolder&quot;</span>)
    <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span> <span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">autoloaded?</span>(<span class="ruby-string">&quot;ModuleFolder::NestedClass&quot;</span>)

    <span class="ruby-identifier">assert</span> <span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">autoloaded?</span>(<span class="ruby-constant">ModuleFolder</span>)

    <span class="ruby-identifier">assert</span> <span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">autoloaded?</span>(<span class="ruby-string">&quot;ModuleFolder&quot;</span>)
    <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span> <span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">autoloaded?</span>(<span class="ruby-string">&quot;ModuleFolder::NestedClass&quot;</span>)

    <span class="ruby-identifier">assert</span> <span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">autoloaded?</span>(<span class="ruby-constant">ModuleFolder</span><span class="ruby-operator">::</span><span class="ruby-constant">NestedClass</span>)

    <span class="ruby-identifier">assert</span> <span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">autoloaded?</span>(<span class="ruby-string">&quot;ModuleFolder&quot;</span>)
    <span class="ruby-identifier">assert</span> <span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">autoloaded?</span>(<span class="ruby-string">&quot;ModuleFolder::NestedClass&quot;</span>)

    <span class="ruby-identifier">assert</span> <span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">autoloaded?</span>(<span class="ruby-string">&quot;::ModuleFolder&quot;</span>)
    <span class="ruby-identifier">assert</span> <span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">autoloaded?</span>(<span class="ruby-value">:ModuleFolder</span>)

    <span class="ruby-comment"># Anonymous modules aren't autoloaded.</span>
    <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">autoloaded?</span>(<span class="ruby-constant">Module</span>.<span class="ruby-identifier">new</span>)

    <span class="ruby-identifier">nil_name</span> = <span class="ruby-constant">Module</span>.<span class="ruby-identifier">new</span>
    <span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">nil_name</span>.<span class="ruby-identifier">name</span>() <span class="ruby-keyword">nil</span> <span class="ruby-keyword">end</span>
    <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">autoloaded?</span>(<span class="ruby-identifier">nil_name</span>)

    <span class="ruby-constant">Object</span>.<span class="ruby-identifier">send</span> <span class="ruby-value">:remove_const</span>, <span class="ruby-value">:ModuleFolder</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_class_with_nested_class">
            
              <a name="method-i-test_class_with_nested_class"></a><b>test_class_with_nested_class</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_class_with_nested_class_source')" id="l_method-i-test_class_with_nested_class_source">show</a>
                
              </p>
              <div id="method-i-test_class_with_nested_class_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/test/dependencies_test.rb, line 174</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_class_with_nested_class</span>
  <span class="ruby-identifier">with_loading</span> <span class="ruby-string">'autoloading_fixtures'</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">assert_kind_of</span> <span class="ruby-constant">Class</span>, <span class="ruby-constant">ClassFolder</span><span class="ruby-operator">::</span><span class="ruby-constant">NestedClass</span>
    <span class="ruby-constant">Object</span>.<span class="ruby-identifier">send</span> <span class="ruby-value">:remove_const</span>, <span class="ruby-value">:ClassFolder</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_class_with_nested_inline_class">
            
              <a name="method-i-test_class_with_nested_inline_class"></a><b>test_class_with_nested_inline_class</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_class_with_nested_inline_class_source')" id="l_method-i-test_class_with_nested_inline_class_source">show</a>
                
              </p>
              <div id="method-i-test_class_with_nested_inline_class_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/test/dependencies_test.rb, line 181</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_class_with_nested_inline_class</span>
  <span class="ruby-identifier">with_loading</span> <span class="ruby-string">'autoloading_fixtures'</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">assert_kind_of</span> <span class="ruby-constant">Class</span>, <span class="ruby-constant">ClassFolder</span><span class="ruby-operator">::</span><span class="ruby-constant">InlineClass</span>
    <span class="ruby-constant">Object</span>.<span class="ruby-identifier">send</span> <span class="ruby-value">:remove_const</span>, <span class="ruby-value">:ClassFolder</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_class_with_nested_inline_subclass_of_parent">
            
              <a name="method-i-test_class_with_nested_inline_subclass_of_parent"></a><b>test_class_with_nested_inline_subclass_of_parent</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_class_with_nested_inline_subclass_of_parent_source')" id="l_method-i-test_class_with_nested_inline_subclass_of_parent_source">show</a>
                
              </p>
              <div id="method-i-test_class_with_nested_inline_subclass_of_parent_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/test/dependencies_test.rb, line 188</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_class_with_nested_inline_subclass_of_parent</span>
  <span class="ruby-identifier">with_loading</span> <span class="ruby-string">'autoloading_fixtures'</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">assert_kind_of</span> <span class="ruby-constant">Class</span>, <span class="ruby-constant">ClassFolder</span><span class="ruby-operator">::</span><span class="ruby-constant">ClassFolderSubclass</span>
    <span class="ruby-identifier">assert_kind_of</span> <span class="ruby-constant">Class</span>, <span class="ruby-constant">ClassFolder</span>
    <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">'indeed'</span>, <span class="ruby-constant">ClassFolder</span><span class="ruby-operator">::</span><span class="ruby-constant">ClassFolderSubclass</span><span class="ruby-operator">::</span><span class="ruby-constant">ConstantInClassFolder</span>
    <span class="ruby-constant">Object</span>.<span class="ruby-identifier">send</span> <span class="ruby-value">:remove_const</span>, <span class="ruby-value">:ClassFolder</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_const_missing_on_kernel_should_fallback_to_object">
            
              <a name="method-i-test_const_missing_on_kernel_should_fallback_to_object"></a><b>test_const_missing_on_kernel_should_fallback_to_object</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_const_missing_on_kernel_should_fallback_to_object_source')" id="l_method-i-test_const_missing_on_kernel_should_fallback_to_object_source">show</a>
                
              </p>
              <div id="method-i-test_const_missing_on_kernel_should_fallback_to_object_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/test/dependencies_test.rb, line 455</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_const_missing_on_kernel_should_fallback_to_object</span>
  <span class="ruby-identifier">with_loading</span> <span class="ruby-string">'autoloading_fixtures'</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">kls</span> = <span class="ruby-constant">Kernel</span><span class="ruby-operator">::</span><span class="ruby-constant">E</span>
    <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;E&quot;</span>, <span class="ruby-identifier">kls</span>.<span class="ruby-identifier">name</span>
    <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">kls</span>.<span class="ruby-identifier">object_id</span>, <span class="ruby-constant">Kernel</span><span class="ruby-operator">::</span><span class="ruby-constant">E</span>.<span class="ruby-identifier">object_id</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_const_missing_should_not_double_load">
            
              <a name="method-i-test_const_missing_should_not_double_load"></a><b>test_const_missing_should_not_double_load</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_const_missing_should_not_double_load_source')" id="l_method-i-test_const_missing_should_not_double_load_source">show</a>
                
              </p>
              <div id="method-i-test_const_missing_should_not_double_load_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/test/dependencies_test.rb, line 381</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_const_missing_should_not_double_load</span>
  <span class="ruby-identifier">$counting_loaded_times</span> = <span class="ruby-number">0</span>
  <span class="ruby-identifier">with_loading</span> <span class="ruby-string">'autoloading_fixtures'</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">require_dependency</span> <span class="ruby-string">'././counting_loader'</span>
    <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">1</span>, <span class="ruby-identifier">$counting_loaded_times</span>
    <span class="ruby-identifier">assert_raises</span>(<span class="ruby-constant">ArgumentError</span>) { <span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">load_missing_constant</span> <span class="ruby-constant">Object</span>, <span class="ruby-value">:CountingLoader</span> }
    <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">1</span>, <span class="ruby-identifier">$counting_loaded_times</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_const_missing_within_anonymous_module">
            
              <a name="method-i-test_const_missing_within_anonymous_module"></a><b>test_const_missing_within_anonymous_module</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_const_missing_within_anonymous_module_source')" id="l_method-i-test_const_missing_within_anonymous_module_source">show</a>
                
              </p>
              <div id="method-i-test_const_missing_within_anonymous_module_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/test/dependencies_test.rb, line 391</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_const_missing_within_anonymous_module</span>
  <span class="ruby-identifier">$counting_loaded_times</span> = <span class="ruby-number">0</span>
  <span class="ruby-identifier">m</span> = <span class="ruby-constant">Module</span>.<span class="ruby-identifier">new</span>
  <span class="ruby-identifier">m</span>.<span class="ruby-identifier">module_eval</span> <span class="ruby-string">&quot;def a() CountingLoader; end&quot;</span>
  <span class="ruby-identifier">extend</span> <span class="ruby-identifier">m</span>
  <span class="ruby-identifier">kls</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-identifier">with_loading</span> <span class="ruby-string">'autoloading_fixtures'</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">kls</span> = <span class="ruby-keyword">nil</span>
    <span class="ruby-identifier">assert_nothing_raised</span> { <span class="ruby-identifier">kls</span> = <span class="ruby-identifier">a</span> }
    <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;CountingLoader&quot;</span>, <span class="ruby-identifier">kls</span>.<span class="ruby-identifier">name</span>
    <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">1</span>, <span class="ruby-identifier">$counting_loaded_times</span>

    <span class="ruby-identifier">assert_nothing_raised</span> { <span class="ruby-identifier">kls</span> = <span class="ruby-identifier">a</span> }
    <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">1</span>, <span class="ruby-identifier">$counting_loaded_times</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_custom_const_missing_should_work">
            
              <a name="method-i-test_custom_const_missing_should_work"></a><b>test_custom_const_missing_should_work</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_custom_const_missing_should_work_source')" id="l_method-i-test_custom_const_missing_should_work_source">show</a>
                
              </p>
              <div id="method-i-test_custom_const_missing_should_work_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/test/dependencies_test.rb, line 362</span>
  <span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_custom_const_missing_should_work</span>
    <span class="ruby-constant">Object</span>.<span class="ruby-identifier">module_eval</span> <span class="ruby-string">&quot;      module ModuleWithCustomConstMissing
        def self.const_missing(name)
          const_set name, name.to_s.hash
        end

        module A
        end
      end
&quot;</span>

    <span class="ruby-identifier">with_loading</span> <span class="ruby-string">'autoloading_fixtures'</span> <span class="ruby-keyword">do</span>
      <span class="ruby-identifier">assert_kind_of</span> <span class="ruby-constant">Integer</span>, <span class="ruby-operator">::</span><span class="ruby-constant">ModuleWithCustomConstMissing</span><span class="ruby-operator">::</span><span class="ruby-constant">B</span>
      <span class="ruby-identifier">assert_kind_of</span> <span class="ruby-constant">Module</span>, <span class="ruby-operator">::</span><span class="ruby-constant">ModuleWithCustomConstMissing</span><span class="ruby-operator">::</span><span class="ruby-constant">A</span>
      <span class="ruby-identifier">assert_kind_of</span> <span class="ruby-constant">String</span>, <span class="ruby-operator">::</span><span class="ruby-constant">ModuleWithCustomConstMissing</span><span class="ruby-operator">::</span><span class="ruby-constant">A</span><span class="ruby-operator">::</span><span class="ruby-constant">B</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_dependency_which_raises_exception_isnt_added_to_loaded_set">
            
              <a name="method-i-test_dependency_which_raises_exception_isnt_added_to_loaded_set"></a><b>test_dependency_which_raises_exception_isnt_added_to_loaded_set</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_dependency_which_raises_exception_isnt_added_to_loaded_set_source')" id="l_method-i-test_dependency_which_raises_exception_isnt_added_to_loaded_set_source">show</a>
                
              </p>
              <div id="method-i-test_dependency_which_raises_exception_isnt_added_to_loaded_set_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/test/dependencies_test.rb, line 53</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_dependency_which_raises_exception_isnt_added_to_loaded_set</span>
  <span class="ruby-identifier">with_loading</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">filename</span> = <span class="ruby-node">&quot;#{File.dirname(__FILE__)}/dependencies/raises_exception&quot;</span>
    <span class="ruby-identifier">$raises_exception_load_count</span> = <span class="ruby-number">0</span>

    <span class="ruby-number">5</span>.<span class="ruby-identifier">times</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">count</span><span class="ruby-operator">|</span>
      <span class="ruby-keyword">begin</span>
        <span class="ruby-identifier">require_dependency</span> <span class="ruby-identifier">filename</span>
        <span class="ruby-identifier">flunk</span> <span class="ruby-string">'should have loaded dependencies/raises_exception which raises an exception'</span>
      <span class="ruby-keyword">rescue</span> <span class="ruby-constant">Exception</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">e</span>
        <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">'Loading me failed, so do not add to loaded or history.'</span>, <span class="ruby-identifier">e</span>.<span class="ruby-identifier">message</span>
      <span class="ruby-keyword">end</span>
      <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">count</span> <span class="ruby-operator">+</span> <span class="ruby-number">1</span>, <span class="ruby-identifier">$raises_exception_load_count</span>

      <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">loaded</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">filename</span>)
      <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">history</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">filename</span>)
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_directories_manifest_as_modules_unless_const_defined">
            
              <a name="method-i-test_directories_manifest_as_modules_unless_const_defined"></a><b>test_directories_manifest_as_modules_unless_const_defined</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_directories_manifest_as_modules_unless_const_defined_source')" id="l_method-i-test_directories_manifest_as_modules_unless_const_defined_source">show</a>
                
              </p>
              <div id="method-i-test_directories_manifest_as_modules_unless_const_defined_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/test/dependencies_test.rb, line 146</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_directories_manifest_as_modules_unless_const_defined</span>
  <span class="ruby-identifier">with_loading</span> <span class="ruby-string">'autoloading_fixtures'</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">assert_kind_of</span> <span class="ruby-constant">Module</span>, <span class="ruby-constant">ModuleFolder</span>
    <span class="ruby-constant">Object</span>.<span class="ruby-identifier">send</span> <span class="ruby-value">:remove_const</span>, <span class="ruby-value">:ModuleFolder</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_directories_may_manifest_as_nested_classes">
            
              <a name="method-i-test_directories_may_manifest_as_nested_classes"></a><b>test_directories_may_manifest_as_nested_classes</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_directories_may_manifest_as_nested_classes_source')" id="l_method-i-test_directories_may_manifest_as_nested_classes_source">show</a>
                
              </p>
              <div id="method-i-test_directories_may_manifest_as_nested_classes_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/test/dependencies_test.rb, line 167</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_directories_may_manifest_as_nested_classes</span>
  <span class="ruby-identifier">with_loading</span> <span class="ruby-string">'autoloading_fixtures'</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">assert_kind_of</span> <span class="ruby-constant">Class</span>, <span class="ruby-constant">ClassFolder</span>
    <span class="ruby-constant">Object</span>.<span class="ruby-identifier">send</span> <span class="ruby-value">:remove_const</span>, <span class="ruby-value">:ClassFolder</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_file_search">
            
              <a name="method-i-test_file_search"></a><b>test_file_search</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_file_search_source')" id="l_method-i-test_file_search_source">show</a>
                
              </p>
              <div id="method-i-test_file_search_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/test/dependencies_test.rb, line 334</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_file_search</span>
  <span class="ruby-identifier">with_loading</span> <span class="ruby-string">'dependencies'</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">root</span> = <span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">load_paths</span>.<span class="ruby-identifier">first</span>
    <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword">nil</span>, <span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">search_for_file</span>(<span class="ruby-string">'service_three'</span>)
    <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword">nil</span>, <span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">search_for_file</span>(<span class="ruby-string">'service_three.rb'</span>)
    <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">root</span> <span class="ruby-operator">+</span> <span class="ruby-string">'/service_one.rb'</span>, <span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">search_for_file</span>(<span class="ruby-string">'service_one'</span>)
    <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">root</span> <span class="ruby-operator">+</span> <span class="ruby-string">'/service_one.rb'</span>, <span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">search_for_file</span>(<span class="ruby-string">'service_one.rb'</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_file_search_uses_first_in_load_path">
            
              <a name="method-i-test_file_search_uses_first_in_load_path"></a><b>test_file_search_uses_first_in_load_path</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_file_search_uses_first_in_load_path_source')" id="l_method-i-test_file_search_uses_first_in_load_path_source">show</a>
                
              </p>
              <div id="method-i-test_file_search_uses_first_in_load_path_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/test/dependencies_test.rb, line 344</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_file_search_uses_first_in_load_path</span>
  <span class="ruby-identifier">with_loading</span> <span class="ruby-string">'dependencies'</span>, <span class="ruby-string">'autoloading_fixtures'</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">deps</span>, <span class="ruby-identifier">autoload</span> = <span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">load_paths</span>
    <span class="ruby-identifier">assert_match</span> <span class="ruby-regexp">%rdependencies/</span>, <span class="ruby-identifier">deps</span>
    <span class="ruby-identifier">assert_match</span> <span class="ruby-regexp">%rautoloading_fixtures/</span>, <span class="ruby-identifier">autoload</span>

    <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">deps</span> <span class="ruby-operator">+</span> <span class="ruby-string">'/conflict.rb'</span>, <span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">search_for_file</span>(<span class="ruby-string">'conflict'</span>)
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">with_loading</span> <span class="ruby-string">'autoloading_fixtures'</span>, <span class="ruby-string">'dependencies'</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">autoload</span>, <span class="ruby-identifier">deps</span> = <span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">load_paths</span>
    <span class="ruby-identifier">assert_match</span> <span class="ruby-regexp">%rdependencies/</span>, <span class="ruby-identifier">deps</span>
    <span class="ruby-identifier">assert_match</span> <span class="ruby-regexp">%rautoloading_fixtures/</span>, <span class="ruby-identifier">autoload</span>

    <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">autoload</span> <span class="ruby-operator">+</span> <span class="ruby-string">'/conflict.rb'</span>, <span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">search_for_file</span>(<span class="ruby-string">'conflict'</span>)
  <span class="ruby-keyword">end</span>

<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_file_with_multiple_constants_and_auto_loading">
            
              <a name="method-i-test_file_with_multiple_constants_and_auto_loading"></a><b>test_file_with_multiple_constants_and_auto_loading</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_file_with_multiple_constants_and_auto_loading_source')" id="l_method-i-test_file_with_multiple_constants_and_auto_loading_source">show</a>
                
              </p>
              <div id="method-i-test_file_with_multiple_constants_and_auto_loading_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/test/dependencies_test.rb, line 606</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_file_with_multiple_constants_and_auto_loading</span>
  <span class="ruby-identifier">with_loading</span> <span class="ruby-string">'autoloading_fixtures'</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span> <span class="ruby-keyword">defined?</span>(<span class="ruby-constant">MultipleConstantFile</span>)
    <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span> <span class="ruby-keyword">defined?</span>(<span class="ruby-constant">SiblingConstant</span>)

    <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">10</span>, <span class="ruby-constant">MultipleConstantFile</span>

    <span class="ruby-identifier">assert</span> <span class="ruby-keyword">defined?</span>(<span class="ruby-constant">MultipleConstantFile</span>)
    <span class="ruby-identifier">assert</span> <span class="ruby-keyword">defined?</span>(<span class="ruby-constant">SiblingConstant</span>)
    <span class="ruby-identifier">assert</span> <span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">autoloaded?</span>(<span class="ruby-value">:MultipleConstantFile</span>)
    <span class="ruby-identifier">assert</span> <span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">autoloaded?</span>(<span class="ruby-value">:SiblingConstant</span>)

    <span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">clear</span>

    <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span> <span class="ruby-keyword">defined?</span>(<span class="ruby-constant">MultipleConstantFile</span>)
    <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span> <span class="ruby-keyword">defined?</span>(<span class="ruby-constant">SiblingConstant</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_file_with_multiple_constants_and_require_dependency">
            
              <a name="method-i-test_file_with_multiple_constants_and_require_dependency"></a><b>test_file_with_multiple_constants_and_require_dependency</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_file_with_multiple_constants_and_require_dependency_source')" id="l_method-i-test_file_with_multiple_constants_and_require_dependency_source">show</a>
                
              </p>
              <div id="method-i-test_file_with_multiple_constants_and_require_dependency_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/test/dependencies_test.rb, line 588</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_file_with_multiple_constants_and_require_dependency</span>
  <span class="ruby-identifier">with_loading</span> <span class="ruby-string">'autoloading_fixtures'</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span> <span class="ruby-keyword">defined?</span>(<span class="ruby-constant">MultipleConstantFile</span>)
    <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span> <span class="ruby-keyword">defined?</span>(<span class="ruby-constant">SiblingConstant</span>)

    <span class="ruby-identifier">require_dependency</span> <span class="ruby-string">'multiple_constant_file'</span>
    <span class="ruby-identifier">assert</span> <span class="ruby-keyword">defined?</span>(<span class="ruby-constant">MultipleConstantFile</span>)
    <span class="ruby-identifier">assert</span> <span class="ruby-keyword">defined?</span>(<span class="ruby-constant">SiblingConstant</span>)
    <span class="ruby-identifier">assert</span> <span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">autoloaded?</span>(<span class="ruby-value">:MultipleConstantFile</span>)
    <span class="ruby-identifier">assert</span> <span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">autoloaded?</span>(<span class="ruby-value">:SiblingConstant</span>)

    <span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">clear</span>

    <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span> <span class="ruby-keyword">defined?</span>(<span class="ruby-constant">MultipleConstantFile</span>)
    <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span> <span class="ruby-keyword">defined?</span>(<span class="ruby-constant">SiblingConstant</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_load_once_constants_should_not_be_unloaded">
            
              <a name="method-i-test_load_once_constants_should_not_be_unloaded"></a><b>test_load_once_constants_should_not_be_unloaded</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_load_once_constants_should_not_be_unloaded_source')" id="l_method-i-test_load_once_constants_should_not_be_unloaded_source">show</a>
                
              </p>
              <div id="method-i-test_load_once_constants_should_not_be_unloaded_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/test/dependencies_test.rb, line 723</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_load_once_constants_should_not_be_unloaded</span>
  <span class="ruby-identifier">with_loading</span> <span class="ruby-string">'autoloading_fixtures'</span> <span class="ruby-keyword">do</span>
    <span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">load_once_paths</span> = <span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">load_paths</span>
    <span class="ruby-operator">::</span><span class="ruby-constant">A</span>.<span class="ruby-identifier">to_s</span>
    <span class="ruby-identifier">assert</span> <span class="ruby-keyword">defined?</span>(<span class="ruby-constant">A</span>)
    <span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">clear</span>
    <span class="ruby-identifier">assert</span> <span class="ruby-keyword">defined?</span>(<span class="ruby-constant">A</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">ensure</span>
  <span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">load_once_paths</span> = []
  <span class="ruby-constant">Object</span>.<span class="ruby-identifier">send</span> <span class="ruby-value">:remove_const</span>, <span class="ruby-value">:A</span> <span class="ruby-keyword">rescue</span> <span class="ruby-keyword">nil</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_load_once_paths_do_not_add_to_autoloaded_constants">
            
              <a name="method-i-test_load_once_paths_do_not_add_to_autoloaded_constants"></a><b>test_load_once_paths_do_not_add_to_autoloaded_constants</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_load_once_paths_do_not_add_to_autoloaded_constants_source')" id="l_method-i-test_load_once_paths_do_not_add_to_autoloaded_constants_source">show</a>
                
              </p>
              <div id="method-i-test_load_once_paths_do_not_add_to_autoloaded_constants_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/test/dependencies_test.rb, line 431</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_load_once_paths_do_not_add_to_autoloaded_constants</span>
  <span class="ruby-identifier">with_loading</span> <span class="ruby-string">'autoloading_fixtures'</span> <span class="ruby-keyword">do</span>
    <span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">load_once_paths</span> = <span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">load_paths</span>.<span class="ruby-identifier">dup</span>

    <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span> <span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">autoloaded?</span>(<span class="ruby-string">&quot;ModuleFolder&quot;</span>)
    <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span> <span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">autoloaded?</span>(<span class="ruby-string">&quot;ModuleFolder::NestedClass&quot;</span>)
    <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span> <span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">autoloaded?</span>(<span class="ruby-constant">ModuleFolder</span>)

    <span class="ruby-number">1</span> <span class="ruby-keyword">if</span> <span class="ruby-constant">ModuleFolder</span><span class="ruby-operator">::</span><span class="ruby-constant">NestedClass</span> <span class="ruby-comment"># 1 if to avoid warning</span>
    <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span> <span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">autoloaded?</span>(<span class="ruby-constant">ModuleFolder</span><span class="ruby-operator">::</span><span class="ruby-constant">NestedClass</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">ensure</span>
  <span class="ruby-constant">Object</span>.<span class="ruby-identifier">send</span>(<span class="ruby-value">:remove_const</span>, <span class="ruby-value">:ModuleFolder</span>) <span class="ruby-keyword">if</span> <span class="ruby-keyword">defined?</span>(<span class="ruby-constant">ModuleFolder</span>)
  <span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">load_once_paths</span> = []
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_load_once_paths_should_behave_when_recursively_loading">
            
              <a name="method-i-test_load_once_paths_should_behave_when_recursively_loading"></a><b>test_load_once_paths_should_behave_when_recursively_loading</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_load_once_paths_should_behave_when_recursively_loading_source')" id="l_method-i-test_load_once_paths_should_behave_when_recursively_loading_source">show</a>
                
              </p>
              <div id="method-i-test_load_once_paths_should_behave_when_recursively_loading_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/test/dependencies_test.rb, line 736</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_load_once_paths_should_behave_when_recursively_loading</span>
  <span class="ruby-identifier">with_loading</span> <span class="ruby-string">'dependencies'</span>, <span class="ruby-string">'autoloading_fixtures'</span> <span class="ruby-keyword">do</span>
    <span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">load_once_paths</span> = [<span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">load_paths</span>.<span class="ruby-identifier">last</span>]
    <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-keyword">defined?</span>(<span class="ruby-constant">CrossSiteDependency</span>)
    <span class="ruby-identifier">assert_nothing_raised</span> { <span class="ruby-constant">CrossSiteDepender</span>.<span class="ruby-identifier">nil?</span> }
    <span class="ruby-identifier">assert</span> <span class="ruby-keyword">defined?</span>(<span class="ruby-constant">CrossSiteDependency</span>)
    <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">autoloaded?</span>(<span class="ruby-constant">CrossSiteDependency</span>),
      <span class="ruby-string">&quot;CrossSiteDependency shouldn't be marked as autoloaded!&quot;</span>
    <span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">clear</span>
    <span class="ruby-identifier">assert</span> <span class="ruby-keyword">defined?</span>(<span class="ruby-constant">CrossSiteDependency</span>),
      <span class="ruby-string">&quot;CrossSiteDependency shouldn't have been unloaded!&quot;</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">ensure</span>
  <span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">load_once_paths</span> = []
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_loadable_constants_for_path_should_handle_empty_autoloads">
            
              <a name="method-i-test_loadable_constants_for_path_should_handle_empty_autoloads"></a><b>test_loadable_constants_for_path_should_handle_empty_autoloads</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_loadable_constants_for_path_should_handle_empty_autoloads_source')" id="l_method-i-test_loadable_constants_for_path_should_handle_empty_autoloads_source">show</a>
                
              </p>
              <div id="method-i-test_loadable_constants_for_path_should_handle_empty_autoloads_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/test/dependencies_test.rb, line 241</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_loadable_constants_for_path_should_handle_empty_autoloads</span>
  <span class="ruby-identifier">assert_equal</span> [], <span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">loadable_constants_for_path</span>(<span class="ruby-string">'hello'</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_loadable_constants_for_path_should_handle_relative_paths">
            
              <a name="method-i-test_loadable_constants_for_path_should_handle_relative_paths"></a><b>test_loadable_constants_for_path_should_handle_relative_paths</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_loadable_constants_for_path_should_handle_relative_paths_source')" id="l_method-i-test_loadable_constants_for_path_should_handle_relative_paths_source">show</a>
                
              </p>
              <div id="method-i-test_loadable_constants_for_path_should_handle_relative_paths_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/test/dependencies_test.rb, line 245</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_loadable_constants_for_path_should_handle_relative_paths</span>
  <span class="ruby-identifier">fake_root</span> = <span class="ruby-string">'dependencies'</span>
  <span class="ruby-identifier">relative_root</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">dirname</span>(<span class="ruby-keyword">__FILE__</span>) <span class="ruby-operator">+</span> <span class="ruby-string">'/dependencies'</span>
  [<span class="ruby-string">''</span>, <span class="ruby-string">'/'</span>].<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">suffix</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">with_loading</span> <span class="ruby-identifier">fake_root</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">suffix</span> <span class="ruby-keyword">do</span>
      <span class="ruby-identifier">assert_equal</span> [<span class="ruby-string">&quot;A::B&quot;</span>], <span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">loadable_constants_for_path</span>(<span class="ruby-identifier">relative_root</span> <span class="ruby-operator">+</span> <span class="ruby-string">'/a/b'</span>)
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_loadable_constants_for_path_should_provide_all_results">
            
              <a name="method-i-test_loadable_constants_for_path_should_provide_all_results"></a><b>test_loadable_constants_for_path_should_provide_all_results</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_loadable_constants_for_path_should_provide_all_results_source')" id="l_method-i-test_loadable_constants_for_path_should_provide_all_results_source">show</a>
                
              </p>
              <div id="method-i-test_loadable_constants_for_path_should_provide_all_results_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/test/dependencies_test.rb, line 255</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_loadable_constants_for_path_should_provide_all_results</span>
  <span class="ruby-identifier">fake_root</span> = <span class="ruby-string">'/usr/apps/backpack'</span>
  <span class="ruby-identifier">with_loading</span> <span class="ruby-identifier">fake_root</span>, <span class="ruby-identifier">fake_root</span> <span class="ruby-operator">+</span> <span class="ruby-string">'/lib'</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">root</span> = <span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">load_paths</span>.<span class="ruby-identifier">first</span>
    <span class="ruby-identifier">assert_equal</span> [<span class="ruby-string">&quot;Lib::A::B&quot;</span>, <span class="ruby-string">&quot;A::B&quot;</span>], <span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">loadable_constants_for_path</span>(<span class="ruby-identifier">root</span> <span class="ruby-operator">+</span> <span class="ruby-string">'/lib/a/b'</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_loadable_constants_for_path_should_uniq_results">
            
              <a name="method-i-test_loadable_constants_for_path_should_uniq_results"></a><b>test_loadable_constants_for_path_should_uniq_results</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_loadable_constants_for_path_should_uniq_results_source')" id="l_method-i-test_loadable_constants_for_path_should_uniq_results_source">show</a>
                
              </p>
              <div id="method-i-test_loadable_constants_for_path_should_uniq_results_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/test/dependencies_test.rb, line 263</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_loadable_constants_for_path_should_uniq_results</span>
  <span class="ruby-identifier">fake_root</span> = <span class="ruby-string">'/usr/apps/backpack/lib'</span>
  <span class="ruby-identifier">with_loading</span> <span class="ruby-identifier">fake_root</span>, <span class="ruby-identifier">fake_root</span> <span class="ruby-operator">+</span> <span class="ruby-string">'/'</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">root</span> = <span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">load_paths</span>.<span class="ruby-identifier">first</span>
    <span class="ruby-identifier">assert_equal</span> [<span class="ruby-string">&quot;A::B&quot;</span>], <span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">loadable_constants_for_path</span>(<span class="ruby-identifier">root</span> <span class="ruby-operator">+</span> <span class="ruby-string">'/a/b'</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_loadable_constants_with_load_path_without_trailing_slash">
            
              <a name="method-i-test_loadable_constants_with_load_path_without_trailing_slash"></a><b>test_loadable_constants_with_load_path_without_trailing_slash</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_loadable_constants_with_load_path_without_trailing_slash_source')" id="l_method-i-test_loadable_constants_with_load_path_without_trailing_slash_source">show</a>
                
              </p>
              <div id="method-i-test_loadable_constants_with_load_path_without_trailing_slash_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/test/dependencies_test.rb, line 271</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_loadable_constants_with_load_path_without_trailing_slash</span>
  <span class="ruby-identifier">path</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">dirname</span>(<span class="ruby-keyword">__FILE__</span>) <span class="ruby-operator">+</span> <span class="ruby-string">'/autoloading_fixtures/class_folder/inline_class.rb'</span>
  <span class="ruby-identifier">with_loading</span> <span class="ruby-string">'autoloading_fixtures/class/'</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">assert_equal</span> [], <span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">loadable_constants_for_path</span>(<span class="ruby-identifier">path</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_missing_association_raises_nothing">
            
              <a name="method-i-test_missing_association_raises_nothing"></a><b>test_missing_association_raises_nothing</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_missing_association_raises_nothing_source')" id="l_method-i-test_missing_association_raises_nothing_source">show</a>
                
              </p>
              <div id="method-i-test_missing_association_raises_nothing_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/test/dependencies_test.rb, line 49</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_missing_association_raises_nothing</span>
  <span class="ruby-identifier">assert_nothing_raised</span> { <span class="ruby-identifier">require_association</span>(<span class="ruby-string">&quot;missing_model&quot;</span>) }
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_missing_dependency_raises_missing_source_file">
            
              <a name="method-i-test_missing_dependency_raises_missing_source_file"></a><b>test_missing_dependency_raises_missing_source_file</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_missing_dependency_raises_missing_source_file_source')" id="l_method-i-test_missing_dependency_raises_missing_source_file_source">show</a>
                
              </p>
              <div id="method-i-test_missing_dependency_raises_missing_source_file_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/test/dependencies_test.rb, line 45</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_missing_dependency_raises_missing_source_file</span>
  <span class="ruby-identifier">assert_raises</span>(<span class="ruby-constant">MissingSourceFile</span>) { <span class="ruby-identifier">require_dependency</span>(<span class="ruby-string">&quot;missing_service&quot;</span>) }
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_module_loading">
            
              <a name="method-i-test_module_loading"></a><b>test_module_loading</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_module_loading_source')" id="l_method-i-test_module_loading_source">show</a>
                
              </p>
              <div id="method-i-test_module_loading_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/test/dependencies_test.rb, line 128</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_module_loading</span>
  <span class="ruby-identifier">with_loading</span> <span class="ruby-string">'autoloading_fixtures'</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">assert_kind_of</span> <span class="ruby-constant">Module</span>, <span class="ruby-constant">A</span>
    <span class="ruby-identifier">assert_kind_of</span> <span class="ruby-constant">Class</span>, <span class="ruby-constant">A</span><span class="ruby-operator">::</span><span class="ruby-constant">B</span>
    <span class="ruby-identifier">assert_kind_of</span> <span class="ruby-constant">Class</span>, <span class="ruby-constant">A</span><span class="ruby-operator">::</span><span class="ruby-constant">C</span><span class="ruby-operator">::</span><span class="ruby-constant">D</span>
    <span class="ruby-identifier">assert_kind_of</span> <span class="ruby-constant">Class</span>, <span class="ruby-constant">A</span><span class="ruby-operator">::</span><span class="ruby-constant">C</span><span class="ruby-operator">::</span><span class="ruby-constant">E</span><span class="ruby-operator">::</span><span class="ruby-constant">F</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_module_with_nested_class">
            
              <a name="method-i-test_module_with_nested_class"></a><b>test_module_with_nested_class</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_module_with_nested_class_source')" id="l_method-i-test_module_with_nested_class_source">show</a>
                
              </p>
              <div id="method-i-test_module_with_nested_class_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/test/dependencies_test.rb, line 153</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_module_with_nested_class</span>
  <span class="ruby-identifier">with_loading</span> <span class="ruby-string">'autoloading_fixtures'</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">assert_kind_of</span> <span class="ruby-constant">Class</span>, <span class="ruby-constant">ModuleFolder</span><span class="ruby-operator">::</span><span class="ruby-constant">NestedClass</span>
    <span class="ruby-constant">Object</span>.<span class="ruby-identifier">send</span> <span class="ruby-value">:remove_const</span>, <span class="ruby-value">:ModuleFolder</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_module_with_nested_inline_class">
            
              <a name="method-i-test_module_with_nested_inline_class"></a><b>test_module_with_nested_inline_class</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_module_with_nested_inline_class_source')" id="l_method-i-test_module_with_nested_inline_class_source">show</a>
                
              </p>
              <div id="method-i-test_module_with_nested_inline_class_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/test/dependencies_test.rb, line 160</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_module_with_nested_inline_class</span>
  <span class="ruby-identifier">with_loading</span> <span class="ruby-string">'autoloading_fixtures'</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">assert_kind_of</span> <span class="ruby-constant">Class</span>, <span class="ruby-constant">ModuleFolder</span><span class="ruby-operator">::</span><span class="ruby-constant">InlineClass</span>
    <span class="ruby-constant">Object</span>.<span class="ruby-identifier">send</span> <span class="ruby-value">:remove_const</span>, <span class="ruby-value">:ModuleFolder</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_mutual_dependencies_dont_infinite_loop">
            
              <a name="method-i-test_mutual_dependencies_dont_infinite_loop"></a><b>test_mutual_dependencies_dont_infinite_loop</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_mutual_dependencies_dont_infinite_loop_source')" id="l_method-i-test_mutual_dependencies_dont_infinite_loop_source">show</a>
                
              </p>
              <div id="method-i-test_mutual_dependencies_dont_infinite_loop_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/test/dependencies_test.rb, line 110</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_mutual_dependencies_dont_infinite_loop</span>
  <span class="ruby-identifier">with_loading</span> <span class="ruby-string">'dependencies'</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">$mutual_dependencies_count</span> = <span class="ruby-number">0</span>
    <span class="ruby-identifier">assert_nothing_raised</span> { <span class="ruby-identifier">require_dependency</span> <span class="ruby-string">'mutual_one'</span> }
    <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">2</span>, <span class="ruby-identifier">$mutual_dependencies_count</span>

    <span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">clear</span>

    <span class="ruby-identifier">$mutual_dependencies_count</span> = <span class="ruby-number">0</span>
    <span class="ruby-identifier">assert_nothing_raised</span> { <span class="ruby-identifier">require_dependency</span> <span class="ruby-string">'mutual_two'</span> }
    <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">2</span>, <span class="ruby-identifier">$mutual_dependencies_count</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_nested_class_can_access_sibling">
            
              <a name="method-i-test_nested_class_can_access_sibling"></a><b>test_nested_class_can_access_sibling</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_nested_class_can_access_sibling_source')" id="l_method-i-test_nested_class_can_access_sibling_source">show</a>
                
              </p>
              <div id="method-i-test_nested_class_can_access_sibling_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/test/dependencies_test.rb, line 197</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_nested_class_can_access_sibling</span>
  <span class="ruby-identifier">with_loading</span> <span class="ruby-string">'autoloading_fixtures'</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">sibling</span> = <span class="ruby-constant">ModuleFolder</span><span class="ruby-operator">::</span><span class="ruby-constant">NestedClass</span>.<span class="ruby-identifier">class_eval</span> <span class="ruby-string">&quot;NestedSibling&quot;</span>
    <span class="ruby-identifier">assert</span> <span class="ruby-keyword">defined?</span>(<span class="ruby-constant">ModuleFolder</span><span class="ruby-operator">::</span><span class="ruby-constant">NestedSibling</span>)
    <span class="ruby-identifier">assert_equal</span> <span class="ruby-constant">ModuleFolder</span><span class="ruby-operator">::</span><span class="ruby-constant">NestedSibling</span>, <span class="ruby-identifier">sibling</span>
    <span class="ruby-constant">Object</span>.<span class="ruby-identifier">send</span> <span class="ruby-value">:remove_const</span>, <span class="ruby-value">:ModuleFolder</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_nested_file_with_multiple_constants_and_auto_loading">
            
              <a name="method-i-test_nested_file_with_multiple_constants_and_auto_loading"></a><b>test_nested_file_with_multiple_constants_and_auto_loading</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_nested_file_with_multiple_constants_and_auto_loading_source')" id="l_method-i-test_nested_file_with_multiple_constants_and_auto_loading_source">show</a>
                
              </p>
              <div id="method-i-test_nested_file_with_multiple_constants_and_auto_loading_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/test/dependencies_test.rb, line 644</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_nested_file_with_multiple_constants_and_auto_loading</span>
  <span class="ruby-identifier">with_loading</span> <span class="ruby-string">'autoloading_fixtures'</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span> <span class="ruby-keyword">defined?</span>(<span class="ruby-constant">ClassFolder</span><span class="ruby-operator">::</span><span class="ruby-constant">NestedClass</span>)
    <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span> <span class="ruby-keyword">defined?</span>(<span class="ruby-constant">ClassFolder</span><span class="ruby-operator">::</span><span class="ruby-constant">SiblingClass</span>)

    <span class="ruby-identifier">assert_kind_of</span> <span class="ruby-constant">Class</span>, <span class="ruby-constant">ClassFolder</span><span class="ruby-operator">::</span><span class="ruby-constant">NestedClass</span>

    <span class="ruby-identifier">assert</span> <span class="ruby-keyword">defined?</span>(<span class="ruby-constant">ClassFolder</span><span class="ruby-operator">::</span><span class="ruby-constant">NestedClass</span>)
    <span class="ruby-identifier">assert</span> <span class="ruby-keyword">defined?</span>(<span class="ruby-constant">ClassFolder</span><span class="ruby-operator">::</span><span class="ruby-constant">SiblingClass</span>)
    <span class="ruby-identifier">assert</span> <span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">autoloaded?</span>(<span class="ruby-string">&quot;ClassFolder::NestedClass&quot;</span>)
    <span class="ruby-identifier">assert</span> <span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">autoloaded?</span>(<span class="ruby-string">&quot;ClassFolder::SiblingClass&quot;</span>)

    <span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">clear</span>

    <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span> <span class="ruby-keyword">defined?</span>(<span class="ruby-constant">ClassFolder</span><span class="ruby-operator">::</span><span class="ruby-constant">NestedClass</span>)
    <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span> <span class="ruby-keyword">defined?</span>(<span class="ruby-constant">ClassFolder</span><span class="ruby-operator">::</span><span class="ruby-constant">SiblingClass</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_nested_file_with_multiple_constants_and_require_dependency">
            
              <a name="method-i-test_nested_file_with_multiple_constants_and_require_dependency"></a><b>test_nested_file_with_multiple_constants_and_require_dependency</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_nested_file_with_multiple_constants_and_require_dependency_source')" id="l_method-i-test_nested_file_with_multiple_constants_and_require_dependency_source">show</a>
                
              </p>
              <div id="method-i-test_nested_file_with_multiple_constants_and_require_dependency_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/test/dependencies_test.rb, line 625</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_nested_file_with_multiple_constants_and_require_dependency</span>
  <span class="ruby-identifier">with_loading</span> <span class="ruby-string">'autoloading_fixtures'</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span> <span class="ruby-keyword">defined?</span>(<span class="ruby-constant">ClassFolder</span><span class="ruby-operator">::</span><span class="ruby-constant">NestedClass</span>)
    <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span> <span class="ruby-keyword">defined?</span>(<span class="ruby-constant">ClassFolder</span><span class="ruby-operator">::</span><span class="ruby-constant">SiblingClass</span>)

    <span class="ruby-identifier">require_dependency</span> <span class="ruby-string">'class_folder/nested_class'</span>

    <span class="ruby-identifier">assert</span> <span class="ruby-keyword">defined?</span>(<span class="ruby-constant">ClassFolder</span><span class="ruby-operator">::</span><span class="ruby-constant">NestedClass</span>)
    <span class="ruby-identifier">assert</span> <span class="ruby-keyword">defined?</span>(<span class="ruby-constant">ClassFolder</span><span class="ruby-operator">::</span><span class="ruby-constant">SiblingClass</span>)
    <span class="ruby-identifier">assert</span> <span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">autoloaded?</span>(<span class="ruby-string">&quot;ClassFolder::NestedClass&quot;</span>)
    <span class="ruby-identifier">assert</span> <span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">autoloaded?</span>(<span class="ruby-string">&quot;ClassFolder::SiblingClass&quot;</span>)

    <span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">clear</span>

    <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span> <span class="ruby-keyword">defined?</span>(<span class="ruby-constant">ClassFolder</span><span class="ruby-operator">::</span><span class="ruby-constant">NestedClass</span>)
    <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span> <span class="ruby-keyword">defined?</span>(<span class="ruby-constant">ClassFolder</span><span class="ruby-operator">::</span><span class="ruby-constant">SiblingClass</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_nested_load_error_isnt_rescued">
            
              <a name="method-i-test_nested_load_error_isnt_rescued"></a><b>test_nested_load_error_isnt_rescued</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_nested_load_error_isnt_rescued_source')" id="l_method-i-test_nested_load_error_isnt_rescued_source">show</a>
                
              </p>
              <div id="method-i-test_nested_load_error_isnt_rescued_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/test/dependencies_test.rb, line 423</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_nested_load_error_isnt_rescued</span>
  <span class="ruby-identifier">with_loading</span> <span class="ruby-string">'dependencies'</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">assert_raises</span>(<span class="ruby-constant">MissingSourceFile</span>) <span class="ruby-keyword">do</span>
      <span class="ruby-constant">RequiresNonexistent1</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_new_constants_in_module">
            
              <a name="method-i-test_new_constants_in_module"></a><b>test_new_constants_in_module</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_new_constants_in_module_source')" id="l_method-i-test_new_constants_in_module_source">show</a>
                
              </p>
              <div id="method-i-test_new_constants_in_module_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/test/dependencies_test.rb, line 544</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_new_constants_in_module</span>
  <span class="ruby-constant">Object</span>.<span class="ruby-identifier">const_set</span> <span class="ruby-value">:M</span>, <span class="ruby-constant">Module</span>.<span class="ruby-identifier">new</span>

  <span class="ruby-identifier">outer</span> = <span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">new_constants_in</span>(<span class="ruby-constant">M</span>) <span class="ruby-keyword">do</span>
    <span class="ruby-constant">M</span>.<span class="ruby-identifier">const_set</span> <span class="ruby-value">:OuterBefore</span>, <span class="ruby-number">10</span>

    <span class="ruby-identifier">inner</span> = <span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">new_constants_in</span>(<span class="ruby-constant">M</span>) <span class="ruby-keyword">do</span>
      <span class="ruby-constant">M</span>.<span class="ruby-identifier">const_set</span> <span class="ruby-value">:Inner</span>, <span class="ruby-number">20</span>
    <span class="ruby-keyword">end</span>
    <span class="ruby-identifier">assert_equal</span> [<span class="ruby-string">&quot;M::Inner&quot;</span>], <span class="ruby-identifier">inner</span>

    <span class="ruby-constant">M</span>.<span class="ruby-identifier">const_set</span> <span class="ruby-value">:OuterAfter</span>, <span class="ruby-number">30</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">assert_equal</span> [<span class="ruby-string">&quot;M::OuterAfter&quot;</span>, <span class="ruby-string">&quot;M::OuterBefore&quot;</span>], <span class="ruby-identifier">outer</span>.<span class="ruby-identifier">sort</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">constant_watch_stack</span>.<span class="ruby-identifier">empty?</span>
<span class="ruby-keyword">ensure</span>
  <span class="ruby-constant">Object</span>.<span class="ruby-identifier">send</span> <span class="ruby-value">:remove_const</span>, <span class="ruby-value">:M</span> <span class="ruby-keyword">rescue</span> <span class="ruby-keyword">nil</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_new_constants_in_module_using_name">
            
              <a name="method-i-test_new_constants_in_module_using_name"></a><b>test_new_constants_in_module_using_name</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_new_constants_in_module_using_name_source')" id="l_method-i-test_new_constants_in_module_using_name_source">show</a>
                
              </p>
              <div id="method-i-test_new_constants_in_module_using_name_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/test/dependencies_test.rb, line 563</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_new_constants_in_module_using_name</span>
  <span class="ruby-identifier">outer</span> = <span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">new_constants_in</span>(<span class="ruby-value">:M</span>) <span class="ruby-keyword">do</span>
    <span class="ruby-constant">Object</span>.<span class="ruby-identifier">const_set</span> <span class="ruby-value">:M</span>, <span class="ruby-constant">Module</span>.<span class="ruby-identifier">new</span>
    <span class="ruby-constant">M</span>.<span class="ruby-identifier">const_set</span> <span class="ruby-value">:OuterBefore</span>, <span class="ruby-number">10</span>

    <span class="ruby-identifier">inner</span> = <span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">new_constants_in</span>(<span class="ruby-value">:M</span>) <span class="ruby-keyword">do</span>
      <span class="ruby-constant">M</span>.<span class="ruby-identifier">const_set</span> <span class="ruby-value">:Inner</span>, <span class="ruby-number">20</span>
    <span class="ruby-keyword">end</span>
    <span class="ruby-identifier">assert_equal</span> [<span class="ruby-string">&quot;M::Inner&quot;</span>], <span class="ruby-identifier">inner</span>

    <span class="ruby-constant">M</span>.<span class="ruby-identifier">const_set</span> <span class="ruby-value">:OuterAfter</span>, <span class="ruby-number">30</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">assert_equal</span> [<span class="ruby-string">&quot;M::OuterAfter&quot;</span>, <span class="ruby-string">&quot;M::OuterBefore&quot;</span>], <span class="ruby-identifier">outer</span>.<span class="ruby-identifier">sort</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">constant_watch_stack</span>.<span class="ruby-identifier">empty?</span>
<span class="ruby-keyword">ensure</span>
  <span class="ruby-constant">Object</span>.<span class="ruby-identifier">send</span> <span class="ruby-value">:remove_const</span>, <span class="ruby-value">:M</span> <span class="ruby-keyword">rescue</span> <span class="ruby-keyword">nil</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_new_constants_in_with_a_single_constant">
            
              <a name="method-i-test_new_constants_in_with_a_single_constant"></a><b>test_new_constants_in_with_a_single_constant</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_new_constants_in_with_a_single_constant_source')" id="l_method-i-test_new_constants_in_with_a_single_constant_source">show</a>
                
              </p>
              <div id="method-i-test_new_constants_in_with_a_single_constant_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/test/dependencies_test.rb, line 515</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_new_constants_in_with_a_single_constant</span>
  <span class="ruby-identifier">assert_equal</span>([<span class="ruby-string">&quot;Hello&quot;</span>], (<span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">new_constants_in</span>(<span class="ruby-constant">Object</span>) <span class="ruby-keyword">do</span>
    <span class="ruby-constant">Object</span>.<span class="ruby-identifier">const_set</span> <span class="ruby-value">:Hello</span>, <span class="ruby-number">10</span>
  <span class="ruby-keyword">end</span>))
  <span class="ruby-identifier">assert</span> <span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">constant_watch_stack</span>.<span class="ruby-identifier">empty?</span>
<span class="ruby-keyword">ensure</span>
  <span class="ruby-constant">Object</span>.<span class="ruby-identifier">send</span> <span class="ruby-value">:remove_const</span>, <span class="ruby-value">:Hello</span> <span class="ruby-keyword">rescue</span> <span class="ruby-keyword">nil</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_new_constants_in_with_inherited_constants">
            
              <a name="method-i-test_new_constants_in_with_inherited_constants"></a><b>test_new_constants_in_with_inherited_constants</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_new_constants_in_with_inherited_constants_source')" id="l_method-i-test_new_constants_in_with_inherited_constants_source">show</a>
                
              </p>
              <div id="method-i-test_new_constants_in_with_inherited_constants_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/test/dependencies_test.rb, line 581</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_new_constants_in_with_inherited_constants</span>
  <span class="ruby-identifier">m</span> = <span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">new_constants_in</span>(<span class="ruby-value">:Object</span>) <span class="ruby-keyword">do</span>
    <span class="ruby-constant">Object</span>.<span class="ruby-identifier">send</span> <span class="ruby-value">:include</span>, <span class="ruby-constant">ModuleWithConstant</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">assert_equal</span> [], <span class="ruby-identifier">m</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_new_constants_in_with_nesting">
            
              <a name="method-i-test_new_constants_in_with_nesting"></a><b>test_new_constants_in_with_nesting</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_new_constants_in_with_nesting_source')" id="l_method-i-test_new_constants_in_with_nesting_source">show</a>
                
              </p>
              <div id="method-i-test_new_constants_in_with_nesting_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/test/dependencies_test.rb, line 524</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_new_constants_in_with_nesting</span>
  <span class="ruby-identifier">outer</span> = <span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">new_constants_in</span>(<span class="ruby-constant">Object</span>) <span class="ruby-keyword">do</span>
    <span class="ruby-constant">Object</span>.<span class="ruby-identifier">const_set</span> <span class="ruby-value">:OuterBefore</span>, <span class="ruby-number">10</span>

    <span class="ruby-identifier">inner</span> = <span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">new_constants_in</span>(<span class="ruby-constant">Object</span>) <span class="ruby-keyword">do</span>
      <span class="ruby-constant">Object</span>.<span class="ruby-identifier">const_set</span> <span class="ruby-value">:Inner</span>, <span class="ruby-number">20</span>
    <span class="ruby-keyword">end</span>
    <span class="ruby-identifier">assert_equal</span> [<span class="ruby-string">&quot;Inner&quot;</span>], <span class="ruby-identifier">inner</span>

    <span class="ruby-constant">Object</span>.<span class="ruby-identifier">const_set</span> <span class="ruby-value">:OuterAfter</span>, <span class="ruby-number">30</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">assert_equal</span> [<span class="ruby-string">&quot;OuterAfter&quot;</span>, <span class="ruby-string">&quot;OuterBefore&quot;</span>], <span class="ruby-identifier">outer</span>.<span class="ruby-identifier">sort</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">constant_watch_stack</span>.<span class="ruby-identifier">empty?</span>
<span class="ruby-keyword">ensure</span>
  <span class="ruby-node">%w(OuterBefore Inner OuterAfter)</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">name</span><span class="ruby-operator">|</span>
    <span class="ruby-constant">Object</span>.<span class="ruby-identifier">send</span> <span class="ruby-value">:remove_const</span>, <span class="ruby-identifier">name</span> <span class="ruby-keyword">rescue</span> <span class="ruby-keyword">nil</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_new_contants_in_without_constants">
            
              <a name="method-i-test_new_contants_in_without_constants"></a><b>test_new_contants_in_without_constants</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_new_contants_in_without_constants_source')" id="l_method-i-test_new_contants_in_without_constants_source">show</a>
                
              </p>
              <div id="method-i-test_new_contants_in_without_constants_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/test/dependencies_test.rb, line 510</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_new_contants_in_without_constants</span>
  <span class="ruby-identifier">assert_equal</span> [], (<span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">new_constants_in</span>(<span class="ruby-constant">Object</span>) { })
  <span class="ruby-identifier">assert</span> <span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">constant_watch_stack</span>.<span class="ruby-identifier">empty?</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_non_existing_const_raises_name_error">
            
              <a name="method-i-test_non_existing_const_raises_name_error"></a><b>test_non_existing_const_raises_name_error</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_non_existing_const_raises_name_error_source')" id="l_method-i-test_non_existing_const_raises_name_error_source">show</a>
                
              </p>
              <div id="method-i-test_non_existing_const_raises_name_error_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/test/dependencies_test.rb, line 137</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_non_existing_const_raises_name_error</span>
  <span class="ruby-identifier">with_loading</span> <span class="ruby-string">'autoloading_fixtures'</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">assert_raises</span>(<span class="ruby-constant">NameError</span>) { <span class="ruby-constant">DoesNotExist</span> }
    <span class="ruby-identifier">assert_raises</span>(<span class="ruby-constant">NameError</span>) { <span class="ruby-constant">NoModule</span><span class="ruby-operator">::</span><span class="ruby-constant">DoesNotExist</span> }
    <span class="ruby-identifier">assert_raises</span>(<span class="ruby-constant">NameError</span>) { <span class="ruby-constant">A</span><span class="ruby-operator">::</span><span class="ruby-constant">DoesNotExist</span> }
    <span class="ruby-identifier">assert_raises</span>(<span class="ruby-constant">NameError</span>) { <span class="ruby-constant">A</span><span class="ruby-operator">::</span><span class="ruby-constant">B</span><span class="ruby-operator">::</span><span class="ruby-constant">DoesNotExist</span> }
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_non_existing_const_raises_name_error_with_fully_qualified_name">
            
              <a name="method-i-test_non_existing_const_raises_name_error_with_fully_qualified_name"></a><b>test_non_existing_const_raises_name_error_with_fully_qualified_name</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_non_existing_const_raises_name_error_with_fully_qualified_name_source')" id="l_method-i-test_non_existing_const_raises_name_error_with_fully_qualified_name_source">show</a>
                
              </p>
              <div id="method-i-test_non_existing_const_raises_name_error_with_fully_qualified_name_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/test/dependencies_test.rb, line 215</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_non_existing_const_raises_name_error_with_fully_qualified_name</span>
  <span class="ruby-identifier">with_loading</span> <span class="ruby-string">'autoloading_fixtures'</span> <span class="ruby-keyword">do</span>
    <span class="ruby-keyword">begin</span>
      <span class="ruby-constant">A</span><span class="ruby-operator">::</span><span class="ruby-constant">DoesNotExist</span>.<span class="ruby-identifier">nil?</span>
      <span class="ruby-identifier">flunk</span> <span class="ruby-string">&quot;No raise!!&quot;</span>
    <span class="ruby-keyword">rescue</span> <span class="ruby-constant">NameError</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">e</span>
      <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;uninitialized constant A::DoesNotExist&quot;</span>, <span class="ruby-identifier">e</span>.<span class="ruby-identifier">message</span>
    <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">begin</span>
      <span class="ruby-constant">A</span><span class="ruby-operator">::</span><span class="ruby-constant">B</span><span class="ruby-operator">::</span><span class="ruby-constant">DoesNotExist</span>.<span class="ruby-identifier">nil?</span>
      <span class="ruby-identifier">flunk</span> <span class="ruby-string">&quot;No raise!!&quot;</span>
    <span class="ruby-keyword">rescue</span> <span class="ruby-constant">NameError</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">e</span>
      <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;uninitialized constant A::B::DoesNotExist&quot;</span>, <span class="ruby-identifier">e</span>.<span class="ruby-identifier">message</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_preexisting_constants_are_not_marked_as_autoloaded">
            
              <a name="method-i-test_preexisting_constants_are_not_marked_as_autoloaded"></a><b>test_preexisting_constants_are_not_marked_as_autoloaded</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_preexisting_constants_are_not_marked_as_autoloaded_source')" id="l_method-i-test_preexisting_constants_are_not_marked_as_autoloaded_source">show</a>
                
              </p>
              <div id="method-i-test_preexisting_constants_are_not_marked_as_autoloaded_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/test/dependencies_test.rb, line 463</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_preexisting_constants_are_not_marked_as_autoloaded</span>
  <span class="ruby-identifier">with_loading</span> <span class="ruby-string">'autoloading_fixtures'</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">require_dependency</span> <span class="ruby-string">'e'</span>
    <span class="ruby-identifier">assert</span> <span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">autoloaded?</span>(<span class="ruby-value">:E</span>)
    <span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">clear</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-constant">Object</span>.<span class="ruby-identifier">const_set</span> <span class="ruby-value">:E</span>, <span class="ruby-constant">Class</span>.<span class="ruby-identifier">new</span>
  <span class="ruby-identifier">with_loading</span> <span class="ruby-string">'autoloading_fixtures'</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">require_dependency</span> <span class="ruby-string">'e'</span>
    <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span> <span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">autoloaded?</span>(<span class="ruby-value">:E</span>), <span class="ruby-string">&quot;E shouldn't be marked autoloaded!&quot;</span>
    <span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">clear</span>
  <span class="ruby-keyword">end</span>

<span class="ruby-keyword">ensure</span>
  <span class="ruby-constant">Object</span>.<span class="ruby-identifier">send</span> <span class="ruby-value">:remove_const</span>, <span class="ruby-value">:E</span> <span class="ruby-keyword">if</span> <span class="ruby-constant">Object</span>.<span class="ruby-identifier">const_defined?</span>(<span class="ruby-value">:E</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_qualified_const_defined">
            
              <a name="method-i-test_qualified_const_defined"></a><b>test_qualified_const_defined</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_qualified_const_defined_source')" id="l_method-i-test_qualified_const_defined_source">show</a>
                
              </p>
              <div id="method-i-test_qualified_const_defined_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/test/dependencies_test.rb, line 278</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_qualified_const_defined</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">qualified_const_defined?</span>(<span class="ruby-string">&quot;Object&quot;</span>)
  <span class="ruby-identifier">assert</span> <span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">qualified_const_defined?</span>(<span class="ruby-string">&quot;::Object&quot;</span>)
  <span class="ruby-identifier">assert</span> <span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">qualified_const_defined?</span>(<span class="ruby-string">&quot;::Object::Kernel&quot;</span>)
  <span class="ruby-identifier">assert</span> <span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">qualified_const_defined?</span>(<span class="ruby-string">&quot;::Object::Dependencies&quot;</span>)
  <span class="ruby-identifier">assert</span> <span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">qualified_const_defined?</span>(<span class="ruby-string">&quot;::Test::Unit::TestCase&quot;</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_qualified_const_defined_should_not_call_method_missing">
            
              <a name="method-i-test_qualified_const_defined_should_not_call_method_missing"></a><b>test_qualified_const_defined_should_not_call_method_missing</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_qualified_const_defined_should_not_call_method_missing_source')" id="l_method-i-test_qualified_const_defined_should_not_call_method_missing_source">show</a>
                
              </p>
              <div id="method-i-test_qualified_const_defined_should_not_call_method_missing_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/test/dependencies_test.rb, line 286</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_qualified_const_defined_should_not_call_method_missing</span>
  <span class="ruby-constant">ModuleWithMissing</span>.<span class="ruby-identifier">missing_count</span> = <span class="ruby-number">0</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span> <span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">qualified_const_defined?</span>(<span class="ruby-string">&quot;ModuleWithMissing::A&quot;</span>)
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">0</span>, <span class="ruby-constant">ModuleWithMissing</span>.<span class="ruby-identifier">missing_count</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span> <span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">qualified_const_defined?</span>(<span class="ruby-string">&quot;ModuleWithMissing::A::B&quot;</span>)
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">0</span>, <span class="ruby-constant">ModuleWithMissing</span>.<span class="ruby-identifier">missing_count</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_qualified_name_for">
            
              <a name="method-i-test_qualified_name_for"></a><b>test_qualified_name_for</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_qualified_name_for_source')" id="l_method-i-test_qualified_name_for_source">show</a>
                
              </p>
              <div id="method-i-test_qualified_name_for_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/test/dependencies_test.rb, line 323</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_qualified_name_for</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;A&quot;</span>, <span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">qualified_name_for</span>(<span class="ruby-constant">Object</span>, <span class="ruby-value">:A</span>)
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;A&quot;</span>, <span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">qualified_name_for</span>(<span class="ruby-value">:Object</span>, <span class="ruby-value">:A</span>)
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;A&quot;</span>, <span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">qualified_name_for</span>(<span class="ruby-string">&quot;Object&quot;</span>, <span class="ruby-value">:A</span>)
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;A&quot;</span>, <span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">qualified_name_for</span>(<span class="ruby-string">&quot;::Object&quot;</span>, <span class="ruby-value">:A</span>)
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;A&quot;</span>, <span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">qualified_name_for</span>(<span class="ruby-string">&quot;::Kernel&quot;</span>, <span class="ruby-value">:A</span>)

  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;Dependencies::A&quot;</span>, <span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">qualified_name_for</span>(<span class="ruby-value">:Dependencies</span>, <span class="ruby-value">:A</span>)
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;Dependencies::A&quot;</span>, <span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">qualified_name_for</span>(<span class="ruby-constant">Dependencies</span>, <span class="ruby-value">:A</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_removal_from_tree_should_be_detected">
            
              <a name="method-i-test_removal_from_tree_should_be_detected"></a><b>test_removal_from_tree_should_be_detected</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_removal_from_tree_should_be_detected_source')" id="l_method-i-test_removal_from_tree_should_be_detected_source">show</a>
                
              </p>
              <div id="method-i-test_removal_from_tree_should_be_detected_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/test/dependencies_test.rb, line 408</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_removal_from_tree_should_be_detected</span>
  <span class="ruby-identifier">with_loading</span> <span class="ruby-string">'dependencies'</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">root</span> = <span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">load_paths</span>.<span class="ruby-identifier">first</span>
    <span class="ruby-identifier">c</span> = <span class="ruby-constant">ServiceOne</span>
    <span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">clear</span>
    <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span> <span class="ruby-keyword">defined?</span>(<span class="ruby-constant">ServiceOne</span>)
    <span class="ruby-keyword">begin</span>
      <span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">load_missing_constant</span>(<span class="ruby-identifier">c</span>, <span class="ruby-value">:FakeMissing</span>)
      <span class="ruby-identifier">flunk</span> <span class="ruby-string">&quot;Expected exception&quot;</span>
    <span class="ruby-keyword">rescue</span> <span class="ruby-constant">ArgumentError</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">e</span>
      <span class="ruby-identifier">assert_match</span> <span class="ruby-regexp">%r{ServiceOne has been removed from the module tree}</span>, <span class="ruby-identifier">e</span>.<span class="ruby-identifier">message</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_remove_constant_handles_double_colon_at_start">
            
              <a name="method-i-test_remove_constant_handles_double_colon_at_start"></a><b>test_remove_constant_handles_double_colon_at_start</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_remove_constant_handles_double_colon_at_start_source')" id="l_method-i-test_remove_constant_handles_double_colon_at_start_source">show</a>
                
              </p>
              <div id="method-i-test_remove_constant_handles_double_colon_at_start_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/test/dependencies_test.rb, line 713</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_remove_constant_handles_double_colon_at_start</span>
  <span class="ruby-constant">Object</span>.<span class="ruby-identifier">const_set</span> <span class="ruby-string">'DeleteMe'</span>, <span class="ruby-constant">Module</span>.<span class="ruby-identifier">new</span>
  <span class="ruby-constant">DeleteMe</span>.<span class="ruby-identifier">const_set</span> <span class="ruby-string">'OrMe'</span>, <span class="ruby-constant">Module</span>.<span class="ruby-identifier">new</span>
  <span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">send</span> <span class="ruby-value">:remove_constant</span>, <span class="ruby-string">&quot;::DeleteMe::OrMe&quot;</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span> <span class="ruby-keyword">defined?</span>(<span class="ruby-constant">DeleteMe</span><span class="ruby-operator">::</span><span class="ruby-constant">OrMe</span>)
  <span class="ruby-identifier">assert</span> <span class="ruby-keyword">defined?</span>(<span class="ruby-constant">DeleteMe</span>)
  <span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">send</span> <span class="ruby-value">:remove_constant</span>, <span class="ruby-string">&quot;::DeleteMe&quot;</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span> <span class="ruby-keyword">defined?</span>(<span class="ruby-constant">DeleteMe</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_smart_name_error_strings">
            
              <a name="method-i-test_smart_name_error_strings"></a><b>test_smart_name_error_strings</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_smart_name_error_strings_source')" id="l_method-i-test_smart_name_error_strings_source">show</a>
                
              </p>
              <div id="method-i-test_smart_name_error_strings_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/test/dependencies_test.rb, line 232</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_smart_name_error_strings</span>
  <span class="ruby-keyword">begin</span>
    <span class="ruby-constant">Object</span>.<span class="ruby-identifier">module_eval</span> <span class="ruby-string">&quot;ImaginaryObject&quot;</span>
    <span class="ruby-identifier">flunk</span> <span class="ruby-string">&quot;No raise!!&quot;</span>
  <span class="ruby-keyword">rescue</span> <span class="ruby-constant">NameError</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">e</span>
    <span class="ruby-identifier">assert</span> <span class="ruby-identifier">e</span>.<span class="ruby-identifier">message</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-string">&quot;uninitialized constant ImaginaryObject&quot;</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_tracking_identical_loaded_files">
            
              <a name="method-i-test_tracking_identical_loaded_files"></a><b>test_tracking_identical_loaded_files</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_tracking_identical_loaded_files_source')" id="l_method-i-test_tracking_identical_loaded_files_source">show</a>
                
              </p>
              <div id="method-i-test_tracking_identical_loaded_files_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/test/dependencies_test.rb, line 39</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_tracking_identical_loaded_files</span>
  <span class="ruby-identifier">require_dependency</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">dirname</span>(<span class="ruby-keyword">__FILE__</span>) <span class="ruby-operator">+</span> <span class="ruby-string">&quot;/dependencies/service_one&quot;</span>)
  <span class="ruby-identifier">require_dependency</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">dirname</span>(<span class="ruby-keyword">__FILE__</span>) <span class="ruby-operator">+</span> <span class="ruby-string">&quot;/dependencies/service_one&quot;</span>)
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">1</span>, <span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">loaded</span>.<span class="ruby-identifier">size</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_tracking_loaded_files">
            
              <a name="method-i-test_tracking_loaded_files"></a><b>test_tracking_loaded_files</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_tracking_loaded_files_source')" id="l_method-i-test_tracking_loaded_files_source">show</a>
                
              </p>
              <div id="method-i-test_tracking_loaded_files_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/test/dependencies_test.rb, line 33</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_tracking_loaded_files</span>
  <span class="ruby-identifier">require_dependency</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">dirname</span>(<span class="ruby-keyword">__FILE__</span>) <span class="ruby-operator">+</span> <span class="ruby-string">&quot;/dependencies/service_one&quot;</span>)
  <span class="ruby-identifier">require_dependency</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">dirname</span>(<span class="ruby-keyword">__FILE__</span>) <span class="ruby-operator">+</span> <span class="ruby-string">&quot;/dependencies/service_two&quot;</span>)
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">2</span>, <span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">loaded</span>.<span class="ruby-identifier">size</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_unloadable">
            
              <a name="method-i-test_unloadable"></a><b>test_unloadable</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_unloadable_source')" id="l_method-i-test_unloadable_source">show</a>
                
              </p>
              <div id="method-i-test_unloadable_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/test/dependencies_test.rb, line 481</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_unloadable</span>
  <span class="ruby-identifier">with_loading</span> <span class="ruby-string">'autoloading_fixtures'</span> <span class="ruby-keyword">do</span>
    <span class="ruby-constant">Object</span>.<span class="ruby-identifier">const_set</span> <span class="ruby-value">:M</span>, <span class="ruby-constant">Module</span>.<span class="ruby-identifier">new</span>
    <span class="ruby-constant">M</span>.<span class="ruby-identifier">unloadable</span>

    <span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">clear</span>
    <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span> <span class="ruby-keyword">defined?</span>(<span class="ruby-constant">M</span>)

    <span class="ruby-constant">Object</span>.<span class="ruby-identifier">const_set</span> <span class="ruby-value">:M</span>, <span class="ruby-constant">Module</span>.<span class="ruby-identifier">new</span>
    <span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">clear</span>
    <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span> <span class="ruby-keyword">defined?</span>(<span class="ruby-constant">M</span>), <span class="ruby-string">&quot;Dependencies should unload unloadable constants each time&quot;</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_unloadable_should_fail_with_anonymous_modules">
            
              <a name="method-i-test_unloadable_should_fail_with_anonymous_modules"></a><b>test_unloadable_should_fail_with_anonymous_modules</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_unloadable_should_fail_with_anonymous_modules_source')" id="l_method-i-test_unloadable_should_fail_with_anonymous_modules_source">show</a>
                
              </p>
              <div id="method-i-test_unloadable_should_fail_with_anonymous_modules_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/test/dependencies_test.rb, line 495</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_unloadable_should_fail_with_anonymous_modules</span>
  <span class="ruby-identifier">with_loading</span> <span class="ruby-string">'autoloading_fixtures'</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">m</span> = <span class="ruby-constant">Module</span>.<span class="ruby-identifier">new</span>
    <span class="ruby-identifier">assert_raises</span>(<span class="ruby-constant">ArgumentError</span>) { <span class="ruby-identifier">m</span>.<span class="ruby-identifier">unloadable</span> }
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_unloadable_should_return_change_flag">
            
              <a name="method-i-test_unloadable_should_return_change_flag"></a><b>test_unloadable_should_return_change_flag</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_unloadable_should_return_change_flag_source')" id="l_method-i-test_unloadable_should_return_change_flag_source">show</a>
                
              </p>
              <div id="method-i-test_unloadable_should_return_change_flag_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/test/dependencies_test.rb, line 502</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_unloadable_should_return_change_flag</span>
  <span class="ruby-identifier">with_loading</span> <span class="ruby-string">'autoloading_fixtures'</span> <span class="ruby-keyword">do</span>
    <span class="ruby-constant">Object</span>.<span class="ruby-identifier">const_set</span> <span class="ruby-value">:M</span>, <span class="ruby-constant">Module</span>.<span class="ruby-identifier">new</span>
    <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword">true</span>, <span class="ruby-constant">M</span>.<span class="ruby-identifier">unloadable</span>
    <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword">false</span>, <span class="ruby-constant">M</span>.<span class="ruby-identifier">unloadable</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_warnings_should_be_enabled_on_first_load">
            
              <a name="method-i-test_warnings_should_be_enabled_on_first_load"></a><b>test_warnings_should_be_enabled_on_first_load</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_warnings_should_be_enabled_on_first_load_source')" id="l_method-i-test_warnings_should_be_enabled_on_first_load_source">show</a>
                
              </p>
              <div id="method-i-test_warnings_should_be_enabled_on_first_load_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/test/dependencies_test.rb, line 73</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_warnings_should_be_enabled_on_first_load</span>
  <span class="ruby-identifier">with_loading</span> <span class="ruby-string">'dependencies'</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">old_warnings</span>, <span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">warnings_on_first_load</span> = <span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">warnings_on_first_load</span>, <span class="ruby-keyword">true</span>

    <span class="ruby-identifier">filename</span> = <span class="ruby-string">&quot;check_warnings&quot;</span>
    <span class="ruby-identifier">expanded</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">expand_path</span>(<span class="ruby-node">&quot;test/dependencies/#{filename}&quot;</span>)
    <span class="ruby-identifier">$check_warnings_load_count</span> = <span class="ruby-number">0</span>

    <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">loaded</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">expanded</span>)
    <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">history</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">expanded</span>)

    <span class="ruby-identifier">silence_warnings</span> { <span class="ruby-identifier">require_dependency</span> <span class="ruby-identifier">filename</span> }
    <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">1</span>, <span class="ruby-identifier">$check_warnings_load_count</span>
    <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword">true</span>, <span class="ruby-identifier">$checked_verbose</span>, <span class="ruby-string">'On first load warnings should be enabled.'</span>

    <span class="ruby-identifier">assert</span> <span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">loaded</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">expanded</span>)
    <span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">clear</span>
    <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">loaded</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">expanded</span>)
    <span class="ruby-identifier">assert</span> <span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">history</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">expanded</span>)

    <span class="ruby-identifier">silence_warnings</span> { <span class="ruby-identifier">require_dependency</span> <span class="ruby-identifier">filename</span> }
    <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">2</span>, <span class="ruby-identifier">$check_warnings_load_count</span>
    <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">$checked_verbose</span>, <span class="ruby-string">'After first load warnings should be left alone.'</span>

    <span class="ruby-identifier">assert</span> <span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">loaded</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">expanded</span>)
    <span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">clear</span>
    <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">loaded</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">expanded</span>)
    <span class="ruby-identifier">assert</span> <span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">history</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">expanded</span>)

    <span class="ruby-identifier">enable_warnings</span> { <span class="ruby-identifier">require_dependency</span> <span class="ruby-identifier">filename</span> }
    <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">3</span>, <span class="ruby-identifier">$check_warnings_load_count</span>
    <span class="ruby-identifier">assert_equal</span> <span class="ruby-keyword">true</span>, <span class="ruby-identifier">$checked_verbose</span>, <span class="ruby-string">'After first load warnings should be left alone.'</span>

    <span class="ruby-identifier">assert</span> <span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">loaded</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">expanded</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-with_loading">
            
              <a name="method-i-with_loading"></a><b>with_loading</b>(*from)
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-with_loading_source')" id="l_method-i-with_loading_source">show</a>
                
              </p>
              <div id="method-i-with_loading_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/test/dependencies_test.rb, line 21</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">with_loading</span>(*<span class="ruby-identifier">from</span>)
  <span class="ruby-identifier">old_mechanism</span>, <span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">mechanism</span> = <span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">mechanism</span>, <span class="ruby-value">:load</span>
  <span class="ruby-identifier">dir</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">dirname</span>(<span class="ruby-keyword">__FILE__</span>)
  <span class="ruby-identifier">prior_load_paths</span> = <span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">load_paths</span>
  <span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">load_paths</span> = <span class="ruby-identifier">from</span>.<span class="ruby-identifier">collect</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">f</span><span class="ruby-operator">|</span> <span class="ruby-node">&quot;#{dir}/#{f}&quot;</span> }
  <span class="ruby-keyword">yield</span>
<span class="ruby-keyword">ensure</span>
  <span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">load_paths</span> = <span class="ruby-identifier">prior_load_paths</span>
  <span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">mechanism</span> = <span class="ruby-identifier">old_mechanism</span>
  <span class="ruby-constant">Dependencies</span>.<span class="ruby-identifier">explicitly_unloadable_constants</span> = []
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
                    </div>
    </div>
  </body>
</html>    