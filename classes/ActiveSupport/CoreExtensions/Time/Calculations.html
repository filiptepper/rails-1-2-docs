<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>ActiveSupport::CoreExtensions::Time::Calculations</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link rel="stylesheet" href="../../../../css/reset.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../../../../css/main.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../../../../css/github.css" type="text/css" media="screen" />
<script src="../../../../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
<script src="../../../../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
<script src="../../../../js/main.js" type="text/javascript" charset="utf-8"></script>
<script src="../../../../js/highlight.pack.js" type="text/javascript" charset="utf-8"></script>

</head>

<body>     
    <div class="banner">
        
        <h1>
            <span class="type">Module</span> 
            ActiveSupport::CoreExtensions::Time::Calculations 
            
        </h1>
        <ul class="files">
            
            <li><a href="../../../../files/rails/activesupport/lib/active_support/core_ext/time/calculations_rb.html">rails/activesupport/lib/active_support/core_ext/time/calculations.rb</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
  
    <div class="description">
      
<p>Enables the use of time calculations within <a href="../Time.html">Time</a>
itself</p>

    </div>
  


  


  
  


  
    <!-- Namespace -->
    <div class="sectiontitle">Namespace</div>
    <ul>
      
        <li>
          <span class="type">MODULE</span>
          <a href="Calculations/ClassMethods.html">ActiveSupport::CoreExtensions::Time::Calculations::ClassMethods</a>
        </li>
      
    </ul>
  


  
    <!-- Method ref -->
    <div class="sectiontitle">Methods</div>
    <dl class="methods">
      
        <dt>A</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-advance">advance</a>,
              </li>
            
              
              <li>
                <a href="#method-i-ago">ago</a>,
              </li>
            
              
              <li>
                <a href="#method-i-at_beginning_of_day">at_beginning_of_day</a>,
              </li>
            
              
              <li>
                <a href="#method-i-at_beginning_of_month">at_beginning_of_month</a>,
              </li>
            
              
              <li>
                <a href="#method-i-at_beginning_of_quarter">at_beginning_of_quarter</a>,
              </li>
            
              
              <li>
                <a href="#method-i-at_beginning_of_week">at_beginning_of_week</a>,
              </li>
            
              
              <li>
                <a href="#method-i-at_beginning_of_year">at_beginning_of_year</a>,
              </li>
            
              
              <li>
                <a href="#method-i-at_end_of_month">at_end_of_month</a>,
              </li>
            
              
              <li>
                <a href="#method-i-at_midnight">at_midnight</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>B</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-beginning_of_day">beginning_of_day</a>,
              </li>
            
              
              <li>
                <a href="#method-i-beginning_of_month">beginning_of_month</a>,
              </li>
            
              
              <li>
                <a href="#method-i-beginning_of_quarter">beginning_of_quarter</a>,
              </li>
            
              
              <li>
                <a href="#method-i-beginning_of_week">beginning_of_week</a>,
              </li>
            
              
              <li>
                <a href="#method-i-beginning_of_year">beginning_of_year</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>C</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-change">change</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>E</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-end_of_month">end_of_month</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>I</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-in">in</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>L</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-last_month">last_month</a>,
              </li>
            
              
              <li>
                <a href="#method-i-last_year">last_year</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>M</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-midnight">midnight</a>,
              </li>
            
              
              <li>
                <a href="#method-i-monday">monday</a>,
              </li>
            
              
              <li>
                <a href="#method-i-months_ago">months_ago</a>,
              </li>
            
              
              <li>
                <a href="#method-i-months_since">months_since</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>N</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-next_month">next_month</a>,
              </li>
            
              
              <li>
                <a href="#method-i-next_week">next_week</a>,
              </li>
            
              
              <li>
                <a href="#method-i-next_year">next_year</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>S</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-seconds_since_midnight">seconds_since_midnight</a>,
              </li>
            
              
              <li>
                <a href="#method-i-since">since</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>T</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-tomorrow">tomorrow</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>Y</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-years_ago">years_ago</a>,
              </li>
            
              
              <li>
                <a href="#method-i-years_since">years_since</a>,
              </li>
            
              
              <li>
                <a href="#method-i-yesterday">yesterday</a>
              </li>
            
          </ul>
        </dd>
      
    </dl>
  

  



  

    

    

    


    


    <!-- Methods -->
        
      <div class="sectiontitle">Instance Public methods</div>
      
        <div class="method">
          <div class="title method-title" id="method-i-advance">
            
              <a name="method-i-advance"></a><b>advance</b>(options)
            
          </div>
          
          
            <div class="description">
              <p>Uses <a href="../Date.html">Date</a> to provide precise <a
href="../Time.html">Time</a> calculations for years, months, and days.  The
<code>options</code> parameter takes a hash with  any of these keys:
:months, :days, :years.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-advance_source')" id="l_method-i-advance_source">show</a>
                
              </p>
              <div id="method-i-advance_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/lib/active_support/core_ext/time/calculations.rb, line 49</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">advance</span>(<span class="ruby-identifier">options</span>)
  <span class="ruby-identifier">d</span> = <span class="ruby-operator">::</span><span class="ruby-constant">Date</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">year</span> <span class="ruby-operator">+</span> (<span class="ruby-identifier">options</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-value">:years</span>) <span class="ruby-operator">||</span> <span class="ruby-number">0</span>), <span class="ruby-identifier">month</span>, <span class="ruby-identifier">day</span>)
  <span class="ruby-identifier">d</span> = <span class="ruby-identifier">d</span> <span class="ruby-operator">&gt;&gt;</span> <span class="ruby-identifier">options</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-value">:months</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">options</span>[<span class="ruby-value">:months</span>]
  <span class="ruby-identifier">d</span> = <span class="ruby-identifier">d</span> <span class="ruby-operator">+</span>  <span class="ruby-identifier">options</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-value">:days</span>)   <span class="ruby-keyword">if</span> <span class="ruby-identifier">options</span>[<span class="ruby-value">:days</span>]
  <span class="ruby-identifier">change</span>(<span class="ruby-identifier">options</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-value">:year</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">d</span>.<span class="ruby-identifier">year</span>, <span class="ruby-value">:month</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">d</span>.<span class="ruby-identifier">month</span>, <span class="ruby-value">:mday</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">d</span>.<span class="ruby-identifier">day</span>))
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-ago">
            
              <a name="method-i-ago"></a><b>ago</b>(seconds)
            
          </div>
          
          
            <div class="description">
              <p>Returns a new <a href="../Time.html">Time</a> representing the time a
number of seconds ago, this is basically a wrapper around the <a
href="../Numeric.html">Numeric</a> extension Do not use this method in
combination with x.months, use <a
href="Calculations.html#method-i-months_ago">#months_ago</a> instead!</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-ago_source')" id="l_method-i-ago_source">show</a>
                
              </p>
              <div id="method-i-ago_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/lib/active_support/core_ext/time/calculations.rb, line 58</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">ago</span>(<span class="ruby-identifier">seconds</span>)
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">since</span>(<span class="ruby-operator">-</span><span class="ruby-identifier">seconds</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-at_beginning_of_day">
            
              <a name="method-i-at_beginning_of_day"></a><b>at_beginning_of_day</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-at_beginning_of_month">
            
              <a name="method-i-at_beginning_of_month"></a><b>at_beginning_of_month</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-at_beginning_of_quarter">
            
              <a name="method-i-at_beginning_of_quarter"></a><b>at_beginning_of_quarter</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-at_beginning_of_week">
            
              <a name="method-i-at_beginning_of_week"></a><b>at_beginning_of_week</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-at_beginning_of_year">
            
              <a name="method-i-at_beginning_of_year"></a><b>at_beginning_of_year</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-at_end_of_month">
            
              <a name="method-i-at_end_of_month"></a><b>at_end_of_month</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-at_midnight">
            
              <a name="method-i-at_midnight"></a><b>at_midnight</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-beginning_of_day">
            
              <a name="method-i-beginning_of_day"></a><b>beginning_of_day</b>()
            
          </div>
          
          
            <div class="description">
              <p>Returns a new <a href="../Time.html">Time</a> representing the start of the
day (0:00)</p>
            </div>
          
          
          
            <div class="aka">
              Also aliased as: <a href="Calculations.html#method-i-midnight">midnight</a>, <a href="Calculations.html#method-i-at_midnight">at_midnight</a>, <a href="Calculations.html#method-i-at_beginning_of_day">at_beginning_of_day</a>
            </div>
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-beginning_of_day_source')" id="l_method-i-beginning_of_day_source">show</a>
                
              </p>
              <div id="method-i-beginning_of_day_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/lib/active_support/core_ext/time/calculations.rb, line 145</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">beginning_of_day</span>
  (<span class="ruby-keyword">self</span> <span class="ruby-operator">-</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">seconds_since_midnight</span>).<span class="ruby-identifier">change</span>(<span class="ruby-value">:usec</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">0</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-beginning_of_month">
            
              <a name="method-i-beginning_of_month"></a><b>beginning_of_month</b>()
            
          </div>
          
          
            <div class="description">
              <p>Returns a new <a href="../Time.html">Time</a> representing the start of the
month (1st of the month, 0:00)</p>
            </div>
          
          
          
            <div class="aka">
              Also aliased as: <a href="Calculations.html#method-i-at_beginning_of_month">at_beginning_of_month</a>
            </div>
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-beginning_of_month_source')" id="l_method-i-beginning_of_month_source">show</a>
                
              </p>
              <div id="method-i-beginning_of_month_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/lib/active_support/core_ext/time/calculations.rb, line 153</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">beginning_of_month</span>
  <span class="ruby-comment">#self - ((self.mday-1).days + self.seconds_since_midnight)</span>
  <span class="ruby-identifier">change</span>(<span class="ruby-value">:mday</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">1</span>,<span class="ruby-value">:hour</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">0</span>, <span class="ruby-value">:min</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">0</span>, <span class="ruby-value">:sec</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">0</span>, <span class="ruby-value">:usec</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">0</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-beginning_of_quarter">
            
              <a name="method-i-beginning_of_quarter"></a><b>beginning_of_quarter</b>()
            
          </div>
          
          
            <div class="description">
              <p>Returns  a new <a href="../Time.html">Time</a> representing the start of
the quarter (1st of january, april, july, october, 0:00)</p>
            </div>
          
          
          
            <div class="aka">
              Also aliased as: <a href="Calculations.html#method-i-at_beginning_of_quarter">at_beginning_of_quarter</a>
            </div>
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-beginning_of_quarter_source')" id="l_method-i-beginning_of_quarter_source">show</a>
                
              </p>
              <div id="method-i-beginning_of_quarter_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/lib/active_support/core_ext/time/calculations.rb, line 168</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">beginning_of_quarter</span>
  <span class="ruby-identifier">beginning_of_month</span>.<span class="ruby-identifier">change</span>(<span class="ruby-value">:month</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-number">10</span>, <span class="ruby-number">7</span>, <span class="ruby-number">4</span>, <span class="ruby-number">1</span>].<span class="ruby-identifier">detect</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">m</span><span class="ruby-operator">|</span> <span class="ruby-identifier">m</span> <span class="ruby-operator">&lt;=</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">month</span> })
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-beginning_of_week">
            
              <a name="method-i-beginning_of_week"></a><b>beginning_of_week</b>()
            
          </div>
          
          
            <div class="description">
              <p>Returns a new <a href="../Time.html">Time</a> representing the “start” of
this week (Monday, 0:00)</p>
            </div>
          
          
          
            <div class="aka">
              Also aliased as: <a href="Calculations.html#method-i-monday">monday</a>, <a href="Calculations.html#method-i-at_beginning_of_week">at_beginning_of_week</a>
            </div>
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-beginning_of_week_source')" id="l_method-i-beginning_of_week_source">show</a>
                
              </p>
              <div id="method-i-beginning_of_week_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/lib/active_support/core_ext/time/calculations.rb, line 131</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">beginning_of_week</span>
  <span class="ruby-identifier">days_to_monday</span> = <span class="ruby-keyword">self</span>.<span class="ruby-identifier">wday!</span>=<span class="ruby-number">0</span> <span class="ruby-operator">?</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">wday</span><span class="ruby-operator">-</span><span class="ruby-number">1</span> <span class="ruby-operator">:</span> <span class="ruby-number">6</span>
  (<span class="ruby-keyword">self</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">days_to_monday</span>.<span class="ruby-identifier">days</span>).<span class="ruby-identifier">midnight</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-beginning_of_year">
            
              <a name="method-i-beginning_of_year"></a><b>beginning_of_year</b>()
            
          </div>
          
          
            <div class="description">
              <p>Returns  a new <a href="../Time.html">Time</a> representing the start of
the year (1st of january, 0:00)</p>
            </div>
          
          
          
            <div class="aka">
              Also aliased as: <a href="Calculations.html#method-i-at_beginning_of_year">at_beginning_of_year</a>
            </div>
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-beginning_of_year_source')" id="l_method-i-beginning_of_year_source">show</a>
                
              </p>
              <div id="method-i-beginning_of_year_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/lib/active_support/core_ext/time/calculations.rb, line 174</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">beginning_of_year</span>
  <span class="ruby-identifier">change</span>(<span class="ruby-value">:month</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">1</span>,<span class="ruby-value">:mday</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">1</span>,<span class="ruby-value">:hour</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">0</span>, <span class="ruby-value">:min</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">0</span>, <span class="ruby-value">:sec</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">0</span>, <span class="ruby-value">:usec</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">0</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-change">
            
              <a name="method-i-change"></a><b>change</b>(options)
            
          </div>
          
          
            <div class="description">
              <p>Returns a new <a href="../Time.html">Time</a> where one or more of the
elements have been changed according to the <code>options</code> parameter.
The time options (hour, minute, sec, usec) reset cascadingly, so if only
the hour is passed, then minute, sec, and usec is set to 0. If the hour and
minute is passed, then sec and usec is set to 0.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-change_source')" id="l_method-i-change_source">show</a>
                
              </p>
              <div id="method-i-change_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/lib/active_support/core_ext/time/calculations.rb, line 34</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">change</span>(<span class="ruby-identifier">options</span>)
  <span class="ruby-operator">::</span><span class="ruby-constant">Time</span>.<span class="ruby-identifier">send</span>(
    <span class="ruby-keyword">self</span>.<span class="ruby-identifier">utc?</span> <span class="ruby-operator">?</span> <span class="ruby-value">:utc</span> <span class="ruby-operator">:</span> <span class="ruby-value">:local</span>, 
    <span class="ruby-identifier">options</span>[<span class="ruby-value">:year</span>]  <span class="ruby-operator">||</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">year</span>, 
    <span class="ruby-identifier">options</span>[<span class="ruby-value">:month</span>] <span class="ruby-operator">||</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">month</span>, 
    <span class="ruby-identifier">options</span>[<span class="ruby-value">:mday</span>]  <span class="ruby-operator">||</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">mday</span>, 
    <span class="ruby-identifier">options</span>[<span class="ruby-value">:hour</span>]  <span class="ruby-operator">||</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">hour</span>, 
    <span class="ruby-identifier">options</span>[<span class="ruby-value">:min</span>]   <span class="ruby-operator">||</span> (<span class="ruby-identifier">options</span>[<span class="ruby-value">:hour</span>] <span class="ruby-operator">?</span> <span class="ruby-number">0</span> <span class="ruby-operator">:</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">min</span>),
    <span class="ruby-identifier">options</span>[<span class="ruby-value">:sec</span>]   <span class="ruby-operator">||</span> ((<span class="ruby-identifier">options</span>[<span class="ruby-value">:hour</span>] <span class="ruby-operator">||</span> <span class="ruby-identifier">options</span>[<span class="ruby-value">:min</span>]) <span class="ruby-operator">?</span> <span class="ruby-number">0</span> <span class="ruby-operator">:</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">sec</span>),
    <span class="ruby-identifier">options</span>[<span class="ruby-value">:usec</span>]  <span class="ruby-operator">||</span> ((<span class="ruby-identifier">options</span>[<span class="ruby-value">:hour</span>] <span class="ruby-operator">||</span> <span class="ruby-identifier">options</span>[<span class="ruby-value">:min</span>] <span class="ruby-operator">||</span> <span class="ruby-identifier">options</span>[<span class="ruby-value">:sec</span>]) <span class="ruby-operator">?</span> <span class="ruby-number">0</span> <span class="ruby-operator">:</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">usec</span>)
  )
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-end_of_month">
            
              <a name="method-i-end_of_month"></a><b>end_of_month</b>()
            
          </div>
          
          
            <div class="description">
              <p>Returns a new <a href="../Time.html">Time</a> representing the end of the
month (last day of the month, 0:00)</p>
            </div>
          
          
          
            <div class="aka">
              Also aliased as: <a href="Calculations.html#method-i-at_end_of_month">at_end_of_month</a>
            </div>
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-end_of_month_source')" id="l_method-i-end_of_month_source">show</a>
                
              </p>
              <div id="method-i-end_of_month_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/lib/active_support/core_ext/time/calculations.rb, line 160</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">end_of_month</span>
  <span class="ruby-comment">#self - ((self.mday-1).days + self.seconds_since_midnight)</span>
  <span class="ruby-identifier">last_day</span> = <span class="ruby-operator">::</span><span class="ruby-constant">Time</span>.<span class="ruby-identifier">days_in_month</span>( <span class="ruby-keyword">self</span>.<span class="ruby-identifier">month</span>, <span class="ruby-keyword">self</span>.<span class="ruby-identifier">year</span> )
  <span class="ruby-identifier">change</span>(<span class="ruby-value">:mday</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">last_day</span>,<span class="ruby-value">:hour</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">0</span>, <span class="ruby-value">:min</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">0</span>, <span class="ruby-value">:sec</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">0</span>, <span class="ruby-value">:usec</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">0</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-in">
            
              <a name="method-i-in"></a><b>in</b>(seconds)
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-last_month">
            
              <a name="method-i-last_month"></a><b>last_month</b>()
            
          </div>
          
          
            <div class="description">
              <p>Short-hand for <a
href="Calculations.html#method-i-months_ago">#months_ago</a>(1)</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-last_month_source')" id="l_method-i-last_month_source">show</a>
                
              </p>
              <div id="method-i-last_month_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/lib/active_support/core_ext/time/calculations.rb, line 121</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">last_month</span>
  <span class="ruby-identifier">months_ago</span>(<span class="ruby-number">1</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-last_year">
            
              <a name="method-i-last_year"></a><b>last_year</b>()
            
          </div>
          
          
            <div class="description">
              <p>Short-hand for <a
href="Calculations.html#method-i-years_ago">#years_ago</a>(1)</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-last_year_source')" id="l_method-i-last_year_source">show</a>
                
              </p>
              <div id="method-i-last_year_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/lib/active_support/core_ext/time/calculations.rb, line 110</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">last_year</span>
  <span class="ruby-identifier">years_ago</span>(<span class="ruby-number">1</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-midnight">
            
              <a name="method-i-midnight"></a><b>midnight</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-monday">
            
              <a name="method-i-monday"></a><b>monday</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-months_ago">
            
              <a name="method-i-months_ago"></a><b>months_ago</b>(months)
            
          </div>
          
          
            <div class="description">
              <p>Returns a new <a href="../Time.html">Time</a> representing the time a
number of specified months ago</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-months_ago_source')" id="l_method-i-months_ago_source">show</a>
                
              </p>
              <div id="method-i-months_ago_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/lib/active_support/core_ext/time/calculations.rb, line 73</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">months_ago</span>(<span class="ruby-identifier">months</span>)
  <span class="ruby-identifier">months_since</span>(<span class="ruby-operator">-</span><span class="ruby-identifier">months</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-months_since">
            
              <a name="method-i-months_since"></a><b>months_since</b>(months)
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-months_since_source')" id="l_method-i-months_since_source">show</a>
                
              </p>
              <div id="method-i-months_since_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/lib/active_support/core_ext/time/calculations.rb, line 77</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">months_since</span>(<span class="ruby-identifier">months</span>)
  <span class="ruby-identifier">year</span>, <span class="ruby-identifier">month</span>, <span class="ruby-identifier">mday</span> = <span class="ruby-keyword">self</span>.<span class="ruby-identifier">year</span>, <span class="ruby-keyword">self</span>.<span class="ruby-identifier">month</span>, <span class="ruby-keyword">self</span>.<span class="ruby-identifier">mday</span>

  <span class="ruby-identifier">month</span> <span class="ruby-operator">+=</span> <span class="ruby-identifier">months</span>

  <span class="ruby-comment"># in case months is negative</span>
  <span class="ruby-keyword">while</span> <span class="ruby-identifier">month</span> <span class="ruby-operator">&lt;</span> <span class="ruby-number">1</span>
    <span class="ruby-identifier">month</span> <span class="ruby-operator">+=</span> <span class="ruby-number">12</span>
    <span class="ruby-identifier">year</span> <span class="ruby-operator">-=</span> <span class="ruby-number">1</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-comment"># in case months is positive</span>
  <span class="ruby-keyword">while</span> <span class="ruby-identifier">month</span> <span class="ruby-operator">&gt;</span> <span class="ruby-number">12</span>
    <span class="ruby-identifier">month</span> <span class="ruby-operator">-=</span> <span class="ruby-number">12</span>
    <span class="ruby-identifier">year</span> <span class="ruby-operator">+=</span> <span class="ruby-number">1</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">max</span> = <span class="ruby-operator">::</span><span class="ruby-constant">Time</span>.<span class="ruby-identifier">days_in_month</span>(<span class="ruby-identifier">month</span>, <span class="ruby-identifier">year</span>)
  <span class="ruby-identifier">mday</span> = <span class="ruby-identifier">max</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">mday</span> <span class="ruby-operator">&gt;</span> <span class="ruby-identifier">max</span>

  <span class="ruby-identifier">change</span>(<span class="ruby-value">:year</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">year</span>, <span class="ruby-value">:month</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">month</span>, <span class="ruby-value">:mday</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">mday</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-next_month">
            
              <a name="method-i-next_month"></a><b>next_month</b>()
            
          </div>
          
          
            <div class="description">
              <p>Short-hand for <a
href="Calculations.html#method-i-months_since">#months_since</a>(1)</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-next_month_source')" id="l_method-i-next_month_source">show</a>
                
              </p>
              <div id="method-i-next_month_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/lib/active_support/core_ext/time/calculations.rb, line 126</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">next_month</span>
  <span class="ruby-identifier">months_since</span>(<span class="ruby-number">1</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-next_week">
            
              <a name="method-i-next_week"></a><b>next_week</b>(day = :monday)
            
          </div>
          
          
            <div class="description">
              <p>Returns a new <a href="../Time.html">Time</a> representing the start of the
given day in next week (default is Monday).</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-next_week_source')" id="l_method-i-next_week_source">show</a>
                
              </p>
              <div id="method-i-next_week_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/lib/active_support/core_ext/time/calculations.rb, line 139</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">next_week</span>(<span class="ruby-identifier">day</span> = <span class="ruby-value">:monday</span>)
  <span class="ruby-identifier">days_into_week</span> = { <span class="ruby-value">:monday</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">0</span>, <span class="ruby-value">:tuesday</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">1</span>, <span class="ruby-value">:wednesday</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">2</span>, <span class="ruby-value">:thursday</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">3</span>, <span class="ruby-value">:friday</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">4</span>, <span class="ruby-value">:saturday</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">5</span>, <span class="ruby-value">:sunday</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">6</span>}
  <span class="ruby-identifier">since</span>(<span class="ruby-number">1</span>.<span class="ruby-identifier">week</span>).<span class="ruby-identifier">beginning_of_week</span>.<span class="ruby-identifier">since</span>(<span class="ruby-identifier">days_into_week</span>[<span class="ruby-identifier">day</span>].<span class="ruby-identifier">day</span>).<span class="ruby-identifier">change</span>(<span class="ruby-value">:hour</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">0</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-next_year">
            
              <a name="method-i-next_year"></a><b>next_year</b>()
            
          </div>
          
          
            <div class="description">
              <p>Short-hand for <a
href="Calculations.html#method-i-years_since">#years_since</a>(1)</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-next_year_source')" id="l_method-i-next_year_source">show</a>
                
              </p>
              <div id="method-i-next_year_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/lib/active_support/core_ext/time/calculations.rb, line 115</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">next_year</span>
  <span class="ruby-identifier">years_since</span>(<span class="ruby-number">1</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-seconds_since_midnight">
            
              <a name="method-i-seconds_since_midnight"></a><b>seconds_since_midnight</b>()
            
          </div>
          
          
            <div class="description">
              <p>Seconds since midnight: Time.now.<a
href="Calculations.html#method-i-seconds_since_midnight">#seconds_since_midnight</a></p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-seconds_since_midnight_source')" id="l_method-i-seconds_since_midnight_source">show</a>
                
              </p>
              <div id="method-i-seconds_since_midnight_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/lib/active_support/core_ext/time/calculations.rb, line 27</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">seconds_since_midnight</span>
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">to_i</span> <span class="ruby-operator">-</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">change</span>(<span class="ruby-value">:hour</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">0</span>).<span class="ruby-identifier">to_i</span> <span class="ruby-operator">+</span> (<span class="ruby-keyword">self</span>.<span class="ruby-identifier">usec</span><span class="ruby-operator">/</span><span class="ruby-number">1.0e+6</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-since">
            
              <a name="method-i-since"></a><b>since</b>(seconds)
            
          </div>
          
          
            <div class="description">
              <pre>Returns a new Time representing the time a number of seconds since the instance time, this is basically a wrapper around</pre>

<p>the <a href="../Numeric.html">Numeric</a> extension. Do not use this method
in combination with x.months, use <a
href="Calculations.html#method-i-months_since">#months_since</a> instead!</p>
            </div>
          
          
          
            <div class="aka">
              Also aliased as: <a href="Calculations.html#method-i-in">in</a>
            </div>
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-since_source')" id="l_method-i-since_source">show</a>
                
              </p>
              <div id="method-i-since_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/lib/active_support/core_ext/time/calculations.rb, line 64</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">since</span>(<span class="ruby-identifier">seconds</span>)
  <span class="ruby-identifier">initial_dst</span> = <span class="ruby-keyword">self</span>.<span class="ruby-identifier">dst?</span> <span class="ruby-operator">?</span> <span class="ruby-number">1</span> <span class="ruby-operator">:</span> <span class="ruby-number">0</span>
  <span class="ruby-identifier">f</span> = <span class="ruby-identifier">seconds</span>.<span class="ruby-identifier">since</span>(<span class="ruby-keyword">self</span>)
  <span class="ruby-identifier">final_dst</span>   = <span class="ruby-identifier">f</span>.<span class="ruby-identifier">dst?</span> <span class="ruby-operator">?</span> <span class="ruby-number">1</span> <span class="ruby-operator">:</span> <span class="ruby-number">0</span>
  (<span class="ruby-identifier">seconds</span>.<span class="ruby-identifier">abs</span> <span class="ruby-operator">&gt;=</span> <span class="ruby-number">86400</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">initial_dst</span> <span class="ruby-operator">!=</span> <span class="ruby-identifier">final_dst</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">f</span> <span class="ruby-operator">+</span> (<span class="ruby-identifier">initial_dst</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">final_dst</span>).<span class="ruby-identifier">hours</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">f</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-tomorrow">
            
              <a name="method-i-tomorrow"></a><b>tomorrow</b>()
            
          </div>
          
          
            <div class="description">
              <p>Convenience method which returns a new <a href="../Time.html">Time</a>
representing the time 1 day since the instance time</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-tomorrow_source')" id="l_method-i-tomorrow_source">show</a>
                
              </p>
              <div id="method-i-tomorrow_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/lib/active_support/core_ext/time/calculations.rb, line 185</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">tomorrow</span>
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">since</span>(<span class="ruby-number">1</span>.<span class="ruby-identifier">day</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-years_ago">
            
              <a name="method-i-years_ago"></a><b>years_ago</b>(years)
            
          </div>
          
          
            <div class="description">
              <p>Returns a new <a href="../Time.html">Time</a> representing the time a
number of specified years ago</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-years_ago_source')" id="l_method-i-years_ago_source">show</a>
                
              </p>
              <div id="method-i-years_ago_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/lib/active_support/core_ext/time/calculations.rb, line 101</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">years_ago</span>(<span class="ruby-identifier">years</span>)
  <span class="ruby-identifier">change</span>(<span class="ruby-value">:year</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">year</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">years</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-years_since">
            
              <a name="method-i-years_since"></a><b>years_since</b>(years)
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-years_since_source')" id="l_method-i-years_since_source">show</a>
                
              </p>
              <div id="method-i-years_since_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/lib/active_support/core_ext/time/calculations.rb, line 105</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">years_since</span>(<span class="ruby-identifier">years</span>)
  <span class="ruby-identifier">change</span>(<span class="ruby-value">:year</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">year</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">years</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-yesterday">
            
              <a name="method-i-yesterday"></a><b>yesterday</b>()
            
          </div>
          
          
            <div class="description">
              <p>Convenience method which returns a new <a href="../Time.html">Time</a>
representing the time 1 day ago</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-yesterday_source')" id="l_method-i-yesterday_source">show</a>
                
              </p>
              <div id="method-i-yesterday_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activesupport/lib/active_support/core_ext/time/calculations.rb, line 180</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">yesterday</span>
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">ago</span>(<span class="ruby-number">1</span>.<span class="ruby-identifier">day</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
                    </div>
    </div>
  </body>
</html>    