<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>ValidationsTest</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link rel="stylesheet" href="../css/reset.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../css/main.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../css/github.css" type="text/css" media="screen" />
<script src="../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
<script src="../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
<script src="../js/main.js" type="text/javascript" charset="utf-8"></script>
<script src="../js/highlight.pack.js" type="text/javascript" charset="utf-8"></script>

</head>

<body>     
    <div class="banner">
        
        <h1>
            <span class="type">Class</span> 
            ValidationsTest 
            
                <span class="parent">&lt; 
                    
                    Test::Unit::TestCase
                    
                </span>
            
        </h1>
        <ul class="files">
            
            <li><a href="../files/rails/activerecord/test/validations_test_rb.html">rails/activerecord/test/validations_test.rb</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
  


  


  
  


  


  
    <!-- Method ref -->
    <div class="sectiontitle">Methods</div>
    <dl class="methods">
      
        <dt>K</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-kcode_scope">kcode_scope</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>S</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-setup">setup</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>T</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-test_add_on_boundary_breaking_is_deprecated">test_add_on_boundary_breaking_is_deprecated</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_conditional_validation_using_block_false">test_conditional_validation_using_block_false</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_conditional_validation_using_block_true">test_conditional_validation_using_block_true</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_conditional_validation_using_method_false">test_conditional_validation_using_method_false</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_conditional_validation_using_method_true">test_conditional_validation_using_method_true</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_conditional_validation_using_string_false">test_conditional_validation_using_string_false</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_conditional_validation_using_string_true">test_conditional_validation_using_string_true</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_create_without_validation">test_create_without_validation</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_create_without_validation_bang">test_create_without_validation_bang</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_double_attr_validation_and_error_msg">test_double_attr_validation_and_error_msg</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_error_on_create">test_error_on_create</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_error_on_update">test_error_on_update</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_errors_on_base">test_errors_on_base</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_errors_to_xml">test_errors_to_xml</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_eula">test_eula</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_invalid_record_exception">test_invalid_record_exception</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_invalid_validator">test_invalid_validator</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_multiple_errors_per_attr_iteration_with_full_error_composition">test_multiple_errors_per_attr_iteration_with_full_error_composition</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_no_title_confirmation">test_no_title_confirmation</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_numericality_with_allow_nil_and_getter_method">test_numericality_with_allow_nil_and_getter_method</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_optionally_validates_length_of_using_is">test_optionally_validates_length_of_using_is</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_optionally_validates_length_of_using_maximum">test_optionally_validates_length_of_using_maximum</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_optionally_validates_length_of_using_minimum">test_optionally_validates_length_of_using_minimum</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_optionally_validates_length_of_using_within">test_optionally_validates_length_of_using_within</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_optionally_validates_length_of_using_within_on_create">test_optionally_validates_length_of_using_within_on_create</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_optionally_validates_length_of_using_within_on_create_utf8">test_optionally_validates_length_of_using_within_on_create_utf8</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_optionally_validates_length_of_using_within_on_update">test_optionally_validates_length_of_using_within_on_update</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_optionally_validates_length_of_using_within_on_update_utf8">test_optionally_validates_length_of_using_within_on_update_utf8</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_optionally_validates_length_of_using_within_utf8">test_optionally_validates_length_of_using_within_utf8</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_scoped_create_without_attributes">test_scoped_create_without_attributes</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_single_attr_validation_and_error_msg">test_single_attr_validation_and_error_msg</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_single_error_per_attr_iteration">test_single_error_per_attr_iteration</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_single_field_validation">test_single_field_validation</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_terms_of_service_agreement">test_terms_of_service_agreement</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_terms_of_service_agreement_no_acceptance">test_terms_of_service_agreement_no_acceptance</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_terms_of_service_agreement_with_accept_value">test_terms_of_service_agreement_with_accept_value</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_throw_away_typing">test_throw_away_typing</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_title_confirmation">test_title_confirmation</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_validate_block">test_validate_block</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_validate_case_insensitive_uniqueness">test_validate_case_insensitive_uniqueness</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_validate_format">test_validate_format</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_validate_format_numeric">test_validate_format_numeric</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_validate_presences">test_validate_presences</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_validate_uniqueness">test_validate_uniqueness</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_validate_uniqueness_with_scope">test_validate_uniqueness_with_scope</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_validate_uniqueness_with_scope_array">test_validate_uniqueness_with_scope_array</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_validates_acceptance_of_with_custom_error_using_quotes">test_validates_acceptance_of_with_custom_error_using_quotes</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_validates_associated_many">test_validates_associated_many</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_validates_associated_missing">test_validates_associated_missing</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_validates_associated_one">test_validates_associated_one</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_validates_associated_with_custom_message_using_quotes">test_validates_associated_with_custom_message_using_quotes</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_validates_confirmation_of_with_custom_error_using_quotes">test_validates_confirmation_of_with_custom_error_using_quotes</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_validates_each">test_validates_each</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_validates_exclusion_of">test_validates_exclusion_of</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_validates_format_of_with_custom_error_using_quotes">test_validates_format_of_with_custom_error_using_quotes</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_validates_inclusion_of">test_validates_inclusion_of</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_validates_inclusion_of_with_allow_nil">test_validates_inclusion_of_with_allow_nil</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_validates_inclusion_of_with_custom_error_using_quotes">test_validates_inclusion_of_with_custom_error_using_quotes</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_validates_length_of_custom_errors_for_is_with_message">test_validates_length_of_custom_errors_for_is_with_message</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_validates_length_of_custom_errors_for_is_with_wrong_length">test_validates_length_of_custom_errors_for_is_with_wrong_length</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_validates_length_of_custom_errors_for_maximum_with_message">test_validates_length_of_custom_errors_for_maximum_with_message</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_validates_length_of_custom_errors_for_maximum_with_too_long">test_validates_length_of_custom_errors_for_maximum_with_too_long</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_validates_length_of_custom_errors_for_minimum_with_message">test_validates_length_of_custom_errors_for_minimum_with_message</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_validates_length_of_custom_errors_for_minimum_with_too_short">test_validates_length_of_custom_errors_for_minimum_with_too_short</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_validates_length_of_nasty_params">test_validates_length_of_nasty_params</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_validates_length_of_using_bignum">test_validates_length_of_using_bignum</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_validates_length_of_using_is">test_validates_length_of_using_is</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_validates_length_of_using_is_utf8">test_validates_length_of_using_is_utf8</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_validates_length_of_using_maximum">test_validates_length_of_using_maximum</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_validates_length_of_using_maximum_utf8">test_validates_length_of_using_maximum_utf8</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_validates_length_of_using_minimum">test_validates_length_of_using_minimum</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_validates_length_of_using_minimum_utf8">test_validates_length_of_using_minimum_utf8</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_validates_length_of_using_within">test_validates_length_of_using_within</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_validates_length_of_using_within_utf8">test_validates_length_of_using_within_utf8</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_validates_length_of_with_custom_message_using_quotes">test_validates_length_of_with_custom_message_using_quotes</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_validates_length_of_with_custom_too_long_using_quotes">test_validates_length_of_with_custom_too_long_using_quotes</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_validates_length_of_with_custom_too_short_using_quotes">test_validates_length_of_with_custom_too_short_using_quotes</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_validates_length_with_globaly_modified_error_message">test_validates_length_with_globaly_modified_error_message</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_validates_presence_of_with_custom_message_using_quotes">test_validates_presence_of_with_custom_message_using_quotes</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_validates_size_of_association">test_validates_size_of_association</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_validates_size_of_association_utf8">test_validates_size_of_association_utf8</a>,
              </li>
            
              
              <li>
                <a href="#method-i-test_validates_uniqueness_of_with_custom_message_using_quotes">test_validates_uniqueness_of_with_custom_message_using_quotes</a>
              </li>
            
          </ul>
        </dd>
      
    </dl>
  

  



  

    

    

    


    


    <!-- Methods -->
        
      <div class="sectiontitle">Instance Public methods</div>
      
        <div class="method">
          <div class="title method-title" id="method-i-kcode_scope">
            
              <a name="method-i-kcode_scope"></a><b>kcode_scope</b>(kcode)
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-kcode_scope_source')" id="l_method-i-kcode_scope_source">show</a>
                
              </p>
              <div id="method-i-kcode_scope_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/test/validations_test.rb, line 697</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">kcode_scope</span>(<span class="ruby-identifier">kcode</span>)
  <span class="ruby-identifier">orig_kcode</span> = <span class="ruby-identifier">$KCODE</span>
  <span class="ruby-identifier">$KCODE</span> = <span class="ruby-identifier">kcode</span>
  <span class="ruby-keyword">begin</span>
    <span class="ruby-keyword">yield</span>
  <span class="ruby-keyword">ensure</span>
    <span class="ruby-identifier">$KCODE</span> = <span class="ruby-identifier">orig_kcode</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-setup">
            
              <a name="method-i-setup"></a><b>setup</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-setup_source')" id="l_method-i-setup_source">show</a>
                
              </p>
              <div id="method-i-setup_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/test/validations_test.rb, line 20</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">setup</span>
  <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">write_inheritable_attribute</span>(<span class="ruby-value">:validate</span>, <span class="ruby-keyword">nil</span>)
  <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">write_inheritable_attribute</span>(<span class="ruby-value">:validate_on_create</span>, <span class="ruby-keyword">nil</span>)
  <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">write_inheritable_attribute</span>(<span class="ruby-value">:validate_on_update</span>, <span class="ruby-keyword">nil</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_add_on_boundary_breaking_is_deprecated">
            
              <a name="method-i-test_add_on_boundary_breaking_is_deprecated"></a><b>test_add_on_boundary_breaking_is_deprecated</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_add_on_boundary_breaking_is_deprecated_source')" id="l_method-i-test_add_on_boundary_breaking_is_deprecated_source">show</a>
                
              </p>
              <div id="method-i-test_add_on_boundary_breaking_is_deprecated_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/test/validations_test.rb, line 617</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_add_on_boundary_breaking_is_deprecated</span>
  <span class="ruby-identifier">t</span> = <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">new</span>(<span class="ruby-string">'title'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'noreplies'</span>, <span class="ruby-string">'content'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'whatever'</span>)
  <span class="ruby-keyword">class</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-keyword ruby-title">t</span>
    <span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">validate</span>
      <span class="ruby-identifier">errors</span>.<span class="ruby-identifier">add_on_boundary_breaking</span>(<span class="ruby-string">'title'</span>, <span class="ruby-number">1</span><span class="ruby-operator">..</span><span class="ruby-number">6</span>)
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">assert_deprecated</span> <span class="ruby-string">'add_on_boundary_breaking'</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">t</span>.<span class="ruby-identifier">valid?</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_conditional_validation_using_block_false">
            
              <a name="method-i-test_conditional_validation_using_block_false"></a><b>test_conditional_validation_using_block_false</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_conditional_validation_using_block_false_source')" id="l_method-i-test_conditional_validation_using_block_false_source">show</a>
                
              </p>
              <div id="method-i-test_conditional_validation_using_block_false_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/test/validations_test.rb, line 1001</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_conditional_validation_using_block_false</span>
  <span class="ruby-comment"># When the block returns false</span>
  <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">validates_length_of</span>( <span class="ruby-value">:title</span>, <span class="ruby-value">:maximum=</span><span class="ruby-operator">&gt;</span><span class="ruby-number">5</span>, <span class="ruby-value">:too_long=</span><span class="ruby-operator">&gt;</span><span class="ruby-string">&quot;hoo %d&quot;</span>,
    <span class="ruby-value">:if</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Proc</span>.<span class="ruby-identifier">new</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">r</span><span class="ruby-operator">|</span> <span class="ruby-identifier">r</span>.<span class="ruby-identifier">title</span> <span class="ruby-operator">!=</span> <span class="ruby-string">&quot;uhohuhoh&quot;</span>} )
  <span class="ruby-identifier">t</span> = <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">create</span>(<span class="ruby-string">&quot;title&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;uhohuhoh&quot;</span>, <span class="ruby-string">&quot;content&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;whatever&quot;</span>)
  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">valid?</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">t</span>.<span class="ruby-identifier">errors</span>.<span class="ruby-identifier">on</span>(<span class="ruby-value">:title</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_conditional_validation_using_block_true">
            
              <a name="method-i-test_conditional_validation_using_block_true"></a><b>test_conditional_validation_using_block_true</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_conditional_validation_using_block_true_source')" id="l_method-i-test_conditional_validation_using_block_true_source">show</a>
                
              </p>
              <div id="method-i-test_conditional_validation_using_block_true_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/test/validations_test.rb, line 991</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_conditional_validation_using_block_true</span>
  <span class="ruby-comment"># When the block returns true</span>
  <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">validates_length_of</span>( <span class="ruby-value">:title</span>, <span class="ruby-value">:maximum=</span><span class="ruby-operator">&gt;</span><span class="ruby-number">5</span>, <span class="ruby-value">:too_long=</span><span class="ruby-operator">&gt;</span><span class="ruby-string">&quot;hoo %d&quot;</span>,
    <span class="ruby-value">:if</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Proc</span>.<span class="ruby-identifier">new</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">r</span><span class="ruby-operator">|</span> <span class="ruby-identifier">r</span>.<span class="ruby-identifier">content</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">&gt;</span> <span class="ruby-number">4</span> } )
  <span class="ruby-identifier">t</span> = <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">create</span>(<span class="ruby-string">&quot;title&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;uhohuhoh&quot;</span>, <span class="ruby-string">&quot;content&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;whatever&quot;</span>)
  <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">t</span>.<span class="ruby-identifier">valid?</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">errors</span>.<span class="ruby-identifier">on</span>(<span class="ruby-value">:title</span>)
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;hoo 5&quot;</span>, <span class="ruby-identifier">t</span>.<span class="ruby-identifier">errors</span>[<span class="ruby-string">&quot;title&quot;</span>]
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_conditional_validation_using_method_false">
            
              <a name="method-i-test_conditional_validation_using_method_false"></a><b>test_conditional_validation_using_method_false</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_conditional_validation_using_method_false_source')" id="l_method-i-test_conditional_validation_using_method_false_source">show</a>
                
              </p>
              <div id="method-i-test_conditional_validation_using_method_false_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/test/validations_test.rb, line 966</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_conditional_validation_using_method_false</span>
  <span class="ruby-comment"># When the method returns false</span>
  <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">validates_length_of</span>( <span class="ruby-value">:title</span>, <span class="ruby-value">:maximum=</span><span class="ruby-operator">&gt;</span><span class="ruby-number">5</span>, <span class="ruby-value">:too_long=</span><span class="ruby-operator">&gt;</span><span class="ruby-string">&quot;hoo %d&quot;</span>, <span class="ruby-value">:if</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:condition_is_true_but_its_not</span> )
  <span class="ruby-identifier">t</span> = <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">create</span>(<span class="ruby-string">&quot;title&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;uhohuhoh&quot;</span>, <span class="ruby-string">&quot;content&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;whatever&quot;</span>)
  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">valid?</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">t</span>.<span class="ruby-identifier">errors</span>.<span class="ruby-identifier">on</span>(<span class="ruby-value">:title</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_conditional_validation_using_method_true">
            
              <a name="method-i-test_conditional_validation_using_method_true"></a><b>test_conditional_validation_using_method_true</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_conditional_validation_using_method_true_source')" id="l_method-i-test_conditional_validation_using_method_true_source">show</a>
                
              </p>
              <div id="method-i-test_conditional_validation_using_method_true_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/test/validations_test.rb, line 957</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_conditional_validation_using_method_true</span>
  <span class="ruby-comment"># When the method returns true</span>
  <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">validates_length_of</span>( <span class="ruby-value">:title</span>, <span class="ruby-value">:maximum=</span><span class="ruby-operator">&gt;</span><span class="ruby-number">5</span>, <span class="ruby-value">:too_long=</span><span class="ruby-operator">&gt;</span><span class="ruby-string">&quot;hoo %d&quot;</span>, <span class="ruby-value">:if</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:condition_is_true</span> )
  <span class="ruby-identifier">t</span> = <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">create</span>(<span class="ruby-string">&quot;title&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;uhohuhoh&quot;</span>, <span class="ruby-string">&quot;content&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;whatever&quot;</span>)
  <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">t</span>.<span class="ruby-identifier">valid?</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">errors</span>.<span class="ruby-identifier">on</span>(<span class="ruby-value">:title</span>)
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;hoo 5&quot;</span>, <span class="ruby-identifier">t</span>.<span class="ruby-identifier">errors</span>[<span class="ruby-string">&quot;title&quot;</span>]
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_conditional_validation_using_string_false">
            
              <a name="method-i-test_conditional_validation_using_string_false"></a><b>test_conditional_validation_using_string_false</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_conditional_validation_using_string_false_source')" id="l_method-i-test_conditional_validation_using_string_false_source">show</a>
                
              </p>
              <div id="method-i-test_conditional_validation_using_string_false_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/test/validations_test.rb, line 983</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_conditional_validation_using_string_false</span>
  <span class="ruby-comment"># When the evaluated string returns false</span>
  <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">validates_length_of</span>( <span class="ruby-value">:title</span>, <span class="ruby-value">:maximum=</span><span class="ruby-operator">&gt;</span><span class="ruby-number">5</span>, <span class="ruby-value">:too_long=</span><span class="ruby-operator">&gt;</span><span class="ruby-string">&quot;hoo %d&quot;</span>, <span class="ruby-value">:if</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;false&quot;</span>)
  <span class="ruby-identifier">t</span> = <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">create</span>(<span class="ruby-string">&quot;title&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;uhohuhoh&quot;</span>, <span class="ruby-string">&quot;content&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;whatever&quot;</span>)
  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">valid?</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">t</span>.<span class="ruby-identifier">errors</span>.<span class="ruby-identifier">on</span>(<span class="ruby-value">:title</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_conditional_validation_using_string_true">
            
              <a name="method-i-test_conditional_validation_using_string_true"></a><b>test_conditional_validation_using_string_true</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_conditional_validation_using_string_true_source')" id="l_method-i-test_conditional_validation_using_string_true_source">show</a>
                
              </p>
              <div id="method-i-test_conditional_validation_using_string_true_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/test/validations_test.rb, line 974</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_conditional_validation_using_string_true</span>
  <span class="ruby-comment"># When the evaluated string returns true</span>
  <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">validates_length_of</span>( <span class="ruby-value">:title</span>, <span class="ruby-value">:maximum=</span><span class="ruby-operator">&gt;</span><span class="ruby-number">5</span>, <span class="ruby-value">:too_long=</span><span class="ruby-operator">&gt;</span><span class="ruby-string">&quot;hoo %d&quot;</span>, <span class="ruby-value">:if</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;a = 1; a == 1&quot;</span> )
  <span class="ruby-identifier">t</span> = <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">create</span>(<span class="ruby-string">&quot;title&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;uhohuhoh&quot;</span>, <span class="ruby-string">&quot;content&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;whatever&quot;</span>)
  <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">t</span>.<span class="ruby-identifier">valid?</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">errors</span>.<span class="ruby-identifier">on</span>(<span class="ruby-value">:title</span>)
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;hoo 5&quot;</span>, <span class="ruby-identifier">t</span>.<span class="ruby-identifier">errors</span>[<span class="ruby-string">&quot;title&quot;</span>]
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_create_without_validation">
            
              <a name="method-i-test_create_without_validation"></a><b>test_create_without_validation</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_create_without_validation_source')" id="l_method-i-test_create_without_validation_source">show</a>
                
              </p>
              <div id="method-i-test_create_without_validation_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/test/validations_test.rb, line 138</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_create_without_validation</span>
  <span class="ruby-identifier">reply</span> = <span class="ruby-constant">Reply</span>.<span class="ruby-identifier">new</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">reply</span>.<span class="ruby-identifier">save</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">reply</span>.<span class="ruby-identifier">save</span>(<span class="ruby-keyword">false</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_create_without_validation_bang">
            
              <a name="method-i-test_create_without_validation_bang"></a><b>test_create_without_validation_bang</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_create_without_validation_bang_source')" id="l_method-i-test_create_without_validation_bang_source">show</a>
                
              </p>
              <div id="method-i-test_create_without_validation_bang_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/test/validations_test.rb, line 144</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_create_without_validation_bang</span>
  <span class="ruby-identifier">count</span> = <span class="ruby-constant">Reply</span>.<span class="ruby-identifier">count</span>
  <span class="ruby-identifier">assert_nothing_raised</span> { <span class="ruby-constant">Reply</span>.<span class="ruby-identifier">new</span>.<span class="ruby-identifier">save_without_validation!</span> }
  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">count</span><span class="ruby-operator">+</span><span class="ruby-number">1</span>, <span class="ruby-constant">Reply</span>.<span class="ruby-identifier">count</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_double_attr_validation_and_error_msg">
            
              <a name="method-i-test_double_attr_validation_and_error_msg"></a><b>test_double_attr_validation_and_error_msg</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_double_attr_validation_and_error_msg_source')" id="l_method-i-test_double_attr_validation_and_error_msg_source">show</a>
                
              </p>
              <div id="method-i-test_double_attr_validation_and_error_msg_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/test/validations_test.rb, line 44</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_double_attr_validation_and_error_msg</span>
  <span class="ruby-identifier">r</span> = <span class="ruby-constant">Reply</span>.<span class="ruby-identifier">new</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">r</span>.<span class="ruby-identifier">valid?</span>

  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">r</span>.<span class="ruby-identifier">errors</span>.<span class="ruby-identifier">invalid?</span>(<span class="ruby-string">&quot;title&quot;</span>), <span class="ruby-string">&quot;A reply without title should mark that attribute as invalid&quot;</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;Empty&quot;</span>, <span class="ruby-identifier">r</span>.<span class="ruby-identifier">errors</span>.<span class="ruby-identifier">on</span>(<span class="ruby-string">&quot;title&quot;</span>), <span class="ruby-string">&quot;A reply without title should contain an error&quot;</span>

  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">r</span>.<span class="ruby-identifier">errors</span>.<span class="ruby-identifier">invalid?</span>(<span class="ruby-string">&quot;content&quot;</span>), <span class="ruby-string">&quot;A reply without content should mark that attribute as invalid&quot;</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;Empty&quot;</span>, <span class="ruby-identifier">r</span>.<span class="ruby-identifier">errors</span>.<span class="ruby-identifier">on</span>(<span class="ruby-string">&quot;content&quot;</span>), <span class="ruby-string">&quot;A reply without content should contain an error&quot;</span>

  <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">2</span>, <span class="ruby-identifier">r</span>.<span class="ruby-identifier">errors</span>.<span class="ruby-identifier">count</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_error_on_create">
            
              <a name="method-i-test_error_on_create"></a><b>test_error_on_create</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_error_on_create_source')" id="l_method-i-test_error_on_create_source">show</a>
                
              </p>
              <div id="method-i-test_error_on_create_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/test/validations_test.rb, line 57</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_error_on_create</span>
  <span class="ruby-identifier">r</span> = <span class="ruby-constant">Reply</span>.<span class="ruby-identifier">new</span>
  <span class="ruby-identifier">r</span>.<span class="ruby-identifier">title</span> = <span class="ruby-string">&quot;Wrong Create&quot;</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">r</span>.<span class="ruby-identifier">valid?</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">r</span>.<span class="ruby-identifier">errors</span>.<span class="ruby-identifier">invalid?</span>(<span class="ruby-string">&quot;title&quot;</span>), <span class="ruby-string">&quot;A reply with a bad title should mark that attribute as invalid&quot;</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;is Wrong Create&quot;</span>, <span class="ruby-identifier">r</span>.<span class="ruby-identifier">errors</span>.<span class="ruby-identifier">on</span>(<span class="ruby-string">&quot;title&quot;</span>), <span class="ruby-string">&quot;A reply with a bad content should contain an error&quot;</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_error_on_update">
            
              <a name="method-i-test_error_on_update"></a><b>test_error_on_update</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_error_on_update_source')" id="l_method-i-test_error_on_update_source">show</a>
                
              </p>
              <div id="method-i-test_error_on_update_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/test/validations_test.rb, line 65</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_error_on_update</span>
  <span class="ruby-identifier">r</span> = <span class="ruby-constant">Reply</span>.<span class="ruby-identifier">new</span>
  <span class="ruby-identifier">r</span>.<span class="ruby-identifier">title</span> = <span class="ruby-string">&quot;Bad&quot;</span>
  <span class="ruby-identifier">r</span>.<span class="ruby-identifier">content</span> = <span class="ruby-string">&quot;Good&quot;</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">r</span>.<span class="ruby-identifier">save</span>, <span class="ruby-string">&quot;First save should be successful&quot;</span>

  <span class="ruby-identifier">r</span>.<span class="ruby-identifier">title</span> = <span class="ruby-string">&quot;Wrong Update&quot;</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">r</span>.<span class="ruby-identifier">save</span>, <span class="ruby-string">&quot;Second save should fail&quot;</span>

  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">r</span>.<span class="ruby-identifier">errors</span>.<span class="ruby-identifier">invalid?</span>(<span class="ruby-string">&quot;title&quot;</span>), <span class="ruby-string">&quot;A reply with a bad title should mark that attribute as invalid&quot;</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;is Wrong Update&quot;</span>, <span class="ruby-identifier">r</span>.<span class="ruby-identifier">errors</span>.<span class="ruby-identifier">on</span>(<span class="ruby-string">&quot;title&quot;</span>), <span class="ruby-string">&quot;A reply with a bad content should contain an error&quot;</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_errors_on_base">
            
              <a name="method-i-test_errors_on_base"></a><b>test_errors_on_base</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_errors_on_base_source')" id="l_method-i-test_errors_on_base_source">show</a>
                
              </p>
              <div id="method-i-test_errors_on_base_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/test/validations_test.rb, line 122</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_errors_on_base</span>
  <span class="ruby-identifier">r</span> = <span class="ruby-constant">Reply</span>.<span class="ruby-identifier">new</span>
  <span class="ruby-identifier">r</span>.<span class="ruby-identifier">content</span> = <span class="ruby-string">&quot;Mismatch&quot;</span>
  <span class="ruby-identifier">r</span>.<span class="ruby-identifier">save</span>
  <span class="ruby-identifier">r</span>.<span class="ruby-identifier">errors</span>.<span class="ruby-identifier">add_to_base</span> <span class="ruby-string">&quot;Reply is not dignifying&quot;</span>

  <span class="ruby-identifier">errors</span> = []
  <span class="ruby-identifier">r</span>.<span class="ruby-identifier">errors</span>.<span class="ruby-identifier">each_full</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">error</span><span class="ruby-operator">|</span> <span class="ruby-identifier">errors</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">error</span> }

  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;Reply is not dignifying&quot;</span>, <span class="ruby-identifier">r</span>.<span class="ruby-identifier">errors</span>.<span class="ruby-identifier">on_base</span>

  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">errors</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-string">&quot;Title Empty&quot;</span>)
  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">errors</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-string">&quot;Reply is not dignifying&quot;</span>)
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">2</span>, <span class="ruby-identifier">r</span>.<span class="ruby-identifier">errors</span>.<span class="ruby-identifier">count</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_errors_to_xml">
            
              <a name="method-i-test_errors_to_xml"></a><b>test_errors_to_xml</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_errors_to_xml_source')" id="l_method-i-test_errors_to_xml_source">show</a>
                
              </p>
              <div id="method-i-test_errors_to_xml_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/test/validations_test.rb, line 1020</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_errors_to_xml</span>
  <span class="ruby-identifier">r</span> = <span class="ruby-constant">Reply</span>.<span class="ruby-identifier">new</span> <span class="ruby-value">:title</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;Wrong Create&quot;</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">r</span>.<span class="ruby-identifier">valid?</span>
  <span class="ruby-identifier">xml</span> = <span class="ruby-identifier">r</span>.<span class="ruby-identifier">errors</span>.<span class="ruby-identifier">to_xml</span>(<span class="ruby-value">:skip_instruct</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>)
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;&lt;errors&gt;&quot;</span>, <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">first</span>(<span class="ruby-number">8</span>)
  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-string">&quot;&lt;error&gt;Title is Wrong Create&lt;/error&gt;&quot;</span>)
  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">xml</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-string">&quot;&lt;error&gt;Content Empty&lt;/error&gt;&quot;</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_eula">
            
              <a name="method-i-test_eula"></a><b>test_eula</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_eula_source')" id="l_method-i-test_eula_source">show</a>
                
              </p>
              <div id="method-i-test_eula_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/test/validations_test.rb, line 214</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_eula</span>
  <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">validates_acceptance_of</span>(<span class="ruby-value">:eula</span>, <span class="ruby-value">:message</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;must be abided&quot;</span>, <span class="ruby-value">:on</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:create</span>)

  <span class="ruby-identifier">t</span> = <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">create</span>(<span class="ruby-string">&quot;title&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;We should be confirmed&quot;</span>,<span class="ruby-string">&quot;eula&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;&quot;</span>)
  <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">t</span>.<span class="ruby-identifier">save</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;must be abided&quot;</span>, <span class="ruby-identifier">t</span>.<span class="ruby-identifier">errors</span>.<span class="ruby-identifier">on</span>(<span class="ruby-value">:eula</span>)

  <span class="ruby-identifier">t</span>.<span class="ruby-identifier">eula</span> = <span class="ruby-string">&quot;1&quot;</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">save</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_invalid_record_exception">
            
              <a name="method-i-test_invalid_record_exception"></a><b>test_invalid_record_exception</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_invalid_record_exception_source')" id="l_method-i-test_invalid_record_exception_source">show</a>
                
              </p>
              <div id="method-i-test_invalid_record_exception_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/test/validations_test.rb, line 78</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_invalid_record_exception</span>
  <span class="ruby-identifier">assert_raises</span>(<span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">RecordInvalid</span>) { <span class="ruby-constant">Reply</span>.<span class="ruby-identifier">create!</span> }
  <span class="ruby-identifier">assert_raises</span>(<span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">RecordInvalid</span>) { <span class="ruby-constant">Reply</span>.<span class="ruby-identifier">new</span>.<span class="ruby-identifier">save!</span> }

  <span class="ruby-keyword">begin</span>
    <span class="ruby-identifier">r</span> = <span class="ruby-constant">Reply</span>.<span class="ruby-identifier">new</span>
    <span class="ruby-identifier">r</span>.<span class="ruby-identifier">save!</span>
    <span class="ruby-identifier">flunk</span>
  <span class="ruby-keyword">rescue</span> <span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">RecordInvalid</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">invalid</span>
    <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">r</span>, <span class="ruby-identifier">invalid</span>.<span class="ruby-identifier">record</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_invalid_validator">
            
              <a name="method-i-test_invalid_validator"></a><b>test_invalid_validator</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_invalid_validator_source')" id="l_method-i-test_invalid_validator_source">show</a>
                
              </p>
              <div id="method-i-test_invalid_validator_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/test/validations_test.rb, line 863</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_invalid_validator</span>
  <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">validate</span> <span class="ruby-number">3</span>
  <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">ActiveRecordError</span>) { <span class="ruby-identifier">t</span> = <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">create</span> }
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_multiple_errors_per_attr_iteration_with_full_error_composition">
            
              <a name="method-i-test_multiple_errors_per_attr_iteration_with_full_error_composition"></a><b>test_multiple_errors_per_attr_iteration_with_full_error_composition</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_multiple_errors_per_attr_iteration_with_full_error_composition_source')" id="l_method-i-test_multiple_errors_per_attr_iteration_with_full_error_composition_source">show</a>
                
              </p>
              <div id="method-i-test_multiple_errors_per_attr_iteration_with_full_error_composition_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/test/validations_test.rb, line 108</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_multiple_errors_per_attr_iteration_with_full_error_composition</span>
  <span class="ruby-identifier">r</span> = <span class="ruby-constant">Reply</span>.<span class="ruby-identifier">new</span>
  <span class="ruby-identifier">r</span>.<span class="ruby-identifier">title</span>   = <span class="ruby-string">&quot;Wrong Create&quot;</span>
  <span class="ruby-identifier">r</span>.<span class="ruby-identifier">content</span> = <span class="ruby-string">&quot;Mismatch&quot;</span>
  <span class="ruby-identifier">r</span>.<span class="ruby-identifier">save</span>

  <span class="ruby-identifier">errors</span> = []
  <span class="ruby-identifier">r</span>.<span class="ruby-identifier">errors</span>.<span class="ruby-identifier">each_full</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">error</span><span class="ruby-operator">|</span> <span class="ruby-identifier">errors</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">error</span> }

  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;Title is Wrong Create&quot;</span>, <span class="ruby-identifier">errors</span>[<span class="ruby-number">0</span>]
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;Title is Content Mismatch&quot;</span>, <span class="ruby-identifier">errors</span>[<span class="ruby-number">1</span>]
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">2</span>, <span class="ruby-identifier">r</span>.<span class="ruby-identifier">errors</span>.<span class="ruby-identifier">count</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_no_title_confirmation">
            
              <a name="method-i-test_no_title_confirmation"></a><b>test_no_title_confirmation</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_no_title_confirmation_source')" id="l_method-i-test_no_title_confirmation_source">show</a>
                
              </p>
              <div id="method-i-test_no_title_confirmation_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/test/validations_test.rb, line 168</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_no_title_confirmation</span>
  <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">validates_confirmation_of</span>(<span class="ruby-value">:title</span>)

  <span class="ruby-identifier">t</span> = <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">:author_name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;Plutarch&quot;</span>)
  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">valid?</span>

  <span class="ruby-identifier">t</span>.<span class="ruby-identifier">title_confirmation</span> = <span class="ruby-string">&quot;Parallel Lives&quot;</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">t</span>.<span class="ruby-identifier">valid?</span>

  <span class="ruby-identifier">t</span>.<span class="ruby-identifier">title_confirmation</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-identifier">t</span>.<span class="ruby-identifier">title</span> = <span class="ruby-string">&quot;Parallel Lives&quot;</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">valid?</span>

  <span class="ruby-identifier">t</span>.<span class="ruby-identifier">title_confirmation</span> = <span class="ruby-string">&quot;Parallel Lives&quot;</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">valid?</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_numericality_with_allow_nil_and_getter_method">
            
              <a name="method-i-test_numericality_with_allow_nil_and_getter_method"></a><b>test_numericality_with_allow_nil_and_getter_method</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_numericality_with_allow_nil_and_getter_method_source')" id="l_method-i-test_numericality_with_allow_nil_and_getter_method_source">show</a>
                
              </p>
              <div id="method-i-test_numericality_with_allow_nil_and_getter_method_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/test/validations_test.rb, line 422</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_numericality_with_allow_nil_and_getter_method</span>
  <span class="ruby-constant">Developer</span>.<span class="ruby-identifier">validates_numericality_of</span>( <span class="ruby-value">:salary</span>, <span class="ruby-value">:allow_nil</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>)
  <span class="ruby-identifier">developer</span> = <span class="ruby-constant">Developer</span>.<span class="ruby-identifier">new</span>(<span class="ruby-string">&quot;name&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;michael&quot;</span>, <span class="ruby-string">&quot;salary&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">nil</span>)
  <span class="ruby-identifier">developer</span>.<span class="ruby-identifier">instance_eval</span>(<span class="ruby-string">&quot;def salary; read_attribute('salary') ? read_attribute('salary') : 100000; end&quot;</span>)
  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">developer</span>.<span class="ruby-identifier">valid?</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_optionally_validates_length_of_using_is">
            
              <a name="method-i-test_optionally_validates_length_of_using_is"></a><b>test_optionally_validates_length_of_using_is</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_optionally_validates_length_of_using_is_source')" id="l_method-i-test_optionally_validates_length_of_using_is_source">show</a>
                
              </p>
              <div id="method-i-test_optionally_validates_length_of_using_is_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/test/validations_test.rb, line 585</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_optionally_validates_length_of_using_is</span>
  <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">validates_length_of</span> <span class="ruby-value">:title</span>, <span class="ruby-value">:is</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">5</span>, <span class="ruby-value">:allow_nil</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>

  <span class="ruby-identifier">t</span> = <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">create</span>(<span class="ruby-string">&quot;title&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;valid&quot;</span>, <span class="ruby-string">&quot;content&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;whatever&quot;</span>)
  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">valid?</span>

  <span class="ruby-identifier">t</span>.<span class="ruby-identifier">title</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">valid?</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_optionally_validates_length_of_using_maximum">
            
              <a name="method-i-test_optionally_validates_length_of_using_maximum"></a><b>test_optionally_validates_length_of_using_maximum</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_optionally_validates_length_of_using_maximum_source')" id="l_method-i-test_optionally_validates_length_of_using_maximum_source">show</a>
                
              </p>
              <div id="method-i-test_optionally_validates_length_of_using_maximum_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/test/validations_test.rb, line 486</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_optionally_validates_length_of_using_maximum</span>
  <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">validates_length_of</span> <span class="ruby-value">:title</span>, <span class="ruby-value">:maximum</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">5</span>, <span class="ruby-value">:allow_nil</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>

  <span class="ruby-identifier">t</span> = <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">create</span>(<span class="ruby-string">&quot;title&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;valid&quot;</span>, <span class="ruby-string">&quot;content&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;whatever&quot;</span>)
  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">valid?</span>

  <span class="ruby-identifier">t</span>.<span class="ruby-identifier">title</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">valid?</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_optionally_validates_length_of_using_minimum">
            
              <a name="method-i-test_optionally_validates_length_of_using_minimum"></a><b>test_optionally_validates_length_of_using_minimum</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_optionally_validates_length_of_using_minimum_source')" id="l_method-i-test_optionally_validates_length_of_using_minimum_source">show</a>
                
              </p>
              <div id="method-i-test_optionally_validates_length_of_using_minimum_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/test/validations_test.rb, line 458</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_optionally_validates_length_of_using_minimum</span>
  <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">validates_length_of</span> <span class="ruby-value">:title</span>, <span class="ruby-value">:minimum</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">5</span>, <span class="ruby-value">:allow_nil</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>

  <span class="ruby-identifier">t</span> = <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">create</span>(<span class="ruby-string">&quot;title&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;valid&quot;</span>, <span class="ruby-string">&quot;content&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;whatever&quot;</span>)
  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">valid?</span>

  <span class="ruby-identifier">t</span>.<span class="ruby-identifier">title</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">valid?</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_optionally_validates_length_of_using_within">
            
              <a name="method-i-test_optionally_validates_length_of_using_within"></a><b>test_optionally_validates_length_of_using_within</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_optionally_validates_length_of_using_within_source')" id="l_method-i-test_optionally_validates_length_of_using_within_source">show</a>
                
              </p>
              <div id="method-i-test_optionally_validates_length_of_using_within_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/test/validations_test.rb, line 515</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_optionally_validates_length_of_using_within</span>
  <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">validates_length_of</span> <span class="ruby-value">:title</span>, <span class="ruby-value">:content</span>, <span class="ruby-value">:within</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">3</span><span class="ruby-operator">..</span><span class="ruby-number">5</span>, <span class="ruby-value">:allow_nil</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>

  <span class="ruby-identifier">t</span> = <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">create</span>(<span class="ruby-string">'title'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'abc'</span>, <span class="ruby-string">'content'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'abcd'</span>)
  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">valid?</span>

  <span class="ruby-identifier">t</span>.<span class="ruby-identifier">title</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">valid?</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_optionally_validates_length_of_using_within_on_create">
            
              <a name="method-i-test_optionally_validates_length_of_using_within_on_create"></a><b>test_optionally_validates_length_of_using_within_on_create</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_optionally_validates_length_of_using_within_on_create_source')" id="l_method-i-test_optionally_validates_length_of_using_within_on_create_source">show</a>
                
              </p>
              <div id="method-i-test_optionally_validates_length_of_using_within_on_create_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/test/validations_test.rb, line 525</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_optionally_validates_length_of_using_within_on_create</span>
  <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">validates_length_of</span> <span class="ruby-value">:title</span>, <span class="ruby-value">:content</span>, <span class="ruby-value">:within</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">5</span><span class="ruby-operator">..</span><span class="ruby-number">10</span>, <span class="ruby-value">:on</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:create</span>, <span class="ruby-value">:too_long</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;my string is too long: %d&quot;</span>

  <span class="ruby-identifier">t</span> = <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">create</span>(<span class="ruby-string">&quot;title&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;thisisnotvalid&quot;</span>, <span class="ruby-string">&quot;content&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;whatever&quot;</span>)
  <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">t</span>.<span class="ruby-identifier">save</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">errors</span>.<span class="ruby-identifier">on</span>(<span class="ruby-value">:title</span>)
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;my string is too long: 10&quot;</span>, <span class="ruby-identifier">t</span>.<span class="ruby-identifier">errors</span>[<span class="ruby-value">:title</span>]

  <span class="ruby-identifier">t</span>.<span class="ruby-identifier">title</span> = <span class="ruby-string">&quot;butthisis&quot;</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">save</span>

  <span class="ruby-identifier">t</span>.<span class="ruby-identifier">title</span> = <span class="ruby-string">&quot;few&quot;</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">save</span>

  <span class="ruby-identifier">t</span>.<span class="ruby-identifier">content</span> = <span class="ruby-string">&quot;andthisislong&quot;</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">save</span>

  <span class="ruby-identifier">t</span>.<span class="ruby-identifier">content</span> = <span class="ruby-identifier">t</span>.<span class="ruby-identifier">title</span> = <span class="ruby-string">&quot;iamfine&quot;</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">save</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_optionally_validates_length_of_using_within_on_create_utf8">
            
              <a name="method-i-test_optionally_validates_length_of_using_within_on_create_utf8"></a><b>test_optionally_validates_length_of_using_within_on_create_utf8</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_optionally_validates_length_of_using_within_on_create_utf8_source')" id="l_method-i-test_optionally_validates_length_of_using_within_on_create_utf8_source">show</a>
                
              </p>
              <div id="method-i-test_optionally_validates_length_of_using_within_on_create_utf8_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/test/validations_test.rb, line 761</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_optionally_validates_length_of_using_within_on_create_utf8</span>
  <span class="ruby-identifier">kcode_scope</span>(<span class="ruby-string">'UTF8'</span>) <span class="ruby-keyword">do</span>
    <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">validates_length_of</span> <span class="ruby-value">:title</span>, <span class="ruby-value">:content</span>, <span class="ruby-value">:within</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">5</span><span class="ruby-operator">..</span><span class="ruby-number">10</span>, <span class="ruby-value">:on</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:create</span>, <span class="ruby-value">:too_long</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;長すぎます: %d&quot;</span>

    <span class="ruby-identifier">t</span> = <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">create</span>(<span class="ruby-string">&quot;title&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;一二三四五六七八九十A&quot;</span>, <span class="ruby-string">&quot;content&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;whatever&quot;</span>)
    <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">t</span>.<span class="ruby-identifier">save</span>
    <span class="ruby-identifier">assert</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">errors</span>.<span class="ruby-identifier">on</span>(<span class="ruby-value">:title</span>)
    <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;長すぎます: 10&quot;</span>, <span class="ruby-identifier">t</span>.<span class="ruby-identifier">errors</span>[<span class="ruby-value">:title</span>]

    <span class="ruby-identifier">t</span>.<span class="ruby-identifier">title</span> = <span class="ruby-string">&quot;一二三四五六七八九&quot;</span>
    <span class="ruby-identifier">assert</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">save</span>

    <span class="ruby-identifier">t</span>.<span class="ruby-identifier">title</span> = <span class="ruby-string">&quot;一二3&quot;</span>
    <span class="ruby-identifier">assert</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">save</span>

    <span class="ruby-identifier">t</span>.<span class="ruby-identifier">content</span> = <span class="ruby-string">&quot;一二三四五六七八九十&quot;</span>
    <span class="ruby-identifier">assert</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">save</span>

    <span class="ruby-identifier">t</span>.<span class="ruby-identifier">content</span> = <span class="ruby-identifier">t</span>.<span class="ruby-identifier">title</span> = <span class="ruby-string">&quot;一二三四五六&quot;</span>
    <span class="ruby-identifier">assert</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">save</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_optionally_validates_length_of_using_within_on_update">
            
              <a name="method-i-test_optionally_validates_length_of_using_within_on_update"></a><b>test_optionally_validates_length_of_using_within_on_update</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_optionally_validates_length_of_using_within_on_update_source')" id="l_method-i-test_optionally_validates_length_of_using_within_on_update_source">show</a>
                
              </p>
              <div id="method-i-test_optionally_validates_length_of_using_within_on_update_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/test/validations_test.rb, line 546</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_optionally_validates_length_of_using_within_on_update</span>
  <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">validates_length_of</span> <span class="ruby-value">:title</span>, <span class="ruby-value">:content</span>, <span class="ruby-value">:within</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">5</span><span class="ruby-operator">..</span><span class="ruby-number">10</span>, <span class="ruby-value">:on</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:update</span>, <span class="ruby-value">:too_short</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;my string is too short: %d&quot;</span>

  <span class="ruby-identifier">t</span> = <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">create</span>(<span class="ruby-string">&quot;title&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;vali&quot;</span>, <span class="ruby-string">&quot;content&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;whatever&quot;</span>)
  <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">t</span>.<span class="ruby-identifier">save</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">errors</span>.<span class="ruby-identifier">on</span>(<span class="ruby-value">:title</span>)

  <span class="ruby-identifier">t</span>.<span class="ruby-identifier">title</span> = <span class="ruby-string">&quot;not&quot;</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">t</span>.<span class="ruby-identifier">save</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">errors</span>.<span class="ruby-identifier">on</span>(<span class="ruby-value">:title</span>)
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;my string is too short: 5&quot;</span>, <span class="ruby-identifier">t</span>.<span class="ruby-identifier">errors</span>[<span class="ruby-value">:title</span>]

  <span class="ruby-identifier">t</span>.<span class="ruby-identifier">title</span> = <span class="ruby-string">&quot;valid&quot;</span>
  <span class="ruby-identifier">t</span>.<span class="ruby-identifier">content</span> = <span class="ruby-string">&quot;andthisistoolong&quot;</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">t</span>.<span class="ruby-identifier">save</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">errors</span>.<span class="ruby-identifier">on</span>(<span class="ruby-value">:content</span>)

  <span class="ruby-identifier">t</span>.<span class="ruby-identifier">content</span> = <span class="ruby-string">&quot;iamfine&quot;</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">save</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_optionally_validates_length_of_using_within_on_update_utf8">
            
              <a name="method-i-test_optionally_validates_length_of_using_within_on_update_utf8"></a><b>test_optionally_validates_length_of_using_within_on_update_utf8</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_optionally_validates_length_of_using_within_on_update_utf8_source')" id="l_method-i-test_optionally_validates_length_of_using_within_on_update_utf8_source">show</a>
                
              </p>
              <div id="method-i-test_optionally_validates_length_of_using_within_on_update_utf8_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/test/validations_test.rb, line 784</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_optionally_validates_length_of_using_within_on_update_utf8</span>
  <span class="ruby-identifier">kcode_scope</span>(<span class="ruby-string">'UTF8'</span>) <span class="ruby-keyword">do</span>    
    <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">validates_length_of</span> <span class="ruby-value">:title</span>, <span class="ruby-value">:content</span>, <span class="ruby-value">:within</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">5</span><span class="ruby-operator">..</span><span class="ruby-number">10</span>, <span class="ruby-value">:on</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:update</span>, <span class="ruby-value">:too_short</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;短すぎます: %d&quot;</span>

    <span class="ruby-identifier">t</span> = <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">create</span>(<span class="ruby-string">&quot;title&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;一二三4&quot;</span>, <span class="ruby-string">&quot;content&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;whatever&quot;</span>)
    <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">t</span>.<span class="ruby-identifier">save</span>
    <span class="ruby-identifier">assert</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">errors</span>.<span class="ruby-identifier">on</span>(<span class="ruby-value">:title</span>)

    <span class="ruby-identifier">t</span>.<span class="ruby-identifier">title</span> = <span class="ruby-string">&quot;1二三4&quot;</span>
    <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">t</span>.<span class="ruby-identifier">save</span>
    <span class="ruby-identifier">assert</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">errors</span>.<span class="ruby-identifier">on</span>(<span class="ruby-value">:title</span>)
    <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;短すぎます: 5&quot;</span>, <span class="ruby-identifier">t</span>.<span class="ruby-identifier">errors</span>[<span class="ruby-value">:title</span>]

    <span class="ruby-identifier">t</span>.<span class="ruby-identifier">title</span> = <span class="ruby-string">&quot;valid&quot;</span>
    <span class="ruby-identifier">t</span>.<span class="ruby-identifier">content</span> = <span class="ruby-string">&quot;一二三四五六七八九十A&quot;</span>
    <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">t</span>.<span class="ruby-identifier">save</span>
    <span class="ruby-identifier">assert</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">errors</span>.<span class="ruby-identifier">on</span>(<span class="ruby-value">:content</span>)

    <span class="ruby-identifier">t</span>.<span class="ruby-identifier">content</span> = <span class="ruby-string">&quot;一二345&quot;</span>
    <span class="ruby-identifier">assert</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">save</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_optionally_validates_length_of_using_within_utf8">
            
              <a name="method-i-test_optionally_validates_length_of_using_within_utf8"></a><b>test_optionally_validates_length_of_using_within_utf8</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_optionally_validates_length_of_using_within_utf8_source')" id="l_method-i-test_optionally_validates_length_of_using_within_utf8_source">show</a>
                
              </p>
              <div id="method-i-test_optionally_validates_length_of_using_within_utf8_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/test/validations_test.rb, line 749</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_optionally_validates_length_of_using_within_utf8</span>
  <span class="ruby-identifier">kcode_scope</span>(<span class="ruby-string">'UTF8'</span>) <span class="ruby-keyword">do</span>
    <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">validates_length_of</span> <span class="ruby-value">:title</span>, <span class="ruby-value">:content</span>, <span class="ruby-value">:within</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">3</span><span class="ruby-operator">..</span><span class="ruby-number">5</span>, <span class="ruby-value">:allow_nil</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>

    <span class="ruby-identifier">t</span> = <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">create</span>(<span class="ruby-string">'title'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'一二三'</span>, <span class="ruby-string">'content'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'一二三四五'</span>)
    <span class="ruby-identifier">assert</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">valid?</span>

    <span class="ruby-identifier">t</span>.<span class="ruby-identifier">title</span> = <span class="ruby-keyword">nil</span>
    <span class="ruby-identifier">assert</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">valid?</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_scoped_create_without_attributes">
            
              <a name="method-i-test_scoped_create_without_attributes"></a><b>test_scoped_create_without_attributes</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_scoped_create_without_attributes_source')" id="l_method-i-test_scoped_create_without_attributes_source">show</a>
                
              </p>
              <div id="method-i-test_scoped_create_without_attributes_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/test/validations_test.rb, line 91</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_scoped_create_without_attributes</span>
  <span class="ruby-constant">Reply</span>.<span class="ruby-identifier">with_scope</span>(<span class="ruby-value">:create</span> =<span class="ruby-operator">&gt;</span> {}) <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">assert_raises</span>(<span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">RecordInvalid</span>) { <span class="ruby-constant">Reply</span>.<span class="ruby-identifier">create!</span> }
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_single_attr_validation_and_error_msg">
            
              <a name="method-i-test_single_attr_validation_and_error_msg"></a><b>test_single_attr_validation_and_error_msg</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_single_attr_validation_and_error_msg_source')" id="l_method-i-test_single_attr_validation_and_error_msg_source">show</a>
                
              </p>
              <div id="method-i-test_single_attr_validation_and_error_msg_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/test/validations_test.rb, line 35</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_single_attr_validation_and_error_msg</span>
  <span class="ruby-identifier">r</span> = <span class="ruby-constant">Reply</span>.<span class="ruby-identifier">new</span>
  <span class="ruby-identifier">r</span>.<span class="ruby-identifier">title</span> = <span class="ruby-string">&quot;There's no content!&quot;</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">r</span>.<span class="ruby-identifier">valid?</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">r</span>.<span class="ruby-identifier">errors</span>.<span class="ruby-identifier">invalid?</span>(<span class="ruby-string">&quot;content&quot;</span>), <span class="ruby-string">&quot;A reply without content should mark that attribute as invalid&quot;</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;Empty&quot;</span>, <span class="ruby-identifier">r</span>.<span class="ruby-identifier">errors</span>.<span class="ruby-identifier">on</span>(<span class="ruby-string">&quot;content&quot;</span>), <span class="ruby-string">&quot;A reply without content should contain an error&quot;</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">1</span>, <span class="ruby-identifier">r</span>.<span class="ruby-identifier">errors</span>.<span class="ruby-identifier">count</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_single_error_per_attr_iteration">
            
              <a name="method-i-test_single_error_per_attr_iteration"></a><b>test_single_error_per_attr_iteration</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_single_error_per_attr_iteration_source')" id="l_method-i-test_single_error_per_attr_iteration_source">show</a>
                
              </p>
              <div id="method-i-test_single_error_per_attr_iteration_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/test/validations_test.rb, line 97</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_single_error_per_attr_iteration</span>
  <span class="ruby-identifier">r</span> = <span class="ruby-constant">Reply</span>.<span class="ruby-identifier">new</span>
  <span class="ruby-identifier">r</span>.<span class="ruby-identifier">save</span>

  <span class="ruby-identifier">errors</span> = []
  <span class="ruby-identifier">r</span>.<span class="ruby-identifier">errors</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">attr</span>, <span class="ruby-identifier">msg</span><span class="ruby-operator">|</span> <span class="ruby-identifier">errors</span> <span class="ruby-operator">&lt;&lt;</span> [<span class="ruby-identifier">attr</span>, <span class="ruby-identifier">msg</span>] }

  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">errors</span>.<span class="ruby-identifier">include?</span>([<span class="ruby-string">&quot;title&quot;</span>, <span class="ruby-string">&quot;Empty&quot;</span>])
  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">errors</span>.<span class="ruby-identifier">include?</span>([<span class="ruby-string">&quot;content&quot;</span>, <span class="ruby-string">&quot;Empty&quot;</span>])
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_single_field_validation">
            
              <a name="method-i-test_single_field_validation"></a><b>test_single_field_validation</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_single_field_validation_source')" id="l_method-i-test_single_field_validation_source">show</a>
                
              </p>
              <div id="method-i-test_single_field_validation_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/test/validations_test.rb, line 26</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_single_field_validation</span>
  <span class="ruby-identifier">r</span> = <span class="ruby-constant">Reply</span>.<span class="ruby-identifier">new</span>
  <span class="ruby-identifier">r</span>.<span class="ruby-identifier">title</span> = <span class="ruby-string">&quot;There's no content!&quot;</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">r</span>.<span class="ruby-identifier">valid?</span>, <span class="ruby-string">&quot;A reply without content shouldn't be saveable&quot;</span>

  <span class="ruby-identifier">r</span>.<span class="ruby-identifier">content</span> = <span class="ruby-string">&quot;Messa content!&quot;</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">r</span>.<span class="ruby-identifier">valid?</span>, <span class="ruby-string">&quot;A reply with content should be saveable&quot;</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_terms_of_service_agreement">
            
              <a name="method-i-test_terms_of_service_agreement"></a><b>test_terms_of_service_agreement</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_terms_of_service_agreement_source')" id="l_method-i-test_terms_of_service_agreement_source">show</a>
                
              </p>
              <div id="method-i-test_terms_of_service_agreement_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/test/validations_test.rb, line 202</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_terms_of_service_agreement</span>
  <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">validates_acceptance_of</span>(<span class="ruby-value">:terms_of_service</span>, <span class="ruby-value">:on</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:create</span>)

  <span class="ruby-identifier">t</span> = <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">create</span>(<span class="ruby-string">&quot;title&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;We should be confirmed&quot;</span>,<span class="ruby-string">&quot;terms_of_service&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;&quot;</span>)
  <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">t</span>.<span class="ruby-identifier">save</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;must be accepted&quot;</span>, <span class="ruby-identifier">t</span>.<span class="ruby-identifier">errors</span>.<span class="ruby-identifier">on</span>(<span class="ruby-value">:terms_of_service</span>)

  <span class="ruby-identifier">t</span>.<span class="ruby-identifier">terms_of_service</span> = <span class="ruby-string">&quot;1&quot;</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">save</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_terms_of_service_agreement_no_acceptance">
            
              <a name="method-i-test_terms_of_service_agreement_no_acceptance"></a><b>test_terms_of_service_agreement_no_acceptance</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_terms_of_service_agreement_no_acceptance_source')" id="l_method-i-test_terms_of_service_agreement_no_acceptance_source">show</a>
                
              </p>
              <div id="method-i-test_terms_of_service_agreement_no_acceptance_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/test/validations_test.rb, line 195</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_terms_of_service_agreement_no_acceptance</span>
  <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">validates_acceptance_of</span>(<span class="ruby-value">:terms_of_service</span>, <span class="ruby-value">:on</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:create</span>)

  <span class="ruby-identifier">t</span> = <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">create</span>(<span class="ruby-string">&quot;title&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;We should not be confirmed&quot;</span>)
  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">save</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_terms_of_service_agreement_with_accept_value">
            
              <a name="method-i-test_terms_of_service_agreement_with_accept_value"></a><b>test_terms_of_service_agreement_with_accept_value</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_terms_of_service_agreement_with_accept_value_source')" id="l_method-i-test_terms_of_service_agreement_with_accept_value_source">show</a>
                
              </p>
              <div id="method-i-test_terms_of_service_agreement_with_accept_value_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/test/validations_test.rb, line 225</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_terms_of_service_agreement_with_accept_value</span>
  <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">validates_acceptance_of</span>(<span class="ruby-value">:terms_of_service</span>, <span class="ruby-value">:on</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:create</span>, <span class="ruby-value">:accept</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;I agree.&quot;</span>)

  <span class="ruby-identifier">t</span> = <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">create</span>(<span class="ruby-string">&quot;title&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;We should be confirmed&quot;</span>, <span class="ruby-string">&quot;terms_of_service&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;&quot;</span>)
  <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">t</span>.<span class="ruby-identifier">save</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;must be accepted&quot;</span>, <span class="ruby-identifier">t</span>.<span class="ruby-identifier">errors</span>.<span class="ruby-identifier">on</span>(<span class="ruby-value">:terms_of_service</span>)

  <span class="ruby-identifier">t</span>.<span class="ruby-identifier">terms_of_service</span> = <span class="ruby-string">&quot;I agree.&quot;</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">save</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_throw_away_typing">
            
              <a name="method-i-test_throw_away_typing"></a><b>test_throw_away_typing</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_throw_away_typing_source')" id="l_method-i-test_throw_away_typing_source">show</a>
                
              </p>
              <div id="method-i-test_throw_away_typing_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/test/validations_test.rb, line 868</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_throw_away_typing</span>
  <span class="ruby-identifier">d</span> = <span class="ruby-constant">Developer</span>.<span class="ruby-identifier">new</span>(<span class="ruby-string">&quot;name&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;David&quot;</span>, <span class="ruby-string">&quot;salary&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;100,000&quot;</span>)
  <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">d</span>.<span class="ruby-identifier">valid?</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">100</span>, <span class="ruby-identifier">d</span>.<span class="ruby-identifier">salary</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;100,000&quot;</span>, <span class="ruby-identifier">d</span>.<span class="ruby-identifier">salary_before_type_cast</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_title_confirmation">
            
              <a name="method-i-test_title_confirmation"></a><b>test_title_confirmation</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_title_confirmation_source')" id="l_method-i-test_title_confirmation_source">show</a>
                
              </p>
              <div id="method-i-test_title_confirmation_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/test/validations_test.rb, line 185</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_title_confirmation</span>
  <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">validates_confirmation_of</span>(<span class="ruby-value">:title</span>)

  <span class="ruby-identifier">t</span> = <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">create</span>(<span class="ruby-string">&quot;title&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;We should be confirmed&quot;</span>,<span class="ruby-string">&quot;title_confirmation&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;&quot;</span>)
  <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">t</span>.<span class="ruby-identifier">save</span>

  <span class="ruby-identifier">t</span>.<span class="ruby-identifier">title_confirmation</span> = <span class="ruby-string">&quot;We should be confirmed&quot;</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">save</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_validate_block">
            
              <a name="method-i-test_validate_block"></a><b>test_validate_block</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_validate_block_source')" id="l_method-i-test_validate_block_source">show</a>
                
              </p>
              <div id="method-i-test_validate_block_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/test/validations_test.rb, line 855</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_validate_block</span>
  <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">validate</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">topic</span><span class="ruby-operator">|</span> <span class="ruby-identifier">topic</span>.<span class="ruby-identifier">errors</span>.<span class="ruby-identifier">add</span>(<span class="ruby-string">&quot;title&quot;</span>, <span class="ruby-string">&quot;will never be valid&quot;</span>) }
  <span class="ruby-identifier">t</span> = <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">create</span>(<span class="ruby-string">&quot;title&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;Title&quot;</span>, <span class="ruby-string">&quot;content&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;whatever&quot;</span>)
  <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">t</span>.<span class="ruby-identifier">valid?</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">errors</span>.<span class="ruby-identifier">on</span>(<span class="ruby-value">:title</span>)
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;will never be valid&quot;</span>, <span class="ruby-identifier">t</span>.<span class="ruby-identifier">errors</span>[<span class="ruby-string">&quot;title&quot;</span>]
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_validate_case_insensitive_uniqueness">
            
              <a name="method-i-test_validate_case_insensitive_uniqueness"></a><b>test_validate_case_insensitive_uniqueness</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_validate_case_insensitive_uniqueness_source')" id="l_method-i-test_validate_case_insensitive_uniqueness_source">show</a>
                
              </p>
              <div id="method-i-test_validate_case_insensitive_uniqueness_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/test/validations_test.rb, line 316</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_validate_case_insensitive_uniqueness</span>
  <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">validates_uniqueness_of</span>(<span class="ruby-value">:title</span>, <span class="ruby-value">:parent_id</span>, <span class="ruby-value">:case_sensitive</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">false</span>, <span class="ruby-value">:allow_nil</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>)

  <span class="ruby-identifier">t</span> = <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">new</span>(<span class="ruby-string">&quot;title&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;I'm unique!&quot;</span>, <span class="ruby-value">:parent_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">2</span>)
  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">save</span>, <span class="ruby-string">&quot;Should save t as unique&quot;</span>

  <span class="ruby-identifier">t</span>.<span class="ruby-identifier">content</span> = <span class="ruby-string">&quot;Remaining unique&quot;</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">save</span>, <span class="ruby-string">&quot;Should still save t as unique&quot;</span>

  <span class="ruby-identifier">t2</span> = <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">new</span>(<span class="ruby-string">&quot;title&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;I'm UNIQUE!&quot;</span>, <span class="ruby-value">:parent_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">1</span>)
  <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">t2</span>.<span class="ruby-identifier">valid?</span>, <span class="ruby-string">&quot;Shouldn't be valid&quot;</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">t2</span>.<span class="ruby-identifier">save</span>, <span class="ruby-string">&quot;Shouldn't save t2 as unique&quot;</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">t2</span>.<span class="ruby-identifier">errors</span>.<span class="ruby-identifier">on</span>(<span class="ruby-value">:title</span>)
  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">t2</span>.<span class="ruby-identifier">errors</span>.<span class="ruby-identifier">on</span>(<span class="ruby-value">:parent_id</span>)
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;has already been taken&quot;</span>, <span class="ruby-identifier">t2</span>.<span class="ruby-identifier">errors</span>.<span class="ruby-identifier">on</span>(<span class="ruby-value">:title</span>)

  <span class="ruby-identifier">t2</span>.<span class="ruby-identifier">title</span> = <span class="ruby-string">&quot;I'm truly UNIQUE!&quot;</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">t2</span>.<span class="ruby-identifier">valid?</span>, <span class="ruby-string">&quot;Shouldn't be valid&quot;</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">t2</span>.<span class="ruby-identifier">save</span>, <span class="ruby-string">&quot;Shouldn't save t2 as unique&quot;</span>
  <span class="ruby-identifier">assert_nil</span> <span class="ruby-identifier">t2</span>.<span class="ruby-identifier">errors</span>.<span class="ruby-identifier">on</span>(<span class="ruby-value">:title</span>)
  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">t2</span>.<span class="ruby-identifier">errors</span>.<span class="ruby-identifier">on</span>(<span class="ruby-value">:parent_id</span>)

  <span class="ruby-identifier">t2</span>.<span class="ruby-identifier">parent_id</span> = <span class="ruby-number">3</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">t2</span>.<span class="ruby-identifier">save</span>, <span class="ruby-string">&quot;Should now save t2 as unique&quot;</span>

  <span class="ruby-identifier">t2</span>.<span class="ruby-identifier">parent_id</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-identifier">t2</span>.<span class="ruby-identifier">title</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">t2</span>.<span class="ruby-identifier">valid?</span>, <span class="ruby-string">&quot;should validate with nil&quot;</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">t2</span>.<span class="ruby-identifier">save</span>, <span class="ruby-string">&quot;should save with nil&quot;</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_validate_format">
            
              <a name="method-i-test_validate_format"></a><b>test_validate_format</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_validate_format_source')" id="l_method-i-test_validate_format_source">show</a>
                
              </p>
              <div id="method-i-test_validate_format_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/test/validations_test.rb, line 347</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_validate_format</span>
  <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">validates_format_of</span>(<span class="ruby-value">:title</span>, <span class="ruby-value">:content</span>, <span class="ruby-value">:with</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-regexp">%r^Validation\smacros \w+!$/</span>, <span class="ruby-value">:message</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;is bad data&quot;</span>)

  <span class="ruby-identifier">t</span> = <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">create</span>(<span class="ruby-string">&quot;title&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;i'm incorrect&quot;</span>, <span class="ruby-string">&quot;content&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;Validation macros rule!&quot;</span>)
  <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">t</span>.<span class="ruby-identifier">valid?</span>, <span class="ruby-string">&quot;Shouldn't be valid&quot;</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">t</span>.<span class="ruby-identifier">save</span>, <span class="ruby-string">&quot;Shouldn't save because it's invalid&quot;</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;is bad data&quot;</span>, <span class="ruby-identifier">t</span>.<span class="ruby-identifier">errors</span>.<span class="ruby-identifier">on</span>(<span class="ruby-value">:title</span>)
  <span class="ruby-identifier">assert_nil</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">errors</span>.<span class="ruby-identifier">on</span>(<span class="ruby-value">:content</span>)

  <span class="ruby-identifier">t</span>.<span class="ruby-identifier">title</span> = <span class="ruby-string">&quot;Validation macros rule!&quot;</span>

  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">save</span>
  <span class="ruby-identifier">assert_nil</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">errors</span>.<span class="ruby-identifier">on</span>(<span class="ruby-value">:title</span>)

  <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">ArgumentError</span>) { <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">validates_format_of</span>(<span class="ruby-value">:title</span>, <span class="ruby-value">:content</span>) }
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_validate_format_numeric">
            
              <a name="method-i-test_validate_format_numeric"></a><b>test_validate_format_numeric</b>()
            
          </div>
          
          
            <div class="description">
              <p>testing ticket #3142</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_validate_format_numeric_source')" id="l_method-i-test_validate_format_numeric_source">show</a>
                
              </p>
              <div id="method-i-test_validate_format_numeric_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/test/validations_test.rb, line 365</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_validate_format_numeric</span>
  <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">validates_format_of</span>(<span class="ruby-value">:title</span>, <span class="ruby-value">:content</span>, <span class="ruby-value">:with</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-regexp">%r^[1-9][0-9]*$/</span>, <span class="ruby-value">:message</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;is bad data&quot;</span>)

  <span class="ruby-identifier">t</span> = <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">create</span>(<span class="ruby-string">&quot;title&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;72x&quot;</span>, <span class="ruby-string">&quot;content&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;6789&quot;</span>)
  <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">t</span>.<span class="ruby-identifier">valid?</span>, <span class="ruby-string">&quot;Shouldn't be valid&quot;</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">t</span>.<span class="ruby-identifier">save</span>, <span class="ruby-string">&quot;Shouldn't save because it's invalid&quot;</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;is bad data&quot;</span>, <span class="ruby-identifier">t</span>.<span class="ruby-identifier">errors</span>.<span class="ruby-identifier">on</span>(<span class="ruby-value">:title</span>)
  <span class="ruby-identifier">assert_nil</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">errors</span>.<span class="ruby-identifier">on</span>(<span class="ruby-value">:content</span>)

  <span class="ruby-identifier">t</span>.<span class="ruby-identifier">title</span> = <span class="ruby-string">&quot;-11&quot;</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">t</span>.<span class="ruby-identifier">valid?</span>, <span class="ruby-string">&quot;Shouldn't be valid&quot;</span>

  <span class="ruby-identifier">t</span>.<span class="ruby-identifier">title</span> = <span class="ruby-string">&quot;03&quot;</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">t</span>.<span class="ruby-identifier">valid?</span>, <span class="ruby-string">&quot;Shouldn't be valid&quot;</span>

  <span class="ruby-identifier">t</span>.<span class="ruby-identifier">title</span> = <span class="ruby-string">&quot;z44&quot;</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">t</span>.<span class="ruby-identifier">valid?</span>, <span class="ruby-string">&quot;Shouldn't be valid&quot;</span>

  <span class="ruby-identifier">t</span>.<span class="ruby-identifier">title</span> = <span class="ruby-string">&quot;5v7&quot;</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">t</span>.<span class="ruby-identifier">valid?</span>, <span class="ruby-string">&quot;Shouldn't be valid&quot;</span>

  <span class="ruby-identifier">t</span>.<span class="ruby-identifier">title</span> = <span class="ruby-string">&quot;1&quot;</span>

  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">save</span>
  <span class="ruby-identifier">assert_nil</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">errors</span>.<span class="ruby-identifier">on</span>(<span class="ruby-value">:title</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_validate_presences">
            
              <a name="method-i-test_validate_presences"></a><b>test_validate_presences</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_validate_presences_source')" id="l_method-i-test_validate_presences_source">show</a>
                
              </p>
              <div id="method-i-test_validate_presences_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/test/validations_test.rb, line 236</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_validate_presences</span>
  <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">validates_presence_of</span>(<span class="ruby-value">:title</span>, <span class="ruby-value">:content</span>)

  <span class="ruby-identifier">t</span> = <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">create</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">t</span>.<span class="ruby-identifier">save</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;can't be blank&quot;</span>, <span class="ruby-identifier">t</span>.<span class="ruby-identifier">errors</span>.<span class="ruby-identifier">on</span>(<span class="ruby-value">:title</span>)
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;can't be blank&quot;</span>, <span class="ruby-identifier">t</span>.<span class="ruby-identifier">errors</span>.<span class="ruby-identifier">on</span>(<span class="ruby-value">:content</span>)

  <span class="ruby-identifier">t</span>.<span class="ruby-identifier">title</span> = <span class="ruby-string">&quot;something&quot;</span>
  <span class="ruby-identifier">t</span>.<span class="ruby-identifier">content</span>  = <span class="ruby-string">&quot;   &quot;</span>

  <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">t</span>.<span class="ruby-identifier">save</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;can't be blank&quot;</span>, <span class="ruby-identifier">t</span>.<span class="ruby-identifier">errors</span>.<span class="ruby-identifier">on</span>(<span class="ruby-value">:content</span>)

  <span class="ruby-identifier">t</span>.<span class="ruby-identifier">content</span> = <span class="ruby-string">&quot;like stuff&quot;</span>

  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">save</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_validate_uniqueness">
            
              <a name="method-i-test_validate_uniqueness"></a><b>test_validate_uniqueness</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_validate_uniqueness_source')" id="l_method-i-test_validate_uniqueness_source">show</a>
                
              </p>
              <div id="method-i-test_validate_uniqueness_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/test/validations_test.rb, line 255</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_validate_uniqueness</span>
  <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">validates_uniqueness_of</span>(<span class="ruby-value">:title</span>)

  <span class="ruby-identifier">t</span> = <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">new</span>(<span class="ruby-string">&quot;title&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;I'm unique!&quot;</span>)
  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">save</span>, <span class="ruby-string">&quot;Should save t as unique&quot;</span>

  <span class="ruby-identifier">t</span>.<span class="ruby-identifier">content</span> = <span class="ruby-string">&quot;Remaining unique&quot;</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">save</span>, <span class="ruby-string">&quot;Should still save t as unique&quot;</span>

  <span class="ruby-identifier">t2</span> = <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">new</span>(<span class="ruby-string">&quot;title&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;I'm unique!&quot;</span>)
  <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">t2</span>.<span class="ruby-identifier">valid?</span>, <span class="ruby-string">&quot;Shouldn't be valid&quot;</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">t2</span>.<span class="ruby-identifier">save</span>, <span class="ruby-string">&quot;Shouldn't save t2 as unique&quot;</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;has already been taken&quot;</span>, <span class="ruby-identifier">t2</span>.<span class="ruby-identifier">errors</span>.<span class="ruby-identifier">on</span>(<span class="ruby-value">:title</span>)

  <span class="ruby-identifier">t2</span>.<span class="ruby-identifier">title</span> = <span class="ruby-string">&quot;Now Im really also unique&quot;</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">t2</span>.<span class="ruby-identifier">save</span>, <span class="ruby-string">&quot;Should now save t2 as unique&quot;</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_validate_uniqueness_with_scope">
            
              <a name="method-i-test_validate_uniqueness_with_scope"></a><b>test_validate_uniqueness_with_scope</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_validate_uniqueness_with_scope_source')" id="l_method-i-test_validate_uniqueness_with_scope_source">show</a>
                
              </p>
              <div id="method-i-test_validate_uniqueness_with_scope_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/test/validations_test.rb, line 273</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_validate_uniqueness_with_scope</span>
  <span class="ruby-constant">Reply</span>.<span class="ruby-identifier">validates_uniqueness_of</span>(<span class="ruby-value">:content</span>, <span class="ruby-value">:scope</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;parent_id&quot;</span>)

  <span class="ruby-identifier">t</span> = <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">create</span>(<span class="ruby-string">&quot;title&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;I'm unique!&quot;</span>)

  <span class="ruby-identifier">r1</span> = <span class="ruby-identifier">t</span>.<span class="ruby-identifier">replies</span>.<span class="ruby-identifier">create</span> <span class="ruby-string">&quot;title&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;r1&quot;</span>, <span class="ruby-string">&quot;content&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;hello world&quot;</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">r1</span>.<span class="ruby-identifier">valid?</span>, <span class="ruby-string">&quot;Saving r1&quot;</span>

  <span class="ruby-identifier">r2</span> = <span class="ruby-identifier">t</span>.<span class="ruby-identifier">replies</span>.<span class="ruby-identifier">create</span> <span class="ruby-string">&quot;title&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;r2&quot;</span>, <span class="ruby-string">&quot;content&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;hello world&quot;</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">r2</span>.<span class="ruby-identifier">valid?</span>, <span class="ruby-string">&quot;Saving r2 first time&quot;</span>

  <span class="ruby-identifier">r2</span>.<span class="ruby-identifier">content</span> = <span class="ruby-string">&quot;something else&quot;</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">r2</span>.<span class="ruby-identifier">save</span>, <span class="ruby-string">&quot;Saving r2 second time&quot;</span>

  <span class="ruby-identifier">t2</span> = <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">create</span>(<span class="ruby-string">&quot;title&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;I'm unique too!&quot;</span>)
  <span class="ruby-identifier">r3</span> = <span class="ruby-identifier">t2</span>.<span class="ruby-identifier">replies</span>.<span class="ruby-identifier">create</span> <span class="ruby-string">&quot;title&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;r3&quot;</span>, <span class="ruby-string">&quot;content&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;hello world&quot;</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">r3</span>.<span class="ruby-identifier">valid?</span>, <span class="ruby-string">&quot;Saving r3&quot;</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_validate_uniqueness_with_scope_array">
            
              <a name="method-i-test_validate_uniqueness_with_scope_array"></a><b>test_validate_uniqueness_with_scope_array</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_validate_uniqueness_with_scope_array_source')" id="l_method-i-test_validate_uniqueness_with_scope_array_source">show</a>
                
              </p>
              <div id="method-i-test_validate_uniqueness_with_scope_array_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/test/validations_test.rb, line 292</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_validate_uniqueness_with_scope_array</span>
  <span class="ruby-constant">Reply</span>.<span class="ruby-identifier">validates_uniqueness_of</span>(<span class="ruby-value">:author_name</span>, <span class="ruby-value">:scope</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-value">:author_email_address</span>, <span class="ruby-value">:parent_id</span>])

  <span class="ruby-identifier">t</span> = <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">create</span>(<span class="ruby-string">&quot;title&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;The earth is actually flat!&quot;</span>)
 
  <span class="ruby-identifier">r1</span> = <span class="ruby-identifier">t</span>.<span class="ruby-identifier">replies</span>.<span class="ruby-identifier">create</span> <span class="ruby-string">&quot;author_name&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;jeremy&quot;</span>, <span class="ruby-string">&quot;author_email_address&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;jeremy@rubyonrails.com&quot;</span>, <span class="ruby-string">&quot;title&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;You're crazy!&quot;</span>, <span class="ruby-string">&quot;content&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;Crazy reply&quot;</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">r1</span>.<span class="ruby-identifier">valid?</span>, <span class="ruby-string">&quot;Saving r1&quot;</span>
  
  <span class="ruby-identifier">r2</span> = <span class="ruby-identifier">t</span>.<span class="ruby-identifier">replies</span>.<span class="ruby-identifier">create</span> <span class="ruby-string">&quot;author_name&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;jeremy&quot;</span>, <span class="ruby-string">&quot;author_email_address&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;jeremy@rubyonrails.com&quot;</span>, <span class="ruby-string">&quot;title&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;You're crazy!&quot;</span>, <span class="ruby-string">&quot;content&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;Crazy reply again...&quot;</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">r2</span>.<span class="ruby-identifier">valid?</span>, <span class="ruby-string">&quot;Saving r2. Double reply by same author.&quot;</span> 
  
  <span class="ruby-identifier">r2</span>.<span class="ruby-identifier">author_email_address</span> = <span class="ruby-string">&quot;jeremy_alt_email@rubyonrails.com&quot;</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">r2</span>.<span class="ruby-identifier">save</span>, <span class="ruby-string">&quot;Saving r2 the second time.&quot;</span> 
  
  <span class="ruby-identifier">r3</span> = <span class="ruby-identifier">t</span>.<span class="ruby-identifier">replies</span>.<span class="ruby-identifier">create</span> <span class="ruby-string">&quot;author_name&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;jeremy&quot;</span>, <span class="ruby-string">&quot;author_email_address&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;jeremy_alt_email@rubyonrails.com&quot;</span>, <span class="ruby-string">&quot;title&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;You're wrong&quot;</span>, <span class="ruby-string">&quot;content&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;It's cubic&quot;</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">r3</span>.<span class="ruby-identifier">valid?</span>, <span class="ruby-string">&quot;Saving r3&quot;</span>
  
  <span class="ruby-identifier">r3</span>.<span class="ruby-identifier">author_name</span> = <span class="ruby-string">&quot;jj&quot;</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">r3</span>.<span class="ruby-identifier">save</span>, <span class="ruby-string">&quot;Saving r3 the second time.&quot;</span>
  
  <span class="ruby-identifier">r3</span>.<span class="ruby-identifier">author_name</span> = <span class="ruby-string">&quot;jeremy&quot;</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">r3</span>.<span class="ruby-identifier">save</span>, <span class="ruby-string">&quot;Saving r3 the third time.&quot;</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_validates_acceptance_of_with_custom_error_using_quotes">
            
              <a name="method-i-test_validates_acceptance_of_with_custom_error_using_quotes"></a><b>test_validates_acceptance_of_with_custom_error_using_quotes</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_validates_acceptance_of_with_custom_error_using_quotes_source')" id="l_method-i-test_validates_acceptance_of_with_custom_error_using_quotes_source">show</a>
                
              </p>
              <div id="method-i-test_validates_acceptance_of_with_custom_error_using_quotes_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/test/validations_test.rb, line 875</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_validates_acceptance_of_with_custom_error_using_quotes</span>
  <span class="ruby-constant">Developer</span>.<span class="ruby-identifier">validates_acceptance_of</span> <span class="ruby-value">:salary</span>, <span class="ruby-value">:message=</span><span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;This string contains 'single' and \&quot;double\&quot; quotes&quot;</span>
  <span class="ruby-identifier">d</span> = <span class="ruby-constant">Developer</span>.<span class="ruby-identifier">new</span>
  <span class="ruby-identifier">d</span>.<span class="ruby-identifier">salary</span> = <span class="ruby-string">&quot;0&quot;</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">d</span>.<span class="ruby-identifier">valid?</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-identifier">d</span>.<span class="ruby-identifier">errors</span>.<span class="ruby-identifier">on</span>(<span class="ruby-value">:salary</span>).<span class="ruby-identifier">first</span>, <span class="ruby-string">&quot;This string contains 'single' and \&quot;double\&quot; quotes&quot;</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_validates_associated_many">
            
              <a name="method-i-test_validates_associated_many"></a><b>test_validates_associated_many</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_validates_associated_many_source')" id="l_method-i-test_validates_associated_many_source">show</a>
                
              </p>
              <div id="method-i-test_validates_associated_many_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/test/validations_test.rb, line 832</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_validates_associated_many</span>
  <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">validates_associated</span>( <span class="ruby-value">:replies</span> )
  <span class="ruby-identifier">t</span> = <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">create</span>(<span class="ruby-string">&quot;title&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;uhohuhoh&quot;</span>, <span class="ruby-string">&quot;content&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;whatever&quot;</span>)
  <span class="ruby-identifier">t</span>.<span class="ruby-identifier">replies</span> <span class="ruby-operator">&lt;&lt;</span> [<span class="ruby-identifier">r</span> = <span class="ruby-constant">Reply</span>.<span class="ruby-identifier">create</span>(<span class="ruby-string">&quot;title&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;A reply&quot;</span>), <span class="ruby-identifier">r2</span> = <span class="ruby-constant">Reply</span>.<span class="ruby-identifier">create</span>(<span class="ruby-string">&quot;title&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;Another reply&quot;</span>)]
  <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">t</span>.<span class="ruby-identifier">valid?</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">errors</span>.<span class="ruby-identifier">on</span>(<span class="ruby-value">:replies</span>)
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">1</span>, <span class="ruby-identifier">r</span>.<span class="ruby-identifier">errors</span>.<span class="ruby-identifier">count</span>  <span class="ruby-comment"># make sure all associated objects have been validated</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">1</span>, <span class="ruby-identifier">r2</span>.<span class="ruby-identifier">errors</span>.<span class="ruby-identifier">count</span>
  <span class="ruby-identifier">r</span>.<span class="ruby-identifier">content</span> = <span class="ruby-identifier">r2</span>.<span class="ruby-identifier">content</span> = <span class="ruby-string">&quot;non-empty&quot;</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">valid?</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_validates_associated_missing">
            
              <a name="method-i-test_validates_associated_missing"></a><b>test_validates_associated_missing</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_validates_associated_missing_source')" id="l_method-i-test_validates_associated_missing_source">show</a>
                
              </p>
              <div id="method-i-test_validates_associated_missing_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/test/validations_test.rb, line 1010</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_validates_associated_missing</span>
  <span class="ruby-constant">Reply</span>.<span class="ruby-identifier">validates_presence_of</span>(<span class="ruby-value">:topic</span>)
  <span class="ruby-identifier">r</span> = <span class="ruby-constant">Reply</span>.<span class="ruby-identifier">create</span>(<span class="ruby-string">&quot;title&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;A reply&quot;</span>, <span class="ruby-string">&quot;content&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;with content!&quot;</span>)
  <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">r</span>.<span class="ruby-identifier">valid?</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">r</span>.<span class="ruby-identifier">errors</span>.<span class="ruby-identifier">on</span>(<span class="ruby-value">:topic</span>)
  
  <span class="ruby-identifier">r</span>.<span class="ruby-identifier">topic</span> = <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">find</span> <span class="ruby-value">:first</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">r</span>.<span class="ruby-identifier">valid?</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_validates_associated_one">
            
              <a name="method-i-test_validates_associated_one"></a><b>test_validates_associated_one</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_validates_associated_one_source')" id="l_method-i-test_validates_associated_one_source">show</a>
                
              </p>
              <div id="method-i-test_validates_associated_one_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/test/validations_test.rb, line 844</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_validates_associated_one</span>
  <span class="ruby-constant">Reply</span>.<span class="ruby-identifier">validates_associated</span>( <span class="ruby-value">:topic</span> )
  <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">validates_presence_of</span>( <span class="ruby-value">:content</span> )
  <span class="ruby-identifier">r</span> = <span class="ruby-constant">Reply</span>.<span class="ruby-identifier">create</span>(<span class="ruby-string">&quot;title&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;A reply&quot;</span>, <span class="ruby-string">&quot;content&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;with content!&quot;</span>)
  <span class="ruby-identifier">r</span>.<span class="ruby-identifier">topic</span> = <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">create</span>(<span class="ruby-string">&quot;title&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;uhohuhoh&quot;</span>)
  <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">r</span>.<span class="ruby-identifier">valid?</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">r</span>.<span class="ruby-identifier">errors</span>.<span class="ruby-identifier">on</span>(<span class="ruby-value">:topic</span>)
  <span class="ruby-identifier">r</span>.<span class="ruby-identifier">topic</span>.<span class="ruby-identifier">content</span> = <span class="ruby-string">&quot;non-empty&quot;</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">r</span>.<span class="ruby-identifier">valid?</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_validates_associated_with_custom_message_using_quotes">
            
              <a name="method-i-test_validates_associated_with_custom_message_using_quotes"></a><b>test_validates_associated_with_custom_message_using_quotes</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_validates_associated_with_custom_message_using_quotes_source')" id="l_method-i-test_validates_associated_with_custom_message_using_quotes_source">show</a>
                
              </p>
              <div id="method-i-test_validates_associated_with_custom_message_using_quotes_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/test/validations_test.rb, line 948</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_validates_associated_with_custom_message_using_quotes</span>
  <span class="ruby-constant">Reply</span>.<span class="ruby-identifier">validates_associated</span> <span class="ruby-value">:topic</span>, <span class="ruby-value">:message=</span><span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;This string contains 'single' and \&quot;double\&quot; quotes&quot;</span>
  <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">validates_presence_of</span> <span class="ruby-value">:content</span>
  <span class="ruby-identifier">r</span> = <span class="ruby-constant">Reply</span>.<span class="ruby-identifier">create</span>(<span class="ruby-string">&quot;title&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;A reply&quot;</span>, <span class="ruby-string">&quot;content&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;with content!&quot;</span>)
  <span class="ruby-identifier">r</span>.<span class="ruby-identifier">topic</span> = <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">create</span>(<span class="ruby-string">&quot;title&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;uhohuhoh&quot;</span>)
  <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">r</span>.<span class="ruby-identifier">valid?</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;This string contains 'single' and \&quot;double\&quot; quotes&quot;</span>, <span class="ruby-identifier">r</span>.<span class="ruby-identifier">errors</span>.<span class="ruby-identifier">on</span>(<span class="ruby-value">:topic</span>).<span class="ruby-identifier">first</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_validates_confirmation_of_with_custom_error_using_quotes">
            
              <a name="method-i-test_validates_confirmation_of_with_custom_error_using_quotes"></a><b>test_validates_confirmation_of_with_custom_error_using_quotes</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_validates_confirmation_of_with_custom_error_using_quotes_source')" id="l_method-i-test_validates_confirmation_of_with_custom_error_using_quotes_source">show</a>
                
              </p>
              <div id="method-i-test_validates_confirmation_of_with_custom_error_using_quotes_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/test/validations_test.rb, line 883</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_validates_confirmation_of_with_custom_error_using_quotes</span>
  <span class="ruby-constant">Developer</span>.<span class="ruby-identifier">validates_confirmation_of</span> <span class="ruby-value">:name</span>, <span class="ruby-value">:message=</span><span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;confirm 'single' and \&quot;double\&quot; quotes&quot;</span>
  <span class="ruby-identifier">d</span> = <span class="ruby-constant">Developer</span>.<span class="ruby-identifier">new</span>
  <span class="ruby-identifier">d</span>.<span class="ruby-identifier">name</span> = <span class="ruby-string">&quot;John&quot;</span>
  <span class="ruby-identifier">d</span>.<span class="ruby-identifier">name_confirmation</span> = <span class="ruby-string">&quot;Johnny&quot;</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">d</span>.<span class="ruby-identifier">valid?</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;confirm 'single' and \&quot;double\&quot; quotes&quot;</span>, <span class="ruby-identifier">d</span>.<span class="ruby-identifier">errors</span>.<span class="ruby-identifier">on</span>(<span class="ruby-value">:name</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_validates_each">
            
              <a name="method-i-test_validates_each"></a><b>test_validates_each</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_validates_each_source')" id="l_method-i-test_validates_each_source">show</a>
                
              </p>
              <div id="method-i-test_validates_each_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/test/validations_test.rb, line 150</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_validates_each</span>
  <span class="ruby-identifier">perform</span> = <span class="ruby-keyword">true</span>
  <span class="ruby-identifier">hits</span> = <span class="ruby-number">0</span>
  <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">validates_each</span>(<span class="ruby-value">:title</span>, <span class="ruby-value">:content</span>, [<span class="ruby-value">:title</span>, <span class="ruby-value">:content</span>]) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">record</span>, <span class="ruby-identifier">attr</span><span class="ruby-operator">|</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">perform</span>
      <span class="ruby-identifier">record</span>.<span class="ruby-identifier">errors</span>.<span class="ruby-identifier">add</span> <span class="ruby-identifier">attr</span>, <span class="ruby-string">'gotcha'</span>
      <span class="ruby-identifier">hits</span> <span class="ruby-operator">+=</span> <span class="ruby-number">1</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">t</span> = <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">new</span>(<span class="ruby-string">&quot;title&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;valid&quot;</span>, <span class="ruby-string">&quot;content&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;whatever&quot;</span>)
  <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">t</span>.<span class="ruby-identifier">save</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-number">4</span>, <span class="ruby-identifier">hits</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-node">%w(gotcha gotcha)</span>, <span class="ruby-identifier">t</span>.<span class="ruby-identifier">errors</span>.<span class="ruby-identifier">on</span>(<span class="ruby-value">:title</span>)
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-node">%w(gotcha gotcha)</span>, <span class="ruby-identifier">t</span>.<span class="ruby-identifier">errors</span>.<span class="ruby-identifier">on</span>(<span class="ruby-value">:content</span>)
<span class="ruby-keyword">ensure</span>
  <span class="ruby-identifier">perform</span> = <span class="ruby-keyword">false</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_validates_exclusion_of">
            
              <a name="method-i-test_validates_exclusion_of"></a><b>test_validates_exclusion_of</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_validates_exclusion_of_source')" id="l_method-i-test_validates_exclusion_of_source">show</a>
                
              </p>
              <div id="method-i-test_validates_exclusion_of_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/test/validations_test.rb, line 429</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_validates_exclusion_of</span>
  <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">validates_exclusion_of</span>( <span class="ruby-value">:title</span>, <span class="ruby-value">:in</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">%w( abe monkey )</span> )

  <span class="ruby-identifier">assert</span> <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">create</span>(<span class="ruby-string">&quot;title&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;something&quot;</span>, <span class="ruby-string">&quot;content&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;abc&quot;</span>).<span class="ruby-identifier">valid?</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-constant">Topic</span>.<span class="ruby-identifier">create</span>(<span class="ruby-string">&quot;title&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;monkey&quot;</span>, <span class="ruby-string">&quot;content&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;abc&quot;</span>).<span class="ruby-identifier">valid?</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_validates_format_of_with_custom_error_using_quotes">
            
              <a name="method-i-test_validates_format_of_with_custom_error_using_quotes"></a><b>test_validates_format_of_with_custom_error_using_quotes</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_validates_format_of_with_custom_error_using_quotes_source')" id="l_method-i-test_validates_format_of_with_custom_error_using_quotes_source">show</a>
                
              </p>
              <div id="method-i-test_validates_format_of_with_custom_error_using_quotes_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/test/validations_test.rb, line 892</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_validates_format_of_with_custom_error_using_quotes</span>
  <span class="ruby-constant">Developer</span>.<span class="ruby-identifier">validates_format_of</span> <span class="ruby-value">:name</span>, <span class="ruby-value">:with</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-regexp">%r^(A-Z*)$/</span>, <span class="ruby-value">:message=</span><span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;format 'single' and \&quot;double\&quot; quotes&quot;</span>
  <span class="ruby-identifier">d</span> = <span class="ruby-constant">Developer</span>.<span class="ruby-identifier">new</span>
  <span class="ruby-identifier">d</span>.<span class="ruby-identifier">name</span> = <span class="ruby-identifier">d</span>.<span class="ruby-identifier">name_confirmation</span> = <span class="ruby-string">&quot;John 32&quot;</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">d</span>.<span class="ruby-identifier">valid?</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;format 'single' and \&quot;double\&quot; quotes&quot;</span>, <span class="ruby-identifier">d</span>.<span class="ruby-identifier">errors</span>.<span class="ruby-identifier">on</span>(<span class="ruby-value">:name</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_validates_inclusion_of">
            
              <a name="method-i-test_validates_inclusion_of"></a><b>test_validates_inclusion_of</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_validates_inclusion_of_source')" id="l_method-i-test_validates_inclusion_of_source">show</a>
                
              </p>
              <div id="method-i-test_validates_inclusion_of_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/test/validations_test.rb, line 392</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_validates_inclusion_of</span>
  <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">validates_inclusion_of</span>( <span class="ruby-value">:title</span>, <span class="ruby-value">:in</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">%w( a b c d e f g )</span> )

  <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-constant">Topic</span>.<span class="ruby-identifier">create</span>(<span class="ruby-string">&quot;title&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;a!&quot;</span>, <span class="ruby-string">&quot;content&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;abc&quot;</span>).<span class="ruby-identifier">valid?</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-constant">Topic</span>.<span class="ruby-identifier">create</span>(<span class="ruby-string">&quot;title&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;a b&quot;</span>, <span class="ruby-string">&quot;content&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;abc&quot;</span>).<span class="ruby-identifier">valid?</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-constant">Topic</span>.<span class="ruby-identifier">create</span>(<span class="ruby-string">&quot;title&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">nil</span>, <span class="ruby-string">&quot;content&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;def&quot;</span>).<span class="ruby-identifier">valid?</span>

  <span class="ruby-identifier">t</span> = <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">create</span>(<span class="ruby-string">&quot;title&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;a&quot;</span>, <span class="ruby-string">&quot;content&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;I know you are but what am I?&quot;</span>)
  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">valid?</span>
  <span class="ruby-identifier">t</span>.<span class="ruby-identifier">title</span> = <span class="ruby-string">&quot;uhoh&quot;</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">t</span>.<span class="ruby-identifier">valid?</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">errors</span>.<span class="ruby-identifier">on</span>(<span class="ruby-value">:title</span>)
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;is not included in the list&quot;</span>, <span class="ruby-identifier">t</span>.<span class="ruby-identifier">errors</span>[<span class="ruby-string">&quot;title&quot;</span>]

  <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">ArgumentError</span>) { <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">validates_inclusion_of</span>( <span class="ruby-value">:title</span>, <span class="ruby-value">:in</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">nil</span> ) }
  <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">ArgumentError</span>) { <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">validates_inclusion_of</span>( <span class="ruby-value">:title</span>, <span class="ruby-value">:in</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">0</span>) }

  <span class="ruby-identifier">assert_nothing_raised</span>(<span class="ruby-constant">ArgumentError</span>) { <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">validates_inclusion_of</span>( <span class="ruby-value">:title</span>, <span class="ruby-value">:in</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;hi!&quot;</span> ) }
  <span class="ruby-identifier">assert_nothing_raised</span>(<span class="ruby-constant">ArgumentError</span>) { <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">validates_inclusion_of</span>( <span class="ruby-value">:title</span>, <span class="ruby-value">:in</span> =<span class="ruby-operator">&gt;</span> {} ) }
  <span class="ruby-identifier">assert_nothing_raised</span>(<span class="ruby-constant">ArgumentError</span>) { <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">validates_inclusion_of</span>( <span class="ruby-value">:title</span>, <span class="ruby-value">:in</span> =<span class="ruby-operator">&gt;</span> [] ) }
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_validates_inclusion_of_with_allow_nil">
            
              <a name="method-i-test_validates_inclusion_of_with_allow_nil"></a><b>test_validates_inclusion_of_with_allow_nil</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_validates_inclusion_of_with_allow_nil_source')" id="l_method-i-test_validates_inclusion_of_with_allow_nil_source">show</a>
                
              </p>
              <div id="method-i-test_validates_inclusion_of_with_allow_nil_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/test/validations_test.rb, line 414</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_validates_inclusion_of_with_allow_nil</span>
  <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">validates_inclusion_of</span>( <span class="ruby-value">:title</span>, <span class="ruby-value">:in</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">%w( a b c d e f g )</span>, <span class="ruby-value">:allow_nil=</span><span class="ruby-operator">&gt;</span><span class="ruby-keyword">true</span> )

  <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-constant">Topic</span>.<span class="ruby-identifier">create</span>(<span class="ruby-string">&quot;title&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;a!&quot;</span>, <span class="ruby-string">&quot;content&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;abc&quot;</span>).<span class="ruby-identifier">valid?</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-constant">Topic</span>.<span class="ruby-identifier">create</span>(<span class="ruby-string">&quot;title&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;&quot;</span>, <span class="ruby-string">&quot;content&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;abc&quot;</span>).<span class="ruby-identifier">valid?</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">create</span>(<span class="ruby-string">&quot;title&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">nil</span>, <span class="ruby-string">&quot;content&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;abc&quot;</span>).<span class="ruby-identifier">valid?</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_validates_inclusion_of_with_custom_error_using_quotes">
            
              <a name="method-i-test_validates_inclusion_of_with_custom_error_using_quotes"></a><b>test_validates_inclusion_of_with_custom_error_using_quotes</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_validates_inclusion_of_with_custom_error_using_quotes_source')" id="l_method-i-test_validates_inclusion_of_with_custom_error_using_quotes_source">show</a>
                
              </p>
              <div id="method-i-test_validates_inclusion_of_with_custom_error_using_quotes_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/test/validations_test.rb, line 900</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_validates_inclusion_of_with_custom_error_using_quotes</span>
  <span class="ruby-constant">Developer</span>.<span class="ruby-identifier">validates_inclusion_of</span> <span class="ruby-value">:salary</span>, <span class="ruby-value">:in</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">1000</span><span class="ruby-operator">..</span><span class="ruby-number">80000</span>, <span class="ruby-value">:message=</span><span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;This string contains 'single' and \&quot;double\&quot; quotes&quot;</span>
  <span class="ruby-identifier">d</span> = <span class="ruby-constant">Developer</span>.<span class="ruby-identifier">new</span>
  <span class="ruby-identifier">d</span>.<span class="ruby-identifier">salary</span> = <span class="ruby-string">&quot;90,000&quot;</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">d</span>.<span class="ruby-identifier">valid?</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;This string contains 'single' and \&quot;double\&quot; quotes&quot;</span>, <span class="ruby-identifier">d</span>.<span class="ruby-identifier">errors</span>.<span class="ruby-identifier">on</span>(<span class="ruby-value">:salary</span>).<span class="ruby-identifier">first</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_validates_length_of_custom_errors_for_is_with_message">
            
              <a name="method-i-test_validates_length_of_custom_errors_for_is_with_message"></a><b>test_validates_length_of_custom_errors_for_is_with_message</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_validates_length_of_custom_errors_for_is_with_message_source')" id="l_method-i-test_validates_length_of_custom_errors_for_is_with_message_source">show</a>
                
              </p>
              <div id="method-i-test_validates_length_of_custom_errors_for_is_with_message_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/test/validations_test.rb, line 681</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_validates_length_of_custom_errors_for_is_with_message</span>
  <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">validates_length_of</span>( <span class="ruby-value">:title</span>, <span class="ruby-value">:is=</span><span class="ruby-operator">&gt;</span><span class="ruby-number">5</span>, <span class="ruby-value">:message=</span><span class="ruby-operator">&gt;</span><span class="ruby-string">&quot;boo %d&quot;</span> )
  <span class="ruby-identifier">t</span> = <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">create</span>(<span class="ruby-string">&quot;title&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;uhohuhoh&quot;</span>, <span class="ruby-string">&quot;content&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;whatever&quot;</span>)
  <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">t</span>.<span class="ruby-identifier">valid?</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">errors</span>.<span class="ruby-identifier">on</span>(<span class="ruby-value">:title</span>)
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;boo 5&quot;</span>, <span class="ruby-identifier">t</span>.<span class="ruby-identifier">errors</span>[<span class="ruby-string">&quot;title&quot;</span>]
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_validates_length_of_custom_errors_for_is_with_wrong_length">
            
              <a name="method-i-test_validates_length_of_custom_errors_for_is_with_wrong_length"></a><b>test_validates_length_of_custom_errors_for_is_with_wrong_length</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_validates_length_of_custom_errors_for_is_with_wrong_length_source')" id="l_method-i-test_validates_length_of_custom_errors_for_is_with_wrong_length_source">show</a>
                
              </p>
              <div id="method-i-test_validates_length_of_custom_errors_for_is_with_wrong_length_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/test/validations_test.rb, line 689</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_validates_length_of_custom_errors_for_is_with_wrong_length</span>
  <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">validates_length_of</span>( <span class="ruby-value">:title</span>, <span class="ruby-value">:is=</span><span class="ruby-operator">&gt;</span><span class="ruby-number">5</span>, <span class="ruby-value">:wrong_length=</span><span class="ruby-operator">&gt;</span><span class="ruby-string">&quot;hoo %d&quot;</span> )
  <span class="ruby-identifier">t</span> = <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">create</span>(<span class="ruby-string">&quot;title&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;uhohuhoh&quot;</span>, <span class="ruby-string">&quot;content&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;whatever&quot;</span>)
  <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">t</span>.<span class="ruby-identifier">valid?</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">errors</span>.<span class="ruby-identifier">on</span>(<span class="ruby-value">:title</span>)
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;hoo 5&quot;</span>, <span class="ruby-identifier">t</span>.<span class="ruby-identifier">errors</span>[<span class="ruby-string">&quot;title&quot;</span>]
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_validates_length_of_custom_errors_for_maximum_with_message">
            
              <a name="method-i-test_validates_length_of_custom_errors_for_maximum_with_message"></a><b>test_validates_length_of_custom_errors_for_maximum_with_message</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_validates_length_of_custom_errors_for_maximum_with_message_source')" id="l_method-i-test_validates_length_of_custom_errors_for_maximum_with_message_source">show</a>
                
              </p>
              <div id="method-i-test_validates_length_of_custom_errors_for_maximum_with_message_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/test/validations_test.rb, line 665</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_validates_length_of_custom_errors_for_maximum_with_message</span>
  <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">validates_length_of</span>( <span class="ruby-value">:title</span>, <span class="ruby-value">:maximum=</span><span class="ruby-operator">&gt;</span><span class="ruby-number">5</span>, <span class="ruby-value">:message=</span><span class="ruby-operator">&gt;</span><span class="ruby-string">&quot;boo %d&quot;</span> )
  <span class="ruby-identifier">t</span> = <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">create</span>(<span class="ruby-string">&quot;title&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;uhohuhoh&quot;</span>, <span class="ruby-string">&quot;content&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;whatever&quot;</span>)
  <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">t</span>.<span class="ruby-identifier">valid?</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">errors</span>.<span class="ruby-identifier">on</span>(<span class="ruby-value">:title</span>)
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;boo 5&quot;</span>, <span class="ruby-identifier">t</span>.<span class="ruby-identifier">errors</span>[<span class="ruby-string">&quot;title&quot;</span>]
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_validates_length_of_custom_errors_for_maximum_with_too_long">
            
              <a name="method-i-test_validates_length_of_custom_errors_for_maximum_with_too_long"></a><b>test_validates_length_of_custom_errors_for_maximum_with_too_long</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_validates_length_of_custom_errors_for_maximum_with_too_long_source')" id="l_method-i-test_validates_length_of_custom_errors_for_maximum_with_too_long_source">show</a>
                
              </p>
              <div id="method-i-test_validates_length_of_custom_errors_for_maximum_with_too_long_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/test/validations_test.rb, line 673</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_validates_length_of_custom_errors_for_maximum_with_too_long</span>
  <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">validates_length_of</span>( <span class="ruby-value">:title</span>, <span class="ruby-value">:maximum=</span><span class="ruby-operator">&gt;</span><span class="ruby-number">5</span>, <span class="ruby-value">:too_long=</span><span class="ruby-operator">&gt;</span><span class="ruby-string">&quot;hoo %d&quot;</span> )
  <span class="ruby-identifier">t</span> = <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">create</span>(<span class="ruby-string">&quot;title&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;uhohuhoh&quot;</span>, <span class="ruby-string">&quot;content&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;whatever&quot;</span>)
  <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">t</span>.<span class="ruby-identifier">valid?</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">errors</span>.<span class="ruby-identifier">on</span>(<span class="ruby-value">:title</span>)
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;hoo 5&quot;</span>, <span class="ruby-identifier">t</span>.<span class="ruby-identifier">errors</span>[<span class="ruby-string">&quot;title&quot;</span>]
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_validates_length_of_custom_errors_for_minimum_with_message">
            
              <a name="method-i-test_validates_length_of_custom_errors_for_minimum_with_message"></a><b>test_validates_length_of_custom_errors_for_minimum_with_message</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_validates_length_of_custom_errors_for_minimum_with_message_source')" id="l_method-i-test_validates_length_of_custom_errors_for_minimum_with_message_source">show</a>
                
              </p>
              <div id="method-i-test_validates_length_of_custom_errors_for_minimum_with_message_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/test/validations_test.rb, line 649</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_validates_length_of_custom_errors_for_minimum_with_message</span>
  <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">validates_length_of</span>( <span class="ruby-value">:title</span>, <span class="ruby-value">:minimum=</span><span class="ruby-operator">&gt;</span><span class="ruby-number">5</span>, <span class="ruby-value">:message=</span><span class="ruby-operator">&gt;</span><span class="ruby-string">&quot;boo %d&quot;</span> )
  <span class="ruby-identifier">t</span> = <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">create</span>(<span class="ruby-string">&quot;title&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;uhoh&quot;</span>, <span class="ruby-string">&quot;content&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;whatever&quot;</span>)
  <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">t</span>.<span class="ruby-identifier">valid?</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">errors</span>.<span class="ruby-identifier">on</span>(<span class="ruby-value">:title</span>)
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;boo 5&quot;</span>, <span class="ruby-identifier">t</span>.<span class="ruby-identifier">errors</span>[<span class="ruby-string">&quot;title&quot;</span>]
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_validates_length_of_custom_errors_for_minimum_with_too_short">
            
              <a name="method-i-test_validates_length_of_custom_errors_for_minimum_with_too_short"></a><b>test_validates_length_of_custom_errors_for_minimum_with_too_short</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_validates_length_of_custom_errors_for_minimum_with_too_short_source')" id="l_method-i-test_validates_length_of_custom_errors_for_minimum_with_too_short_source">show</a>
                
              </p>
              <div id="method-i-test_validates_length_of_custom_errors_for_minimum_with_too_short_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/test/validations_test.rb, line 657</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_validates_length_of_custom_errors_for_minimum_with_too_short</span>
  <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">validates_length_of</span>( <span class="ruby-value">:title</span>, <span class="ruby-value">:minimum=</span><span class="ruby-operator">&gt;</span><span class="ruby-number">5</span>, <span class="ruby-value">:too_short=</span><span class="ruby-operator">&gt;</span><span class="ruby-string">&quot;hoo %d&quot;</span> )
  <span class="ruby-identifier">t</span> = <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">create</span>(<span class="ruby-string">&quot;title&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;uhoh&quot;</span>, <span class="ruby-string">&quot;content&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;whatever&quot;</span>)
  <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">t</span>.<span class="ruby-identifier">valid?</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">errors</span>.<span class="ruby-identifier">on</span>(<span class="ruby-value">:title</span>)
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;hoo 5&quot;</span>, <span class="ruby-identifier">t</span>.<span class="ruby-identifier">errors</span>[<span class="ruby-string">&quot;title&quot;</span>]
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_validates_length_of_nasty_params">
            
              <a name="method-i-test_validates_length_of_nasty_params"></a><b>test_validates_length_of_nasty_params</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_validates_length_of_nasty_params_source')" id="l_method-i-test_validates_length_of_nasty_params_source">show</a>
                
              </p>
              <div id="method-i-test_validates_length_of_nasty_params_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/test/validations_test.rb, line 638</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_validates_length_of_nasty_params</span>
  <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">ArgumentError</span>) { <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">validates_length_of</span>(<span class="ruby-value">:title</span>, <span class="ruby-value">:minimum=</span><span class="ruby-operator">&gt;</span><span class="ruby-number">6</span>, <span class="ruby-value">:maximum=</span><span class="ruby-operator">&gt;</span><span class="ruby-number">9</span>) }
  <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">ArgumentError</span>) { <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">validates_length_of</span>(<span class="ruby-value">:title</span>, <span class="ruby-value">:within=</span><span class="ruby-operator">&gt;</span><span class="ruby-number">6</span>, <span class="ruby-value">:maximum=</span><span class="ruby-operator">&gt;</span><span class="ruby-number">9</span>) }
  <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">ArgumentError</span>) { <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">validates_length_of</span>(<span class="ruby-value">:title</span>, <span class="ruby-value">:within=</span><span class="ruby-operator">&gt;</span><span class="ruby-number">6</span>, <span class="ruby-value">:minimum=</span><span class="ruby-operator">&gt;</span><span class="ruby-number">9</span>) }
  <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">ArgumentError</span>) { <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">validates_length_of</span>(<span class="ruby-value">:title</span>, <span class="ruby-value">:within=</span><span class="ruby-operator">&gt;</span><span class="ruby-number">6</span>, <span class="ruby-value">:is=</span><span class="ruby-operator">&gt;</span><span class="ruby-number">9</span>) }
  <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">ArgumentError</span>) { <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">validates_length_of</span>(<span class="ruby-value">:title</span>, <span class="ruby-value">:minimum=</span><span class="ruby-operator">&gt;</span><span class="ruby-string">&quot;a&quot;</span>) }
  <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">ArgumentError</span>) { <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">validates_length_of</span>(<span class="ruby-value">:title</span>, <span class="ruby-value">:maximum=</span><span class="ruby-operator">&gt;</span><span class="ruby-string">&quot;a&quot;</span>) }
  <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">ArgumentError</span>) { <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">validates_length_of</span>(<span class="ruby-value">:title</span>, <span class="ruby-value">:within=</span><span class="ruby-operator">&gt;</span><span class="ruby-string">&quot;a&quot;</span>) }
  <span class="ruby-identifier">assert_raise</span>(<span class="ruby-constant">ArgumentError</span>) { <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">validates_length_of</span>(<span class="ruby-value">:title</span>, <span class="ruby-value">:is=</span><span class="ruby-operator">&gt;</span><span class="ruby-string">&quot;a&quot;</span>) }
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_validates_length_of_using_bignum">
            
              <a name="method-i-test_validates_length_of_using_bignum"></a><b>test_validates_length_of_using_bignum</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_validates_length_of_using_bignum_source')" id="l_method-i-test_validates_length_of_using_bignum_source">show</a>
                
              </p>
              <div id="method-i-test_validates_length_of_using_bignum_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/test/validations_test.rb, line 595</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_validates_length_of_using_bignum</span>
  <span class="ruby-identifier">bigmin</span> = <span class="ruby-number">2</span> <span class="ruby-operator">**</span> <span class="ruby-number">30</span>
  <span class="ruby-identifier">bigmax</span> = <span class="ruby-number">2</span> <span class="ruby-operator">**</span> <span class="ruby-number">32</span>
  <span class="ruby-identifier">bigrange</span> = <span class="ruby-identifier">bigmin</span><span class="ruby-operator">...</span><span class="ruby-identifier">bigmax</span>
  <span class="ruby-identifier">assert_nothing_raised</span> <span class="ruby-keyword">do</span>
    <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">validates_length_of</span> <span class="ruby-value">:title</span>, <span class="ruby-value">:is</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">bigmin</span> <span class="ruby-operator">+</span> <span class="ruby-number">5</span>
    <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">validates_length_of</span> <span class="ruby-value">:title</span>, <span class="ruby-value">:within</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">bigrange</span>
    <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">validates_length_of</span> <span class="ruby-value">:title</span>, <span class="ruby-value">:in</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">bigrange</span>
    <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">validates_length_of</span> <span class="ruby-value">:title</span>, <span class="ruby-value">:minimum</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">bigmin</span>
    <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">validates_length_of</span> <span class="ruby-value">:title</span>, <span class="ruby-value">:maximum</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">bigmax</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_validates_length_of_using_is">
            
              <a name="method-i-test_validates_length_of_using_is"></a><b>test_validates_length_of_using_is</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_validates_length_of_using_is_source')" id="l_method-i-test_validates_length_of_using_is_source">show</a>
                
              </p>
              <div id="method-i-test_validates_length_of_using_is_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/test/validations_test.rb, line 567</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_validates_length_of_using_is</span>
  <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">validates_length_of</span> <span class="ruby-value">:title</span>, <span class="ruby-value">:is</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">5</span>

  <span class="ruby-identifier">t</span> = <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">create</span>(<span class="ruby-string">&quot;title&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;valid&quot;</span>, <span class="ruby-string">&quot;content&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;whatever&quot;</span>)
  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">valid?</span>

  <span class="ruby-identifier">t</span>.<span class="ruby-identifier">title</span> = <span class="ruby-string">&quot;notvalid&quot;</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">t</span>.<span class="ruby-identifier">valid?</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">errors</span>.<span class="ruby-identifier">on</span>(<span class="ruby-value">:title</span>)
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;is the wrong length (should be 5 characters)&quot;</span>, <span class="ruby-identifier">t</span>.<span class="ruby-identifier">errors</span>[<span class="ruby-string">&quot;title&quot;</span>]

  <span class="ruby-identifier">t</span>.<span class="ruby-identifier">title</span> = <span class="ruby-string">&quot;&quot;</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">t</span>.<span class="ruby-identifier">valid?</span>

  <span class="ruby-identifier">t</span>.<span class="ruby-identifier">title</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">t</span>.<span class="ruby-identifier">valid?</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_validates_length_of_using_is_utf8">
            
              <a name="method-i-test_validates_length_of_using_is_utf8"></a><b>test_validates_length_of_using_is_utf8</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_validates_length_of_using_is_utf8_source')" id="l_method-i-test_validates_length_of_using_is_utf8_source">show</a>
                
              </p>
              <div id="method-i-test_validates_length_of_using_is_utf8_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/test/validations_test.rb, line 807</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_validates_length_of_using_is_utf8</span>
  <span class="ruby-identifier">kcode_scope</span>(<span class="ruby-string">'UTF8'</span>) <span class="ruby-keyword">do</span>
    <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">validates_length_of</span> <span class="ruby-value">:title</span>, <span class="ruby-value">:is</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">5</span>

    <span class="ruby-identifier">t</span> = <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">create</span>(<span class="ruby-string">&quot;title&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;一二345&quot;</span>, <span class="ruby-string">&quot;content&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;whatever&quot;</span>)
    <span class="ruby-identifier">assert</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">valid?</span>

    <span class="ruby-identifier">t</span>.<span class="ruby-identifier">title</span> = <span class="ruby-string">&quot;一二345六&quot;</span>
    <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">t</span>.<span class="ruby-identifier">valid?</span>
    <span class="ruby-identifier">assert</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">errors</span>.<span class="ruby-identifier">on</span>(<span class="ruby-value">:title</span>)
    <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;is the wrong length (should be 5 characters)&quot;</span>, <span class="ruby-identifier">t</span>.<span class="ruby-identifier">errors</span>[<span class="ruby-string">&quot;title&quot;</span>]
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_validates_length_of_using_maximum">
            
              <a name="method-i-test_validates_length_of_using_maximum"></a><b>test_validates_length_of_using_maximum</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_validates_length_of_using_maximum_source')" id="l_method-i-test_validates_length_of_using_maximum_source">show</a>
                
              </p>
              <div id="method-i-test_validates_length_of_using_maximum_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/test/validations_test.rb, line 468</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_validates_length_of_using_maximum</span>
  <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">validates_length_of</span> <span class="ruby-value">:title</span>, <span class="ruby-value">:maximum</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">5</span>

  <span class="ruby-identifier">t</span> = <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">create</span>(<span class="ruby-string">&quot;title&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;valid&quot;</span>, <span class="ruby-string">&quot;content&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;whatever&quot;</span>)
  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">valid?</span>

  <span class="ruby-identifier">t</span>.<span class="ruby-identifier">title</span> = <span class="ruby-string">&quot;notvalid&quot;</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">t</span>.<span class="ruby-identifier">valid?</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">errors</span>.<span class="ruby-identifier">on</span>(<span class="ruby-value">:title</span>)
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;is too long (maximum is 5 characters)&quot;</span>, <span class="ruby-identifier">t</span>.<span class="ruby-identifier">errors</span>[<span class="ruby-string">&quot;title&quot;</span>]

  <span class="ruby-identifier">t</span>.<span class="ruby-identifier">title</span> = <span class="ruby-string">&quot;&quot;</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">valid?</span>

  <span class="ruby-identifier">t</span>.<span class="ruby-identifier">title</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">t</span>.<span class="ruby-identifier">valid?</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_validates_length_of_using_maximum_utf8">
            
              <a name="method-i-test_validates_length_of_using_maximum_utf8"></a><b>test_validates_length_of_using_maximum_utf8</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_validates_length_of_using_maximum_utf8_source')" id="l_method-i-test_validates_length_of_using_maximum_utf8_source">show</a>
                
              </p>
              <div id="method-i-test_validates_length_of_using_maximum_utf8_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/test/validations_test.rb, line 721</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_validates_length_of_using_maximum_utf8</span>
  <span class="ruby-identifier">kcode_scope</span>(<span class="ruby-string">'UTF8'</span>) <span class="ruby-keyword">do</span>
    <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">validates_length_of</span> <span class="ruby-value">:title</span>, <span class="ruby-value">:maximum</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">5</span>

    <span class="ruby-identifier">t</span> = <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">create</span>(<span class="ruby-string">&quot;title&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;一二三四五&quot;</span>, <span class="ruby-string">&quot;content&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;whatever&quot;</span>)
    <span class="ruby-identifier">assert</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">valid?</span>

    <span class="ruby-identifier">t</span>.<span class="ruby-identifier">title</span> = <span class="ruby-string">&quot;一二34五六&quot;</span>
    <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">t</span>.<span class="ruby-identifier">valid?</span>
    <span class="ruby-identifier">assert</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">errors</span>.<span class="ruby-identifier">on</span>(<span class="ruby-value">:title</span>)
    <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;is too long (maximum is 5 characters)&quot;</span>, <span class="ruby-identifier">t</span>.<span class="ruby-identifier">errors</span>[<span class="ruby-string">&quot;title&quot;</span>]
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_validates_length_of_using_minimum">
            
              <a name="method-i-test_validates_length_of_using_minimum"></a><b>test_validates_length_of_using_minimum</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_validates_length_of_using_minimum_source')" id="l_method-i-test_validates_length_of_using_minimum_source">show</a>
                
              </p>
              <div id="method-i-test_validates_length_of_using_minimum_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/test/validations_test.rb, line 436</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_validates_length_of_using_minimum</span>
  <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">validates_length_of</span> <span class="ruby-value">:title</span>, <span class="ruby-value">:minimum</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">5</span>

  <span class="ruby-identifier">t</span> = <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">create</span>(<span class="ruby-string">&quot;title&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;valid&quot;</span>, <span class="ruby-string">&quot;content&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;whatever&quot;</span>)
  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">valid?</span>

  <span class="ruby-identifier">t</span>.<span class="ruby-identifier">title</span> = <span class="ruby-string">&quot;not&quot;</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">t</span>.<span class="ruby-identifier">valid?</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">errors</span>.<span class="ruby-identifier">on</span>(<span class="ruby-value">:title</span>)
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;is too short (minimum is 5 characters)&quot;</span>, <span class="ruby-identifier">t</span>.<span class="ruby-identifier">errors</span>[<span class="ruby-string">&quot;title&quot;</span>]

  <span class="ruby-identifier">t</span>.<span class="ruby-identifier">title</span> = <span class="ruby-string">&quot;&quot;</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">t</span>.<span class="ruby-identifier">valid?</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">errors</span>.<span class="ruby-identifier">on</span>(<span class="ruby-value">:title</span>)
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;is too short (minimum is 5 characters)&quot;</span>, <span class="ruby-identifier">t</span>.<span class="ruby-identifier">errors</span>[<span class="ruby-string">&quot;title&quot;</span>]

  <span class="ruby-identifier">t</span>.<span class="ruby-identifier">title</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">t</span>.<span class="ruby-identifier">valid?</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">errors</span>.<span class="ruby-identifier">on</span>(<span class="ruby-value">:title</span>)
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;is too short (minimum is 5 characters)&quot;</span>, <span class="ruby-identifier">t</span>.<span class="ruby-identifier">errors</span>[<span class="ruby-string">&quot;title&quot;</span>]
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_validates_length_of_using_minimum_utf8">
            
              <a name="method-i-test_validates_length_of_using_minimum_utf8"></a><b>test_validates_length_of_using_minimum_utf8</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_validates_length_of_using_minimum_utf8_source')" id="l_method-i-test_validates_length_of_using_minimum_utf8_source">show</a>
                
              </p>
              <div id="method-i-test_validates_length_of_using_minimum_utf8_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/test/validations_test.rb, line 707</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_validates_length_of_using_minimum_utf8</span>
  <span class="ruby-identifier">kcode_scope</span>(<span class="ruby-string">'UTF8'</span>) <span class="ruby-keyword">do</span>
    <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">validates_length_of</span> <span class="ruby-value">:title</span>, <span class="ruby-value">:minimum</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">5</span>

    <span class="ruby-identifier">t</span> = <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">create</span>(<span class="ruby-string">&quot;title&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;一二三四五&quot;</span>, <span class="ruby-string">&quot;content&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;whatever&quot;</span>)
    <span class="ruby-identifier">assert</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">valid?</span>

    <span class="ruby-identifier">t</span>.<span class="ruby-identifier">title</span> = <span class="ruby-string">&quot;一二三四&quot;</span>
    <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">t</span>.<span class="ruby-identifier">valid?</span>
    <span class="ruby-identifier">assert</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">errors</span>.<span class="ruby-identifier">on</span>(<span class="ruby-value">:title</span>)
    <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;is too short (minimum is 5 characters)&quot;</span>, <span class="ruby-identifier">t</span>.<span class="ruby-identifier">errors</span>[<span class="ruby-string">&quot;title&quot;</span>]
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_validates_length_of_using_within">
            
              <a name="method-i-test_validates_length_of_using_within"></a><b>test_validates_length_of_using_within</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_validates_length_of_using_within_source')" id="l_method-i-test_validates_length_of_using_within_source">show</a>
                
              </p>
              <div id="method-i-test_validates_length_of_using_within_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/test/validations_test.rb, line 496</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_validates_length_of_using_within</span>
  <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">validates_length_of</span>(<span class="ruby-value">:title</span>, <span class="ruby-value">:content</span>, <span class="ruby-value">:within</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">3</span><span class="ruby-operator">..</span><span class="ruby-number">5</span>)

  <span class="ruby-identifier">t</span> = <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">new</span>(<span class="ruby-string">&quot;title&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;a!&quot;</span>, <span class="ruby-string">&quot;content&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;I'm ooooooooh so very long&quot;</span>)
  <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">t</span>.<span class="ruby-identifier">valid?</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;is too short (minimum is 3 characters)&quot;</span>, <span class="ruby-identifier">t</span>.<span class="ruby-identifier">errors</span>.<span class="ruby-identifier">on</span>(<span class="ruby-value">:title</span>)
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;is too long (maximum is 5 characters)&quot;</span>, <span class="ruby-identifier">t</span>.<span class="ruby-identifier">errors</span>.<span class="ruby-identifier">on</span>(<span class="ruby-value">:content</span>)

  <span class="ruby-identifier">t</span>.<span class="ruby-identifier">title</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-identifier">t</span>.<span class="ruby-identifier">content</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">t</span>.<span class="ruby-identifier">valid?</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;is too short (minimum is 3 characters)&quot;</span>, <span class="ruby-identifier">t</span>.<span class="ruby-identifier">errors</span>.<span class="ruby-identifier">on</span>(<span class="ruby-value">:title</span>)
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;is too short (minimum is 3 characters)&quot;</span>, <span class="ruby-identifier">t</span>.<span class="ruby-identifier">errors</span>.<span class="ruby-identifier">on</span>(<span class="ruby-value">:content</span>)

  <span class="ruby-identifier">t</span>.<span class="ruby-identifier">title</span> = <span class="ruby-string">&quot;abe&quot;</span>
  <span class="ruby-identifier">t</span>.<span class="ruby-identifier">content</span>  = <span class="ruby-string">&quot;mad&quot;</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">valid?</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_validates_length_of_using_within_utf8">
            
              <a name="method-i-test_validates_length_of_using_within_utf8"></a><b>test_validates_length_of_using_within_utf8</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_validates_length_of_using_within_utf8_source')" id="l_method-i-test_validates_length_of_using_within_utf8_source">show</a>
                
              </p>
              <div id="method-i-test_validates_length_of_using_within_utf8_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/test/validations_test.rb, line 735</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_validates_length_of_using_within_utf8</span>
  <span class="ruby-identifier">kcode_scope</span>(<span class="ruby-string">'UTF8'</span>) <span class="ruby-keyword">do</span>
    <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">validates_length_of</span>(<span class="ruby-value">:title</span>, <span class="ruby-value">:content</span>, <span class="ruby-value">:within</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">3</span><span class="ruby-operator">..</span><span class="ruby-number">5</span>)

    <span class="ruby-identifier">t</span> = <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">new</span>(<span class="ruby-string">&quot;title&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;一二&quot;</span>, <span class="ruby-string">&quot;content&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;12三四五六七&quot;</span>)
    <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">t</span>.<span class="ruby-identifier">valid?</span>
    <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;is too short (minimum is 3 characters)&quot;</span>, <span class="ruby-identifier">t</span>.<span class="ruby-identifier">errors</span>.<span class="ruby-identifier">on</span>(<span class="ruby-value">:title</span>)
    <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;is too long (maximum is 5 characters)&quot;</span>, <span class="ruby-identifier">t</span>.<span class="ruby-identifier">errors</span>.<span class="ruby-identifier">on</span>(<span class="ruby-value">:content</span>)
    <span class="ruby-identifier">t</span>.<span class="ruby-identifier">title</span> = <span class="ruby-string">&quot;一二三&quot;</span>
    <span class="ruby-identifier">t</span>.<span class="ruby-identifier">content</span>  = <span class="ruby-string">&quot;12三&quot;</span>
    <span class="ruby-identifier">assert</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">valid?</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_validates_length_of_with_custom_message_using_quotes">
            
              <a name="method-i-test_validates_length_of_with_custom_message_using_quotes"></a><b>test_validates_length_of_with_custom_message_using_quotes</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_validates_length_of_with_custom_message_using_quotes_source')" id="l_method-i-test_validates_length_of_with_custom_message_using_quotes_source">show</a>
                
              </p>
              <div id="method-i-test_validates_length_of_with_custom_message_using_quotes_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/test/validations_test.rb, line 924</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_validates_length_of_with_custom_message_using_quotes</span>
  <span class="ruby-constant">Developer</span>.<span class="ruby-identifier">validates_length_of</span> <span class="ruby-value">:name</span>, <span class="ruby-value">:minimum</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">4</span>, <span class="ruby-value">:message=</span><span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;This string contains 'single' and \&quot;double\&quot; quotes&quot;</span>
  <span class="ruby-identifier">d</span> = <span class="ruby-constant">Developer</span>.<span class="ruby-identifier">new</span>
  <span class="ruby-identifier">d</span>.<span class="ruby-identifier">name</span> = <span class="ruby-string">&quot;Joe&quot;</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">d</span>.<span class="ruby-identifier">valid?</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;This string contains 'single' and \&quot;double\&quot; quotes&quot;</span>, <span class="ruby-identifier">d</span>.<span class="ruby-identifier">errors</span>.<span class="ruby-identifier">on</span>(<span class="ruby-value">:name</span>).<span class="ruby-identifier">first</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_validates_length_of_with_custom_too_long_using_quotes">
            
              <a name="method-i-test_validates_length_of_with_custom_too_long_using_quotes"></a><b>test_validates_length_of_with_custom_too_long_using_quotes</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_validates_length_of_with_custom_too_long_using_quotes_source')" id="l_method-i-test_validates_length_of_with_custom_too_long_using_quotes_source">show</a>
                
              </p>
              <div id="method-i-test_validates_length_of_with_custom_too_long_using_quotes_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/test/validations_test.rb, line 908</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_validates_length_of_with_custom_too_long_using_quotes</span>
  <span class="ruby-constant">Developer</span>.<span class="ruby-identifier">validates_length_of</span> <span class="ruby-value">:name</span>, <span class="ruby-value">:maximum</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">4</span>, <span class="ruby-value">:too_long=</span><span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;This string contains 'single' and \&quot;double\&quot; quotes&quot;</span>
  <span class="ruby-identifier">d</span> = <span class="ruby-constant">Developer</span>.<span class="ruby-identifier">new</span>
  <span class="ruby-identifier">d</span>.<span class="ruby-identifier">name</span> = <span class="ruby-string">&quot;Jeffrey&quot;</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">d</span>.<span class="ruby-identifier">valid?</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;This string contains 'single' and \&quot;double\&quot; quotes&quot;</span>, <span class="ruby-identifier">d</span>.<span class="ruby-identifier">errors</span>.<span class="ruby-identifier">on</span>(<span class="ruby-value">:name</span>).<span class="ruby-identifier">first</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_validates_length_of_with_custom_too_short_using_quotes">
            
              <a name="method-i-test_validates_length_of_with_custom_too_short_using_quotes"></a><b>test_validates_length_of_with_custom_too_short_using_quotes</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_validates_length_of_with_custom_too_short_using_quotes_source')" id="l_method-i-test_validates_length_of_with_custom_too_short_using_quotes_source">show</a>
                
              </p>
              <div id="method-i-test_validates_length_of_with_custom_too_short_using_quotes_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/test/validations_test.rb, line 916</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_validates_length_of_with_custom_too_short_using_quotes</span>
  <span class="ruby-constant">Developer</span>.<span class="ruby-identifier">validates_length_of</span> <span class="ruby-value">:name</span>, <span class="ruby-value">:minimum</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">4</span>, <span class="ruby-value">:too_short=</span><span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;This string contains 'single' and \&quot;double\&quot; quotes&quot;</span>
  <span class="ruby-identifier">d</span> = <span class="ruby-constant">Developer</span>.<span class="ruby-identifier">new</span>
  <span class="ruby-identifier">d</span>.<span class="ruby-identifier">name</span> = <span class="ruby-string">&quot;Joe&quot;</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">d</span>.<span class="ruby-identifier">valid?</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;This string contains 'single' and \&quot;double\&quot; quotes&quot;</span>, <span class="ruby-identifier">d</span>.<span class="ruby-identifier">errors</span>.<span class="ruby-identifier">on</span>(<span class="ruby-value">:name</span>).<span class="ruby-identifier">first</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_validates_length_with_globaly_modified_error_message">
            
              <a name="method-i-test_validates_length_with_globaly_modified_error_message"></a><b>test_validates_length_with_globaly_modified_error_message</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_validates_length_with_globaly_modified_error_message_source')" id="l_method-i-test_validates_length_with_globaly_modified_error_message_source">show</a>
                
              </p>
              <div id="method-i-test_validates_length_with_globaly_modified_error_message_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/test/validations_test.rb, line 608</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_validates_length_with_globaly_modified_error_message</span>
  <span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">Errors</span>.<span class="ruby-identifier">default_error_messages</span>[<span class="ruby-value">:too_short</span>] = <span class="ruby-string">'tu est trops petit hombre %d'</span>
  <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">validates_length_of</span> <span class="ruby-value">:title</span>, <span class="ruby-value">:minimum</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">10</span>
  <span class="ruby-identifier">t</span> = <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">create</span>(<span class="ruby-value">:title</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'too short'</span>)
  <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">t</span>.<span class="ruby-identifier">valid?</span>

  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">'tu est trops petit hombre 10'</span>, <span class="ruby-identifier">t</span>.<span class="ruby-identifier">errors</span>[<span class="ruby-string">'title'</span>]
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_validates_presence_of_with_custom_message_using_quotes">
            
              <a name="method-i-test_validates_presence_of_with_custom_message_using_quotes"></a><b>test_validates_presence_of_with_custom_message_using_quotes</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_validates_presence_of_with_custom_message_using_quotes_source')" id="l_method-i-test_validates_presence_of_with_custom_message_using_quotes_source">show</a>
                
              </p>
              <div id="method-i-test_validates_presence_of_with_custom_message_using_quotes_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/test/validations_test.rb, line 932</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_validates_presence_of_with_custom_message_using_quotes</span>
  <span class="ruby-constant">Developer</span>.<span class="ruby-identifier">validates_presence_of</span> <span class="ruby-value">:non_existent</span>, <span class="ruby-value">:message=</span><span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;This string contains 'single' and \&quot;double\&quot; quotes&quot;</span>
  <span class="ruby-identifier">d</span> = <span class="ruby-constant">Developer</span>.<span class="ruby-identifier">new</span>
  <span class="ruby-identifier">d</span>.<span class="ruby-identifier">name</span> = <span class="ruby-string">&quot;Joe&quot;</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">d</span>.<span class="ruby-identifier">valid?</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;This string contains 'single' and \&quot;double\&quot; quotes&quot;</span>, <span class="ruby-identifier">d</span>.<span class="ruby-identifier">errors</span>.<span class="ruby-identifier">on</span>(<span class="ruby-value">:non_existent</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_validates_size_of_association">
            
              <a name="method-i-test_validates_size_of_association"></a><b>test_validates_size_of_association</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_validates_size_of_association_source')" id="l_method-i-test_validates_size_of_association_source">show</a>
                
              </p>
              <div id="method-i-test_validates_size_of_association_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/test/validations_test.rb, line 629</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_validates_size_of_association</span>
  <span class="ruby-identifier">assert_nothing_raised</span> { <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">validates_size_of</span> <span class="ruby-value">:replies</span>, <span class="ruby-value">:minimum</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">1</span> }
  <span class="ruby-identifier">t</span> = <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">new</span>(<span class="ruby-string">'title'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'noreplies'</span>, <span class="ruby-string">'content'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'whatever'</span>)
  <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">t</span>.<span class="ruby-identifier">save</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">errors</span>.<span class="ruby-identifier">on</span>(<span class="ruby-value">:replies</span>)
  <span class="ruby-identifier">t</span>.<span class="ruby-identifier">replies</span>.<span class="ruby-identifier">build</span>(<span class="ruby-string">'title'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'areply'</span>, <span class="ruby-string">'content'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'whateveragain'</span>)
  <span class="ruby-identifier">assert</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">valid?</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_validates_size_of_association_utf8">
            
              <a name="method-i-test_validates_size_of_association_utf8"></a><b>test_validates_size_of_association_utf8</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_validates_size_of_association_utf8_source')" id="l_method-i-test_validates_size_of_association_utf8_source">show</a>
                
              </p>
              <div id="method-i-test_validates_size_of_association_utf8_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/test/validations_test.rb, line 821</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_validates_size_of_association_utf8</span>
  <span class="ruby-identifier">kcode_scope</span>(<span class="ruby-string">'UTF8'</span>) <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">assert_nothing_raised</span> { <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">validates_size_of</span> <span class="ruby-value">:replies</span>, <span class="ruby-value">:minimum</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-number">1</span> }
    <span class="ruby-identifier">t</span> = <span class="ruby-constant">Topic</span>.<span class="ruby-identifier">new</span>(<span class="ruby-string">'title'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'あいうえお'</span>, <span class="ruby-string">'content'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'かきくけこ'</span>)
    <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">t</span>.<span class="ruby-identifier">save</span>
    <span class="ruby-identifier">assert</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">errors</span>.<span class="ruby-identifier">on</span>(<span class="ruby-value">:replies</span>)
    <span class="ruby-identifier">t</span>.<span class="ruby-identifier">replies</span>.<span class="ruby-identifier">build</span>(<span class="ruby-string">'title'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'あいうえお'</span>, <span class="ruby-string">'content'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'かきくけこ'</span>)
    <span class="ruby-identifier">assert</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">valid?</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-test_validates_uniqueness_of_with_custom_message_using_quotes">
            
              <a name="method-i-test_validates_uniqueness_of_with_custom_message_using_quotes"></a><b>test_validates_uniqueness_of_with_custom_message_using_quotes</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-test_validates_uniqueness_of_with_custom_message_using_quotes_source')" id="l_method-i-test_validates_uniqueness_of_with_custom_message_using_quotes_source">show</a>
                
              </p>
              <div id="method-i-test_validates_uniqueness_of_with_custom_message_using_quotes_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/test/validations_test.rb, line 940</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">test_validates_uniqueness_of_with_custom_message_using_quotes</span>
  <span class="ruby-constant">Developer</span>.<span class="ruby-identifier">validates_uniqueness_of</span> <span class="ruby-value">:name</span>, <span class="ruby-value">:message=</span><span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;This string contains 'single' and \&quot;double\&quot; quotes&quot;</span>
  <span class="ruby-identifier">d</span> = <span class="ruby-constant">Developer</span>.<span class="ruby-identifier">new</span>
  <span class="ruby-identifier">d</span>.<span class="ruby-identifier">name</span> = <span class="ruby-string">&quot;David&quot;</span>
  <span class="ruby-identifier">assert</span> <span class="ruby-operator">!</span><span class="ruby-identifier">d</span>.<span class="ruby-identifier">valid?</span>
  <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;This string contains 'single' and \&quot;double\&quot; quotes&quot;</span>, <span class="ruby-identifier">d</span>.<span class="ruby-identifier">errors</span>.<span class="ruby-identifier">on</span>(<span class="ruby-value">:name</span>).<span class="ruby-identifier">first</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
                    </div>
    </div>
  </body>
</html>    