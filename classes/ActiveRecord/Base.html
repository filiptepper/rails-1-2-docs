<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>ActiveRecord::Base</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link rel="stylesheet" href="../../css/reset.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../../css/main.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../../css/github.css" type="text/css" media="screen" />
<script src="../../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
<script src="../../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
<script src="../../js/main.js" type="text/javascript" charset="utf-8"></script>
<script src="../../js/highlight.pack.js" type="text/javascript" charset="utf-8"></script>

</head>

<body>     
    <div class="banner">
        
        <h1>
            <span class="type">Class</span> 
            ActiveRecord::Base 
            
                <span class="parent">&lt; 
                    
                    <a href="../Object.html">Object</a>
                    
                </span>
            
        </h1>
        <ul class="files">
            
            <li><a href="../../files/rails/activerecord/lib/active_record/base_rb.html">rails/activerecord/lib/active_record/base.rb</a></li>
            
            <li><a href="../../files/rails/activerecord/lib/active_record/connection_adapters/abstract/connection_specification_rb.html">rails/activerecord/lib/active_record/connection_adapters/abstract/connection_specification.rb</a></li>
            
            <li><a href="../../files/rails/activerecord/lib/active_record/connection_adapters/db2_adapter_rb.html">rails/activerecord/lib/active_record/connection_adapters/db2_adapter.rb</a></li>
            
            <li><a href="../../files/rails/activerecord/lib/active_record/connection_adapters/firebird_adapter_rb.html">rails/activerecord/lib/active_record/connection_adapters/firebird_adapter.rb</a></li>
            
            <li><a href="../../files/rails/activerecord/lib/active_record/connection_adapters/frontbase_adapter_rb.html">rails/activerecord/lib/active_record/connection_adapters/frontbase_adapter.rb</a></li>
            
            <li><a href="../../files/rails/activerecord/lib/active_record/connection_adapters/mysql_adapter_rb.html">rails/activerecord/lib/active_record/connection_adapters/mysql_adapter.rb</a></li>
            
            <li><a href="../../files/rails/activerecord/lib/active_record/connection_adapters/openbase_adapter_rb.html">rails/activerecord/lib/active_record/connection_adapters/openbase_adapter.rb</a></li>
            
            <li><a href="../../files/rails/activerecord/lib/active_record/connection_adapters/oracle_adapter_rb.html">rails/activerecord/lib/active_record/connection_adapters/oracle_adapter.rb</a></li>
            
            <li><a href="../../files/rails/activerecord/lib/active_record/connection_adapters/postgresql_adapter_rb.html">rails/activerecord/lib/active_record/connection_adapters/postgresql_adapter.rb</a></li>
            
            <li><a href="../../files/rails/activerecord/lib/active_record/connection_adapters/sqlite_adapter_rb.html">rails/activerecord/lib/active_record/connection_adapters/sqlite_adapter.rb</a></li>
            
            <li><a href="../../files/rails/activerecord/lib/active_record/connection_adapters/sqlserver_adapter_rb.html">rails/activerecord/lib/active_record/connection_adapters/sqlserver_adapter.rb</a></li>
            
            <li><a href="../../files/rails/activerecord/lib/active_record/connection_adapters/sybase_adapter_rb.html">rails/activerecord/lib/active_record/connection_adapters/sybase_adapter.rb</a></li>
            
            <li><a href="../../files/rails/activerecord/lib/active_record/deprecated_finders_rb.html">rails/activerecord/lib/active_record/deprecated_finders.rb</a></li>
            
            <li><a href="../../files/rails/activerecord/lib/active_record/query_cache_rb.html">rails/activerecord/lib/active_record/query_cache.rb</a></li>
            
            <li><a href="../../files/rails/activesupport/test/whiny_nil_test_rb.html">rails/activesupport/test/whiny_nil_test.rb</a></li>
            
            <li><a href="../../files/rails/railties/test/rails_generator_test_rb.html">rails/railties/test/rails_generator_test.rb</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
  
    <div class="description">
      
<p>Active Record objects don’t specify their attributes directly, but rather
infer them from the table definition with which they’re linked. Adding,
removing, and changing attributes and their type is done directly in the
database. Any change is instantly reflected in the Active Record objects.
The mapping that binds a given Active Record class to a certain database
table will happen automatically in most common cases, but can be
overwritten for the uncommon ones.</p>

<p>See the mapping rules in <a
href="Base.html#method-c-table_name">::table_name</a> and the full example
in <a href="../../files/README.html">files/README.html</a> for more
insight.</p>

<h2 id="label-Creation">Creation</h2>

<p>Active Records accept constructor parameters either in a hash or as a
block. The hash method is especially useful when you’re receiving the data
from somewhere else, like a HTTP request. It works like this:</p>

<pre class="ruby"><span class="ruby-identifier">user</span> = <span class="ruby-constant">User</span>.<span class="ruby-identifier">new</span>(:<span class="ruby-identifier">name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;David&quot;</span>, :<span class="ruby-identifier">occupation</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;Code Artist&quot;</span>)
<span class="ruby-identifier">user</span>.<span class="ruby-identifier">name</span> <span class="ruby-comment"># =&gt; &quot;David&quot;</span>
</pre>

<p>You can also use block initialization:</p>

<pre class="ruby"><span class="ruby-identifier">user</span> = <span class="ruby-constant">User</span>.<span class="ruby-identifier">new</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">u</span><span class="ruby-operator">|</span>
  <span class="ruby-identifier">u</span>.<span class="ruby-identifier">name</span> = <span class="ruby-string">&quot;David&quot;</span>
  <span class="ruby-identifier">u</span>.<span class="ruby-identifier">occupation</span> = <span class="ruby-string">&quot;Code Artist&quot;</span>
<span class="ruby-keyword">end</span>
</pre>

<p>And of course you can just create a bare object and specify the attributes
after the fact:</p>

<pre>user = User.new
user.name = &quot;David&quot;
user.occupation = &quot;Code Artist&quot;</pre>

<h2 id="label-Conditions">Conditions</h2>

<p>Conditions can either be specified as a string, array, or hash representing
the WHERE-part of an SQL statement. The array form is to be used when the
condition input is tainted and requires sanitization. The string form can
be used for statements that don’t involve tainted data. The hash form works
much like the array form, except only equality and range is possible.
Examples:</p>

<pre class="ruby"><span class="ruby-keyword">class</span> <span class="ruby-constant">User</span> <span class="ruby-operator">&lt;</span> <span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>
  <span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">authenticate_unsafely</span>(<span class="ruby-identifier">user_name</span>, <span class="ruby-identifier">password</span>)
    <span class="ruby-identifier">find</span>(:<span class="ruby-identifier">first</span>, :<span class="ruby-identifier">conditions</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">&quot;user_name = '#{user_name}' AND password = '#{password}'&quot;</span>)
  <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">authenticate_safely</span>(<span class="ruby-identifier">user_name</span>, <span class="ruby-identifier">password</span>)
    <span class="ruby-identifier">find</span>(:<span class="ruby-identifier">first</span>, :<span class="ruby-identifier">conditions</span> =<span class="ruby-operator">&gt;</span> [ <span class="ruby-string">&quot;user_name = ? AND password = ?&quot;</span>, <span class="ruby-identifier">user_name</span>, <span class="ruby-identifier">password</span> ])
  <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">authenticate_safely_simply</span>(<span class="ruby-identifier">user_name</span>, <span class="ruby-identifier">password</span>)
    <span class="ruby-identifier">find</span>(:<span class="ruby-identifier">first</span>, :<span class="ruby-identifier">conditions</span> =<span class="ruby-operator">&gt;</span> { :<span class="ruby-identifier">user_name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">user_name</span>, :<span class="ruby-identifier">password</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">password</span> })
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span>
</pre>

<p>The <code>authenticate_unsafely</code> method inserts the parameters
directly into the query and is thus susceptible to SQL-injection attacks if
the <code>user_name</code> and <code>password</code> parameters come
directly from a HTTP request. The <code>authenticate_safely</code>  and
<code>authenticate_safely_simply</code> both will sanitize the
<code>user_name</code> and <code>password</code> before inserting them in
the query,  which will ensure that an attacker can’t escape the query and
fake the login (or worse).</p>

<p>When using multiple parameters in the conditions, it can easily become hard
to read exactly what the fourth or fifth question mark is supposed to
represent. In those cases, you can resort to named bind variables instead.
That’s done by replacing the question marks with symbols and supplying a
hash with values for the matching symbol keys:</p>

<pre class="ruby"><span class="ruby-constant">Company</span>.<span class="ruby-identifier">find</span>(:<span class="ruby-identifier">first</span>, [
  <span class="ruby-string">&quot;id = :id AND name = :name AND division = :division AND created_at &gt; :accounting_date&quot;</span>,
  { :<span class="ruby-identifier">id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">3</span>, :<span class="ruby-identifier">name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;37signals&quot;</span>, :<span class="ruby-identifier">division</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;First&quot;</span>, :<span class="ruby-identifier">accounting_date</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'2005-01-01'</span> }
])
</pre>

<p>Similarly, a simple hash without a statement will generate conditions based
on equality with the SQL AND operator. For instance:</p>

<pre class="ruby"><span class="ruby-constant">Student</span>.<span class="ruby-identifier">find</span>(:<span class="ruby-identifier">all</span>, :<span class="ruby-identifier">conditions</span> =<span class="ruby-operator">&gt;</span> { :<span class="ruby-identifier">first_name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;Harvey&quot;</span>, :<span class="ruby-identifier">status</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span> })
<span class="ruby-constant">Student</span>.<span class="ruby-identifier">find</span>(:<span class="ruby-identifier">all</span>, :<span class="ruby-identifier">conditions</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">params</span>[:<span class="ruby-identifier">student</span>])
</pre>

<p><a href="../A.html">A</a> range may be used in the hash to use the SQL
BETWEEN operator:</p>

<pre class="ruby"><span class="ruby-constant">Student</span>.<span class="ruby-identifier">find</span>(:<span class="ruby-identifier">all</span>, :<span class="ruby-identifier">conditions</span> =<span class="ruby-operator">&gt;</span> { :<span class="ruby-identifier">grade</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">9</span><span class="ruby-operator">..</span><span class="ruby-value">12</span> })
</pre>

<h2 id="label-Overwriting+default+accessors">Overwriting default accessors</h2>

<p>All column values are automatically available through basic accessors on
the Active Record object, but some times you want to specialize this
behavior. This can be done by either by overwriting the default accessors
(using the same name as the attribute) calling read_attribute(attr_name)
and write_attribute(attr_name, value) to actually change things. Example:</p>

<pre class="ruby"><span class="ruby-keyword">class</span> <span class="ruby-constant">Song</span> <span class="ruby-operator">&lt;</span> <span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>
  <span class="ruby-comment"># Uses an integer of seconds to hold the length of the song</span>

  <span class="ruby-keyword">def</span> <span class="ruby-identifier">length=</span>(<span class="ruby-identifier">minutes</span>)
    <span class="ruby-identifier">write_attribute</span>(:<span class="ruby-identifier">length</span>, <span class="ruby-identifier">minutes</span> * <span class="ruby-value">60</span>)
  <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">def</span> <span class="ruby-identifier">length</span>
    <span class="ruby-identifier">read_attribute</span>(:<span class="ruby-identifier">length</span>) <span class="ruby-operator">/</span> <span class="ruby-value">60</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span>
</pre>

<p>You can alternatively use <a href="http://:attribute">self</a>=(value) and
<a href="http://:attribute">self</a> instead of write_attribute(:attribute,
vaule) and read_attribute(:attribute) as a shorter form.</p>

<h2 id="label-Accessing+attributes+before+they+have+been+typecasted">Accessing attributes before they have been typecasted</h2>

<p>Sometimes you want to be able to read the raw attribute data without having
the column-determined typecast run its course first. That can be done by
using the &lt;attribute&gt;_before_type_cast accessors that all attributes
have. For example, if your <a href="../Account.html">Account</a> model has
a balance attribute, you can call account.balance_before_type_cast or
account.id_before_type_cast.</p>

<p>This is especially useful in validation situations where the user might
supply a string for an integer field and you want to display the original
string back in an error message. Accessing the attribute normally would
typecast the string to 0, which isn’t what you want.</p>

<h2 id="label-Dynamic+attribute-based+finders">Dynamic attribute-based finders</h2>

<p>Dynamic attribute-based finders are a cleaner way of getting (and/or
creating) objects by simple queries without turning to SQL. They work by
appending the name of an attribute to <code>find_by_</code> or
<code>find_all_by_</code>, so you get finders like
Person.find_by_user_name, Person.find_all_by_last_name,
Payment.find_by_transaction_id. So instead of writing
<code>Person.find(:first, [&quot;user_name = ?&quot;, user_name])</code>,
you just do <code>Person.find_by_user_name(user_name)</code>. And instead
of writing <code>Person.find(:all, [&quot;last_name = ?&quot;,
last_name])</code>, you just do
<code>Person.find_all_by_last_name(last_name)</code>.</p>

<p>It’s also possible to use multiple attributes in the same find by
separating them with “<em>and</em>”, so you get finders like
<code>Person.find_by_user_name_and_password</code> or even
<code>Payment.find_by_purchaser_and_state_and_country</code>. So instead of
writing <code>Person.find(:first, [&quot;user_name = ? AND password =
?&quot;, user_name, password])</code>, you just do
<code>Person.find_by_user_name_and_password(user_name, password)</code>.</p>

<p>It’s even possible to use all the additional parameters to find. For
example, the full interface for Payment.find_all_by_amount is actually
Payment.find_all_by_amount(amount, options). And the full interface to
Person.find_by_user_name is actually Person.find_by_user_name(user_name,
options). So you could call <code>Payment.find_all_by_amount(50, :order
=&gt; &quot;created_on&quot;)</code>.</p>

<p>The same dynamic finder style can be used to create the object if it
doesn’t already exist. This dynamic finder is called with
<code>find_or_create_by_</code> and will return the object if it already
exists and otherwise creates it, then returns it. Example:</p>

<pre class="ruby"><span class="ruby-comment"># No 'Summer' tag exists</span>
<span class="ruby-constant">Tag</span>.<span class="ruby-identifier">find_or_create_by_name</span>(<span class="ruby-string">&quot;Summer&quot;</span>) <span class="ruby-comment"># equal to Tag.create(:name =&gt; &quot;Summer&quot;)</span>

<span class="ruby-comment"># Now the 'Summer' tag does exist</span>
<span class="ruby-constant">Tag</span>.<span class="ruby-identifier">find_or_create_by_name</span>(<span class="ruby-string">&quot;Summer&quot;</span>) <span class="ruby-comment"># equal to Tag.find_by_name(&quot;Summer&quot;)</span>
</pre>

<p>Use the <code>find_or_initialize_by_</code> finder if you want to return a
new record without saving it first. Example:</p>

<pre># No 'Winter' tag exists
winter = Tag.find_or_initialize_by_name(&quot;Winter&quot;)
winter.new_record? # true</pre>

<h2 id="label-Saving+arrays%2C+hashes%2C+and+other+non-mappable+objects+in+text+columns">Saving arrays, hashes, and other non-mappable objects in text columns</h2>

<p>Active Record can serialize any object in text columns using YAML. To do
so, you must specify this with a call to the class method
<code>serialize</code>. This makes it possible to store arrays, hashes, and
other non-mappable objects without doing any additional work. Example:</p>

<pre class="ruby"><span class="ruby-keyword">class</span> <span class="ruby-constant">User</span> <span class="ruby-operator">&lt;</span> <span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>
  <span class="ruby-identifier">serialize</span> :<span class="ruby-identifier">preferences</span>
<span class="ruby-keyword">end</span>

<span class="ruby-identifier">user</span> = <span class="ruby-constant">User</span>.<span class="ruby-identifier">create</span>(:<span class="ruby-identifier">preferences</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-string">&quot;background&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;black&quot;</span>, <span class="ruby-string">&quot;display&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">large</span> })
<span class="ruby-constant">User</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">user</span>.<span class="ruby-identifier">id</span>).<span class="ruby-identifier">preferences</span> <span class="ruby-comment"># =&gt; { &quot;background&quot; =&gt; &quot;black&quot;, &quot;display&quot; =&gt; large }</span>
</pre>

<p>You can also specify a class option as the second parameter that’ll raise
an exception if a serialized object is retrieved as a descendent of a class
not in the hierarchy. Example:</p>

<pre class="ruby"><span class="ruby-keyword">class</span> <span class="ruby-constant">User</span> <span class="ruby-operator">&lt;</span> <span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>
  <span class="ruby-identifier">serialize</span> :<span class="ruby-identifier">preferences</span>, <span class="ruby-constant">Hash</span>
<span class="ruby-keyword">end</span>

<span class="ruby-identifier">user</span> = <span class="ruby-constant">User</span>.<span class="ruby-identifier">create</span>(:<span class="ruby-identifier">preferences</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">%w( one two three )</span>)
<span class="ruby-constant">User</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">user</span>.<span class="ruby-identifier">id</span>).<span class="ruby-identifier">preferences</span>    <span class="ruby-comment"># raises SerializationTypeMismatch</span>
</pre>

<h2 id="label-Single+table+inheritance">Single table inheritance</h2>

<p>Active Record allows inheritance by storing the name of the class in a
column that by default is called “type” (can be changed by overwriting
<code>Base.inheritance_column</code>). This means that an inheritance
looking like this:</p>

<pre class="ruby"><span class="ruby-keyword">class</span> <span class="ruby-constant">Company</span> <span class="ruby-operator">&lt;</span> <span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>; <span class="ruby-keyword">end</span>
<span class="ruby-keyword">class</span> <span class="ruby-constant">Firm</span> <span class="ruby-operator">&lt;</span> <span class="ruby-constant">Company</span>; <span class="ruby-keyword">end</span>
<span class="ruby-keyword">class</span> <span class="ruby-constant">Client</span> <span class="ruby-operator">&lt;</span> <span class="ruby-constant">Company</span>; <span class="ruby-keyword">end</span>
<span class="ruby-keyword">class</span> <span class="ruby-constant">PriorityClient</span> <span class="ruby-operator">&lt;</span> <span class="ruby-constant">Client</span>; <span class="ruby-keyword">end</span>
</pre>

<p>When you do Firm.create(:name =&gt; “37signals”), this record will be saved
in the companies table with type = “Firm”. You can then fetch this row
again using <a href="Base.html#method-c-find">::find</a>(:first, “name =
‘37signals’”) and it will return a <a href="../Firm.html">Firm</a> object.</p>

<p>If you don’t have a type column defined in your table, single-table
inheritance won’t be triggered. In that case, it’ll work just like normal
subclasses with no special magic for differentiating between them or
reloading the right type with find.</p>

<p>Note, all the attributes for all the cases are kept in the same table. Read
more: <a
href="http://www.martinfowler.com/eaaCatalog/singleTableInheritance.html">www.martinfowler.com/eaaCatalog/singleTableInheritance.html</a></p>

<h2 id="label-Connection+to+multiple+databases+in+different+models">Connection to multiple databases in different models</h2>

<p>Connections are usually created through <a
href="Base.html#method-c-establish_connection">::establish_connection</a>
and retrieved by <a href="Base.html#method-c-connection">::connection</a>.
All classes inheriting from <a href="Base.html">ActiveRecord::Base</a> will
use this connection. But you can also set a class-specific connection. For
example, if <a href="../Course.html">Course</a> is a <a
href="Base.html">ActiveRecord::Base</a>, but resides in a different
database you can just say <a
href="Base.html#method-c-establish_connection">::establish_connection</a>
and <a href="../Course.html">Course</a> *and all its subclasses* will use
this connection instead.</p>

<p>This feature is implemented by keeping a connection pool in <a
href="Base.html">ActiveRecord::Base</a> that is a Hash indexed by the
class. If a connection is requested, the retrieve_connection method will go
up the class-hierarchy until a connection is found in the connection pool.</p>

<h2 id="label-Exceptions">Exceptions</h2>
<ul><li>
<p><code>ActiveRecordError</code> -- generic error class and superclass of all
other errors raised by Active Record</p>
</li><li>
<p><code>AdapterNotSpecified</code> -- the configuration hash used in
<code>establish_connection</code> didn't include a <code>:adapter</code>
key.</p>
</li><li>
<p><code>AdapterNotFound</code> -- the <code>:adapter</code> key used in
<code>establish_connection</code> specified an non-existent adapter (or a
bad spelling of an existing one).</p>
</li><li>
<p><code>AssociationTypeMismatch</code> -- the object assigned to the
association wasn't of the type specified in the association definition.</p>
</li><li>
<p><code>SerializationTypeMismatch</code> -- the object serialized wasn't of
the class specified as the second parameter.</p>
</li><li>
<p><code>ConnectionNotEstablished</code> -- no connection has been
established. Use <code>establish_connection</code> before querying.</p>
</li><li>
<p><code>RecordNotFound</code> -- no record responded to the find* method.
Either the row with the given ID doesn't exist or the row didn't meet the
additional restrictions.</p>
</li><li>
<p><code>StatementInvalid</code> -- the database server rejected the SQL
statement. The precise error is added in the  message. Either the record
with the given ID doesn't exist or the record didn't meet the additional
restrictions.</p>
</li><li>
<p><code>MultiparameterAssignmentErrors</code> -- collection of errors that
occurred during a mass assignment using the <code>attributes=</code>
method. The <code>errors</code> property of this exception contains an
array of <code>AttributeAssignmentError</code> objects that should be
inspected to determine which attributes triggered the errors.</p>
</li><li>
<p><code>AttributeAssignmentError</code> -- an error occurred while doing a
mass assignment through the <code>attributes=</code> method. You can
inspect the <code>attribute</code> property of the exception object to
determine which attribute triggered the error.</p>
</li></ul>

<p><strong>Note</strong>: The attributes listed are class-level attributes
(accessible from both the class and instance level). So it's possible to
assign a logger to the class through Base.logger= which will then be used
by all instances in the current object space.</p>

    </div>
  


  


  
  


  


  
    <!-- Method ref -->
    <div class="sectiontitle">Methods</div>
    <dl class="methods">
      
        <dt>#</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-3D-3D">==</a>,
              </li>
            
              
              <li>
                <a href="#method-c-3D-3D-3D">===</a>,
              </li>
            
              
              <li>
                <a href="#method-i-5B-5D">[]</a>,
              </li>
            
              
              <li>
                <a href="#method-i-5B-5D-3D">[]=</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>A</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-c-abstract_class-3F">abstract_class?</a>,
              </li>
            
              
              <li>
                <a href="#method-c-attr_accessible">attr_accessible</a>,
              </li>
            
              
              <li>
                <a href="#method-c-attr_protected">attr_protected</a>,
              </li>
            
              
              <li>
                <a href="#method-i-attribute_names">attribute_names</a>,
              </li>
            
              
              <li>
                <a href="#method-i-attribute_present-3F">attribute_present?</a>,
              </li>
            
              
              <li>
                <a href="#method-i-attributes">attributes</a>,
              </li>
            
              
              <li>
                <a href="#method-i-attributes-3D">attributes=</a>,
              </li>
            
              
              <li>
                <a href="#method-i-attributes_before_type_cast">attributes_before_type_cast</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>B</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-c-base_class">base_class</a>,
              </li>
            
              
              <li>
                <a href="#method-c-benchmark">benchmark</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>C</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-c-class_of_active_record_descendant">class_of_active_record_descendant</a>,
              </li>
            
              
              <li>
                <a href="#method-c-clear_active_connections-21">clear_active_connections!</a>,
              </li>
            
              
              <li>
                <a href="#method-c-clear_reloadable_connections-21">clear_reloadable_connections!</a>,
              </li>
            
              
              <li>
                <a href="#method-i-clone">clone</a>,
              </li>
            
              
              <li>
                <a href="#method-i-column_for_attribute">column_for_attribute</a>,
              </li>
            
              
              <li>
                <a href="#method-c-column_names">column_names</a>,
              </li>
            
              
              <li>
                <a href="#method-c-columns">columns</a>,
              </li>
            
              
              <li>
                <a href="#method-c-columns_hash">columns_hash</a>,
              </li>
            
              
              <li>
                <a href="#method-c-compute_type">compute_type</a>,
              </li>
            
              
              <li>
                <a href="#method-c-connected-3F">connected?</a>,
              </li>
            
              
              <li>
                <a href="#method-c-connection">connection</a>,
              </li>
            
              
              <li>
                <a href="#method-i-connection">connection</a>,
              </li>
            
              
              <li>
                <a href="#method-c-connection-3D">connection=</a>,
              </li>
            
              
              <li>
                <a href="#method-c-connection_without_query_cache-3D">connection_without_query_cache=</a>,
              </li>
            
              
              <li>
                <a href="#method-c-content_columns">content_columns</a>,
              </li>
            
              
              <li>
                <a href="#method-c-count_by_sql">count_by_sql</a>,
              </li>
            
              
              <li>
                <a href="#method-c-create">create</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>D</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-decrement">decrement</a>,
              </li>
            
              
              <li>
                <a href="#method-i-decrement-21">decrement!</a>,
              </li>
            
              
              <li>
                <a href="#method-c-decrement_counter">decrement_counter</a>,
              </li>
            
              
              <li>
                <a href="#method-c-delete">delete</a>,
              </li>
            
              
              <li>
                <a href="#method-c-delete_all">delete_all</a>,
              </li>
            
              
              <li>
                <a href="#method-c-destroy">destroy</a>,
              </li>
            
              
              <li>
                <a href="#method-i-destroy">destroy</a>,
              </li>
            
              
              <li>
                <a href="#method-c-destroy_all">destroy_all</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>E</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-eql-3F">eql?</a>,
              </li>
            
              
              <li>
                <a href="#method-c-establish_connection">establish_connection</a>,
              </li>
            
              
              <li>
                <a href="#method-c-exists-3F">exists?</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>F</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-c-find">find</a>,
              </li>
            
              
              <li>
                <a href="#method-c-find_by_sql">find_by_sql</a>,
              </li>
            
              
              <li>
                <a href="#method-i-freeze">freeze</a>,
              </li>
            
              
              <li>
                <a href="#method-i-frozen-3F">frozen?</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>H</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-has_attribute-3F">has_attribute?</a>,
              </li>
            
              
              <li>
                <a href="#method-i-hash">hash</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>I</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-id">id</a>,
              </li>
            
              
              <li>
                <a href="#method-i-id-3D">id=</a>,
              </li>
            
              
              <li>
                <a href="#method-i-increment">increment</a>,
              </li>
            
              
              <li>
                <a href="#method-i-increment-21">increment!</a>,
              </li>
            
              
              <li>
                <a href="#method-c-increment_counter">increment_counter</a>,
              </li>
            
              
              <li>
                <a href="#method-c-inheritance_column">inheritance_column</a>,
              </li>
            
              
              <li>
                <a href="#method-c-inheritance_column-3D">inheritance_column=</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>N</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-c-new">new</a>,
              </li>
            
              
              <li>
                <a href="#method-i-new_record-3F">new_record?</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>P</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-c-primary_key">primary_key</a>,
              </li>
            
              
              <li>
                <a href="#method-c-primary_key-3D">primary_key=</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>R</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-readonly-3F">readonly?</a>,
              </li>
            
              
              <li>
                <a href="#method-i-reload">reload</a>,
              </li>
            
              
              <li>
                <a href="#method-c-remove_connection">remove_connection</a>,
              </li>
            
              
              <li>
                <a href="#method-c-require_mysql">require_mysql</a>,
              </li>
            
              
              <li>
                <a href="#method-c-reset_column_information">reset_column_information</a>,
              </li>
            
              
              <li>
                <a href="#method-i-respond_to-3F">respond_to?</a>,
              </li>
            
              
              <li>
                <a href="#method-i-respond_to_without_attributes-3F">respond_to_without_attributes?</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>S</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-c-sanitize_conditions">sanitize_conditions</a>,
              </li>
            
              
              <li>
                <a href="#method-c-sanitize_sql">sanitize_sql</a>,
              </li>
            
              
              <li>
                <a href="#method-c-sanitize_sql_array">sanitize_sql_array</a>,
              </li>
            
              
              <li>
                <a href="#method-c-sanitize_sql_hash">sanitize_sql_hash</a>,
              </li>
            
              
              <li>
                <a href="#method-i-save">save</a>,
              </li>
            
              
              <li>
                <a href="#method-i-save-21">save!</a>,
              </li>
            
              
              <li>
                <a href="#method-c-sequence_name-3D">sequence_name=</a>,
              </li>
            
              
              <li>
                <a href="#method-c-serialize">serialize</a>,
              </li>
            
              
              <li>
                <a href="#method-c-serialized_attributes">serialized_attributes</a>,
              </li>
            
              
              <li>
                <a href="#method-c-set_inheritance_column">set_inheritance_column</a>,
              </li>
            
              
              <li>
                <a href="#method-c-set_primary_key">set_primary_key</a>,
              </li>
            
              
              <li>
                <a href="#method-c-set_sequence_name">set_sequence_name</a>,
              </li>
            
              
              <li>
                <a href="#method-c-set_table_name">set_table_name</a>,
              </li>
            
              
              <li>
                <a href="#method-c-silence">silence</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>T</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-c-table_exists-3F">table_exists?</a>,
              </li>
            
              
              <li>
                <a href="#method-c-table_name">table_name</a>,
              </li>
            
              
              <li>
                <a href="#method-c-table_name-3D">table_name=</a>,
              </li>
            
              
              <li>
                <a href="#method-i-to_param">to_param</a>,
              </li>
            
              
              <li>
                <a href="#method-i-toggle">toggle</a>,
              </li>
            
              
              <li>
                <a href="#method-i-toggle-21">toggle!</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>U</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-c-update">update</a>,
              </li>
            
              
              <li>
                <a href="#method-c-update_all">update_all</a>,
              </li>
            
              
              <li>
                <a href="#method-i-update_attribute">update_attribute</a>,
              </li>
            
              
              <li>
                <a href="#method-i-update_attributes">update_attributes</a>,
              </li>
            
              
              <li>
                <a href="#method-i-update_attributes-21">update_attributes!</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>W</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-c-with_exclusive_scope">with_exclusive_scope</a>,
              </li>
            
              
              <li>
                <a href="#method-c-with_scope">with_scope</a>
              </li>
            
          </ul>
        </dd>
      
    </dl>
  

  



  

    

    

    
      <!-- Section constants -->
      <div class="sectiontitle">Constants</div>
      <table border='0' cellpadding='5'>
        
          <tr valign='top'>
            <td class="attr-name">VALID_FIND_OPTIONS</td>
            <td>=</td>
            <td class="attr-value">[ :conditions, :include, :joins, :limit, :offset,
:order, :select, :readonly, :group, :from, :lock ]</td>
          </tr>
          
            <tr valign='top'>
              <td>&nbsp;</td>
              <td colspan="2" class="attr-desc"></td>
            </tr>
          
        
      </table>
    


    
      <!-- Section attributes -->
      <div class="sectiontitle">Attributes</div>
      <table border='0' cellpadding='5'>
        
          <tr valign='top'>
            <td class='attr-rw'>
              [RW]
            </td>
            <td class='attr-name'>abstract_class</td>
            <td class='attr-desc'><p>Set this to true if this is an abstract class (see abstract_class?).</p></td>
          </tr>
        
          <tr valign='top'>
            <td class='attr-rw'>
              [RW]
            </td>
            <td class='attr-name'>pluralize_table_names</td>
            <td class='attr-desc'></td>
          </tr>
        
      </table>
    


    <!-- Methods -->
    
      <div class="sectiontitle">Class Public methods</div>
      
        <div class="method">
          <div class="title method-title" id="method-c-3D-3D-3D">
            
              <a name="method-c-3D-3D-3D"></a><b>===</b>(object)
            
          </div>
          
          
            <div class="description">
              <p>Overwrite the default class equality method to provide support for
association proxies.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-3D-3D-3D_source')" id="l_method-c-3D-3D-3D_source">show</a>
                
              </p>
              <div id="method-c-3D-3D-3D_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/lib/active_record/base.rb, line 958</span>
<span class="ruby-keyword">def</span> <span class="ruby-operator">===</span>(<span class="ruby-keyword ruby-title">object</span>)
  <span class="ruby-identifier">object</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-keyword">self</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-abstract_class-3F">
            
              <a name="method-c-abstract_class-3F"></a><b>abstract_class?</b>()
            
          </div>
          
          
            <div class="description">
              <p>Returns whether this class is a base AR class.  If <a
href="../A.html">A</a> is a base class and <a href="../B.html">B</a>
descends from <a href="../A.html">A</a>, then B.base_class will return <a
href="../B.html">B</a>.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-abstract_class-3F_source')" id="l_method-c-abstract_class-3F_source">show</a>
                
              </p>
              <div id="method-c-abstract_class-3F_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/lib/active_record/base.rb, line 984</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">abstract_class?</span>
  <span class="ruby-identifier">abstract_class</span> <span class="ruby-operator">==</span> <span class="ruby-keyword">true</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-attr_accessible">
            
              <a name="method-c-attr_accessible"></a><b>attr_accessible</b>(*attributes)
            
          </div>
          
          
            <div class="description">
              <p>If this macro is used, only those attributes named in it will be accessible
for mass-assignment, such as <code>new(attributes)</code> and
<code>attributes=(attributes)</code>. This is the more conservative choice
for mass-assignment protection. If you’d rather start from an all-open
default and restrict attributes as needed, have a look at attr_protected.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-attr_accessible_source')" id="l_method-c-attr_accessible_source">show</a>
                
              </p>
              <div id="method-c-attr_accessible_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/lib/active_record/base.rb, line 566</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">attr_accessible</span>(*<span class="ruby-identifier">attributes</span>)
  <span class="ruby-identifier">write_inheritable_array</span>(<span class="ruby-string">&quot;attr_accessible&quot;</span>, <span class="ruby-identifier">attributes</span> <span class="ruby-operator">-</span> (<span class="ruby-identifier">accessible_attributes</span> <span class="ruby-operator">||</span> []))
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-attr_protected">
            
              <a name="method-c-attr_protected"></a><b>attr_protected</b>(*attributes)
            
          </div>
          
          
            <div class="description">
              <p>Attributes named in this macro are protected from mass-assignment, such as
<code>new(attributes)</code> and <code>attributes=(attributes)</code>.
Their assignment will simply be ignored. Instead, you can use the direct
writer methods to do assignment. This is meant to protect sensitive
attributes from being overwritten by URL/form hackers. Example:</p>

<pre class="ruby"><span class="ruby-keyword">class</span> <span class="ruby-constant">Customer</span> <span class="ruby-operator">&lt;</span> <span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>
  <span class="ruby-identifier">attr_protected</span> :<span class="ruby-identifier">credit_rating</span>
<span class="ruby-keyword">end</span>

<span class="ruby-identifier">customer</span> = <span class="ruby-constant">Customer</span>.<span class="ruby-identifier">new</span>(<span class="ruby-string">&quot;name&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">David</span>, <span class="ruby-string">&quot;credit_rating&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;Excellent&quot;</span>)
<span class="ruby-identifier">customer</span>.<span class="ruby-identifier">credit_rating</span> <span class="ruby-comment"># =&gt; nil</span>
<span class="ruby-identifier">customer</span>.<span class="ruby-identifier">attributes</span> = { <span class="ruby-string">&quot;description&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;Jolly fellow&quot;</span>, <span class="ruby-string">&quot;credit_rating&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;Superb&quot;</span> }
<span class="ruby-identifier">customer</span>.<span class="ruby-identifier">credit_rating</span> <span class="ruby-comment"># =&gt; nil</span>

<span class="ruby-identifier">customer</span>.<span class="ruby-identifier">credit_rating</span> = <span class="ruby-string">&quot;Average&quot;</span>
<span class="ruby-identifier">customer</span>.<span class="ruby-identifier">credit_rating</span> <span class="ruby-comment"># =&gt; &quot;Average&quot;</span>
</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-attr_protected_source')" id="l_method-c-attr_protected_source">show</a>
                
              </p>
              <div id="method-c-attr_protected_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/lib/active_record/base.rb, line 553</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">attr_protected</span>(*<span class="ruby-identifier">attributes</span>)
  <span class="ruby-identifier">write_inheritable_array</span>(<span class="ruby-string">&quot;attr_protected&quot;</span>, <span class="ruby-identifier">attributes</span> <span class="ruby-operator">-</span> (<span class="ruby-identifier">protected_attributes</span> <span class="ruby-operator">||</span> []))
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-base_class">
            
              <a name="method-c-base_class"></a><b>base_class</b>()
            
          </div>
          
          
            <div class="description">
              <p>Returns the base AR subclass that this class descends from. If <a
href="../A.html">A</a> extends AR::Base, A.base_class will return <a
href="../A.html">A</a>. If <a href="../B.html">B</a> descends from <a
href="../A.html">A</a> through some arbitrarily deep hierarchy,
B.base_class will return <a href="../A.html">A</a>.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-base_class_source')" id="l_method-c-base_class_source">show</a>
                
              </p>
              <div id="method-c-base_class_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/lib/active_record/base.rb, line 975</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">base_class</span>
  <span class="ruby-identifier">class_of_active_record_descendant</span>(<span class="ruby-keyword">self</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-benchmark">
            
              <a name="method-c-benchmark"></a><b>benchmark</b>(title, log_level = Logger::DEBUG, use_silence = true)
            
          </div>
          
          
            <div class="description">
              <p>Log and benchmark multiple statements in a single block. Example:</p>

<pre class="ruby"><span class="ruby-constant">Project</span>.<span class="ruby-identifier">benchmark</span>(<span class="ruby-string">&quot;Creating project&quot;</span>) <span class="ruby-keyword">do</span>
  <span class="ruby-identifier">project</span> = <span class="ruby-constant">Project</span>.<span class="ruby-identifier">create</span>(<span class="ruby-string">&quot;name&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;stuff&quot;</span>)
  <span class="ruby-identifier">project</span>.<span class="ruby-identifier">create_manager</span>(<span class="ruby-string">&quot;name&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;David&quot;</span>)
  <span class="ruby-identifier">project</span>.<span class="ruby-identifier">milestones</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">Milestone</span>.<span class="ruby-identifier">find</span>(:<span class="ruby-identifier">all</span>)
<span class="ruby-keyword">end</span>
</pre>

<p>The benchmark is only recorded if the current level of the logger matches
the <code>log_level</code>, which makes it easy to include benchmarking
statements in production software that will remain inexpensive because the
benchmark will only be conducted if the log level is low enough.</p>

<p>The logging of the multiple statements is turned off unless
<code>use_silence</code> is set to false.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-benchmark_source')" id="l_method-c-benchmark_source">show</a>
                
              </p>
              <div id="method-c-benchmark_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/lib/active_record/base.rb, line 853</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">benchmark</span>(<span class="ruby-identifier">title</span>, <span class="ruby-identifier">log_level</span> = <span class="ruby-constant">Logger</span><span class="ruby-operator">::</span><span class="ruby-constant">DEBUG</span>, <span class="ruby-identifier">use_silence</span> = <span class="ruby-keyword">true</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">logger</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">logger</span>.<span class="ruby-identifier">level</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">log_level</span>
    <span class="ruby-identifier">result</span> = <span class="ruby-keyword">nil</span>
    <span class="ruby-identifier">seconds</span> = <span class="ruby-constant">Benchmark</span>.<span class="ruby-identifier">realtime</span> { <span class="ruby-identifier">result</span> = <span class="ruby-identifier">use_silence</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">silence</span> { <span class="ruby-keyword">yield</span> } <span class="ruby-operator">:</span> <span class="ruby-keyword">yield</span> }
    <span class="ruby-identifier">logger</span>.<span class="ruby-identifier">add</span>(<span class="ruby-identifier">log_level</span>, <span class="ruby-node">&quot;#{title} (#{'%.5f' % seconds})&quot;</span>)
    <span class="ruby-identifier">result</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-keyword">yield</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-clear_active_connections-21">
            
              <a name="method-c-clear_active_connections-21"></a><b>clear_active_connections!</b>()
            
          </div>
          
          
            <div class="description">
              <p>Clears the cache which maps classes to connections.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-clear_active_connections-21_source')" id="l_method-c-clear_active_connections-21_source">show</a>
                
              </p>
              <div id="method-c-clear_active_connections-21_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/lib/active_record/connection_adapters/abstract/connection_specification.rb, line 84</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">clear_active_connections!</span>
  <span class="ruby-identifier">clear_cache!</span>(<span class="ruby-identifier">@@active_connections</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">name</span>, <span class="ruby-identifier">conn</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">conn</span>.<span class="ruby-identifier">disconnect!</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-clear_reloadable_connections-21">
            
              <a name="method-c-clear_reloadable_connections-21"></a><b>clear_reloadable_connections!</b>()
            
          </div>
          
          
            <div class="description">
              <p>Clears the cache which maps classes</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-clear_reloadable_connections-21_source')" id="l_method-c-clear_reloadable_connections-21_source">show</a>
                
              </p>
              <div id="method-c-clear_reloadable_connections-21_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/lib/active_record/connection_adapters/abstract/connection_specification.rb, line 91</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">clear_reloadable_connections!</span>
  <span class="ruby-identifier">@@active_connections</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">name</span>, <span class="ruby-identifier">conn</span><span class="ruby-operator">|</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">conn</span>.<span class="ruby-identifier">requires_reloading?</span>
      <span class="ruby-identifier">conn</span>.<span class="ruby-identifier">disconnect!</span>
      <span class="ruby-identifier">@@active_connections</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-identifier">name</span>)
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-column_names">
            
              <a name="method-c-column_names"></a><b>column_names</b>()
            
          </div>
          
          
            <div class="description">
              <p>Returns an array of column names as strings.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-column_names_source')" id="l_method-c-column_names_source">show</a>
                
              </p>
              <div id="method-c-column_names_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/lib/active_record/base.rb, line 775</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">column_names</span>
  <span class="ruby-ivar">@column_names</span> <span class="ruby-operator">||=</span> <span class="ruby-identifier">columns</span>.<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">column</span><span class="ruby-operator">|</span> <span class="ruby-identifier">column</span>.<span class="ruby-identifier">name</span> }
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-columns">
            
              <a name="method-c-columns"></a><b>columns</b>()
            
          </div>
          
          
            <div class="description">
              <p>Returns an array of column objects for the table associated with this
class.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-columns_source')" id="l_method-c-columns_source">show</a>
                
              </p>
              <div id="method-c-columns_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/lib/active_record/base.rb, line 761</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">columns</span>
  <span class="ruby-keyword">unless</span> <span class="ruby-ivar">@columns</span>
    <span class="ruby-ivar">@columns</span> = <span class="ruby-identifier">connection</span>.<span class="ruby-identifier">columns</span>(<span class="ruby-identifier">table_name</span>, <span class="ruby-node">&quot;#{name} Columns&quot;</span>)
    <span class="ruby-ivar">@columns</span>.<span class="ruby-identifier">each</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">column</span><span class="ruby-operator">|</span> <span class="ruby-identifier">column</span>.<span class="ruby-identifier">primary</span> = <span class="ruby-identifier">column</span>.<span class="ruby-identifier">name</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">primary_key</span>}
  <span class="ruby-keyword">end</span>
  <span class="ruby-ivar">@columns</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-columns_hash">
            
              <a name="method-c-columns_hash"></a><b>columns_hash</b>()
            
          </div>
          
          
            <div class="description">
              <p>Returns a hash of column objects for the table associated with this class.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-columns_hash_source')" id="l_method-c-columns_hash_source">show</a>
                
              </p>
              <div id="method-c-columns_hash_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/lib/active_record/base.rb, line 770</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">columns_hash</span>
  <span class="ruby-ivar">@columns_hash</span> <span class="ruby-operator">||=</span> <span class="ruby-identifier">columns</span>.<span class="ruby-identifier">inject</span>({}) { <span class="ruby-operator">|</span><span class="ruby-identifier">hash</span>, <span class="ruby-identifier">column</span><span class="ruby-operator">|</span> <span class="ruby-identifier">hash</span>[<span class="ruby-identifier">column</span>.<span class="ruby-identifier">name</span>] = <span class="ruby-identifier">column</span>; <span class="ruby-identifier">hash</span> }
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-connected-3F">
            
              <a name="method-c-connected-3F"></a><b>connected?</b>()
            
          </div>
          
          
            <div class="description">
              <p>Returns true if a connection that’s accessible to this class have already
been opened.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-connected-3F_source')" id="l_method-c-connected-3F_source">show</a>
                
              </p>
              <div id="method-c-connected-3F_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/lib/active_record/connection_adapters/abstract/connection_specification.rb, line 239</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">self</span>.<span class="ruby-identifier">connected?</span>
  <span class="ruby-identifier">active_connections</span>[<span class="ruby-identifier">active_connection_name</span>] <span class="ruby-operator">?</span> <span class="ruby-keyword">true</span> <span class="ruby-operator">:</span> <span class="ruby-keyword">false</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-connection">
            
              <a name="method-c-connection"></a><b>connection</b>()
            
          </div>
          
          
            <div class="description">
              <p>Returns the connection currently associated with the class. This can also
be used to “borrow” the connection to do database work unrelated to any of
the specific Active Records.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-connection_source')" id="l_method-c-connection_source">show</a>
                
              </p>
              <div id="method-c-connection_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/lib/active_record/connection_adapters/abstract/connection_specification.rb, line 73</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">connection</span>
  <span class="ruby-keyword">if</span> <span class="ruby-ivar">@active_connection_name</span> <span class="ruby-operator">&amp;&amp;</span> (<span class="ruby-identifier">conn</span> = <span class="ruby-identifier">active_connections</span>[<span class="ruby-ivar">@active_connection_name</span>])
    <span class="ruby-identifier">conn</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-comment"># retrieve_connection sets the cache key.</span>
    <span class="ruby-identifier">conn</span> = <span class="ruby-identifier">retrieve_connection</span>
    <span class="ruby-identifier">active_connections</span>[<span class="ruby-ivar">@active_connection_name</span>] = <span class="ruby-identifier">conn</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-connection-3D">
            
              <a name="method-c-connection-3D"></a><b>connection=</b>(spec)
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
            <div class="aka">
              Also aliased as: <a href="Base.html#method-c-connection_without_query_cache-3D">connection_without_query_cache=</a>
            </div>
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-connection-3D_source')" id="l_method-c-connection-3D_source">show</a>
                
              </p>
              <div id="method-c-connection-3D_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/lib/active_record/query_cache.rb, line 50</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">connection=</span>(<span class="ruby-identifier">spec</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">spec</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">ConnectionSpecification</span>) <span class="ruby-keyword">and</span> <span class="ruby-identifier">spec</span>.<span class="ruby-identifier">config</span>[<span class="ruby-value">:query_cache</span>]
    <span class="ruby-identifier">spec</span> = <span class="ruby-constant">QueryCache</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword">self</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">spec</span>.<span class="ruby-identifier">adapter_method</span>, <span class="ruby-identifier">spec</span>.<span class="ruby-identifier">config</span>))
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">connection_without_query_cache</span> = <span class="ruby-identifier">spec</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-connection_without_query_cache-3D">
            
              <a name="method-c-connection_without_query_cache-3D"></a><b>connection_without_query_cache=</b>(spec)
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-content_columns">
            
              <a name="method-c-content_columns"></a><b>content_columns</b>()
            
          </div>
          
          
            <div class="description">
              <p>Returns an array of column objects where the primary id, all columns ending
in “_id” or “_count”, and columns used for single table inheritance have
been removed.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-content_columns_source')" id="l_method-c-content_columns_source">show</a>
                
              </p>
              <div id="method-c-content_columns_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/lib/active_record/base.rb, line 781</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">content_columns</span>
  <span class="ruby-ivar">@content_columns</span> <span class="ruby-operator">||=</span> <span class="ruby-identifier">columns</span>.<span class="ruby-identifier">reject</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">c</span><span class="ruby-operator">|</span> <span class="ruby-identifier">c</span>.<span class="ruby-identifier">primary</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">c</span>.<span class="ruby-identifier">name</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp">%r(_id|_count)$/</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">c</span>.<span class="ruby-identifier">name</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">inheritance_column</span> }
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-count_by_sql">
            
              <a name="method-c-count_by_sql"></a><b>count_by_sql</b>(sql)
            
          </div>
          
          
            <div class="description">
              <p>Returns the result of an SQL statement that should only include a COUNT(*)
in the SELECT part.</p>

<pre>Product.count_by_sql &quot;SELECT COUNT(*) FROM sales s, customers c WHERE s.customer_id = c.id&quot;</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-count_by_sql_source')" id="l_method-c-count_by_sql_source">show</a>
                
              </p>
              <div id="method-c-count_by_sql_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/lib/active_record/base.rb, line 518</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">count_by_sql</span>(<span class="ruby-identifier">sql</span>)
  <span class="ruby-identifier">sql</span> = <span class="ruby-identifier">sanitize_conditions</span>(<span class="ruby-identifier">sql</span>)
  <span class="ruby-identifier">connection</span>.<span class="ruby-identifier">select_value</span>(<span class="ruby-identifier">sql</span>, <span class="ruby-node">&quot;#{name} Count&quot;</span>).<span class="ruby-identifier">to_i</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-create">
            
              <a name="method-c-create"></a><b>create</b>(attributes = nil)
            
          </div>
          
          
            <div class="description">
              <p>Creates an object, instantly saves it as a record (if the validation
permits it), and returns it. If the save fails under validations, the
unsaved object is still returned.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-create_source')" id="l_method-c-create_source">show</a>
                
              </p>
              <div id="method-c-create_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/lib/active_record/base.rb, line 445</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">create</span>(<span class="ruby-identifier">attributes</span> = <span class="ruby-keyword">nil</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">attributes</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Array</span>)
    <span class="ruby-identifier">attributes</span>.<span class="ruby-identifier">collect</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">attr</span><span class="ruby-operator">|</span> <span class="ruby-identifier">create</span>(<span class="ruby-identifier">attr</span>) }
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">object</span> = <span class="ruby-identifier">new</span>(<span class="ruby-identifier">attributes</span>)
    <span class="ruby-identifier">scope</span>(<span class="ruby-value">:create</span>).<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">att</span>,<span class="ruby-identifier">value</span><span class="ruby-operator">|</span> <span class="ruby-identifier">object</span>.<span class="ruby-identifier">send</span>(<span class="ruby-node">&quot;#{att}=&quot;</span>, <span class="ruby-identifier">value</span>) } <span class="ruby-keyword">if</span> <span class="ruby-identifier">scoped?</span>(<span class="ruby-value">:create</span>)
    <span class="ruby-identifier">object</span>.<span class="ruby-identifier">save</span>
    <span class="ruby-identifier">object</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-decrement_counter">
            
              <a name="method-c-decrement_counter"></a><b>decrement_counter</b>(counter_name, id)
            
          </div>
          
          
            <div class="description">
              <p>Works like <a
href="Base.html#method-c-increment_counter">::increment_counter</a>, but
decrements instead.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-decrement_counter_source')" id="l_method-c-decrement_counter_source">show</a>
                
              </p>
              <div id="method-c-decrement_counter_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/lib/active_record/base.rb, line 533</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">decrement_counter</span>(<span class="ruby-identifier">counter_name</span>, <span class="ruby-identifier">id</span>)
  <span class="ruby-identifier">update_all</span> <span class="ruby-node">&quot;#{connection.quote_column_name(counter_name)} = #{connection.quote_column_name(counter_name)} - 1&quot;</span>, <span class="ruby-node">&quot;#{connection.quote_column_name(primary_key)} = #{quote_value(id)}&quot;</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-delete">
            
              <a name="method-c-delete"></a><b>delete</b>(id)
            
          </div>
          
          
            <div class="description">
              <p>Deletes the record with the given <code>id</code> without instantiating an
object first. If an array of ids is provided, all of them are deleted.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-delete_source')" id="l_method-c-delete_source">show</a>
                
              </p>
              <div id="method-c-delete_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/lib/active_record/base.rb, line 481</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">delete</span>(<span class="ruby-identifier">id</span>)
  <span class="ruby-identifier">delete_all</span>([ <span class="ruby-node">&quot;#{connection.quote_column_name(primary_key)} IN (?)&quot;</span>, <span class="ruby-identifier">id</span> ])
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-delete_all">
            
              <a name="method-c-delete_all"></a><b>delete_all</b>(conditions = nil)
            
          </div>
          
          
            <div class="description">
              <p>Deletes all the records that match the <code>condition</code> without
instantiating the objects first (and hence not calling the destroy method).
Example:</p>

<pre>Post.delete_all &quot;person_id = 5 AND (category = 'Something' OR category = 'Else')&quot;</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-delete_all_source')" id="l_method-c-delete_all_source">show</a>
                
              </p>
              <div id="method-c-delete_all_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/lib/active_record/base.rb, line 510</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">delete_all</span>(<span class="ruby-identifier">conditions</span> = <span class="ruby-keyword">nil</span>)
  <span class="ruby-identifier">sql</span> = <span class="ruby-node">&quot;DELETE FROM #{table_name} &quot;</span>
  <span class="ruby-identifier">add_conditions!</span>(<span class="ruby-identifier">sql</span>, <span class="ruby-identifier">conditions</span>, <span class="ruby-identifier">scope</span>(<span class="ruby-value">:find</span>))
  <span class="ruby-identifier">connection</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-identifier">sql</span>, <span class="ruby-node">&quot;#{name} Delete all&quot;</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-destroy">
            
              <a name="method-c-destroy"></a><b>destroy</b>(id)
            
          </div>
          
          
            <div class="description">
              <p>Destroys the record with the given <code>id</code> by instantiating the
object and calling <a href="Base.html#method-i-destroy">destroy</a> (all
the callbacks are the triggered). If an array of ids is provided, all of
them are destroyed.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-destroy_source')" id="l_method-c-destroy_source">show</a>
                
              </p>
              <div id="method-c-destroy_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/lib/active_record/base.rb, line 487</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">destroy</span>(<span class="ruby-identifier">id</span>)
  <span class="ruby-identifier">id</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Array</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">id</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">id</span><span class="ruby-operator">|</span> <span class="ruby-identifier">destroy</span>(<span class="ruby-identifier">id</span>) } <span class="ruby-operator">:</span> <span class="ruby-identifier">find</span>(<span class="ruby-identifier">id</span>).<span class="ruby-identifier">destroy</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-destroy_all">
            
              <a name="method-c-destroy_all"></a><b>destroy_all</b>(conditions = nil)
            
          </div>
          
          
            <div class="description">
              <p>Destroys the objects for all the records that match the
<code>condition</code> by instantiating each object and calling the destroy
method. Example:</p>

<pre>Person.destroy_all &quot;last_login &lt; '2004-04-04'&quot;</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-destroy_all_source')" id="l_method-c-destroy_all_source">show</a>
                
              </p>
              <div id="method-c-destroy_all_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/lib/active_record/base.rb, line 503</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">destroy_all</span>(<span class="ruby-identifier">conditions</span> = <span class="ruby-keyword">nil</span>)
  <span class="ruby-identifier">find</span>(<span class="ruby-value">:all</span>, <span class="ruby-value">:conditions</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">conditions</span>).<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">object</span><span class="ruby-operator">|</span> <span class="ruby-identifier">object</span>.<span class="ruby-identifier">destroy</span> }
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-establish_connection">
            
              <a name="method-c-establish_connection"></a><b>establish_connection</b>(spec = nil)
            
          </div>
          
          
            <div class="description">
              <p>Establishes the connection to the database. Accepts a hash as input where
the :adapter key must be specified with the name of a database adapter (in
lower-case) example for regular databases (MySQL, Postgresql, etc):</p>

<pre class="ruby"><span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>.<span class="ruby-identifier">establish_connection</span>(
  :<span class="ruby-identifier">adapter</span>  =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;mysql&quot;</span>,
  :<span class="ruby-identifier">host</span>     =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;localhost&quot;</span>,
  :<span class="ruby-identifier">username</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;myuser&quot;</span>,
  :<span class="ruby-identifier">password</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;mypass&quot;</span>,
  :<span class="ruby-identifier">database</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;somedatabase&quot;</span>
)
</pre>

<p>Example for SQLite database:</p>

<pre class="ruby"><span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>.<span class="ruby-identifier">establish_connection</span>(
  :<span class="ruby-identifier">adapter</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;sqlite&quot;</span>,
  :<span class="ruby-identifier">database</span>  =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;path/to/dbfile&quot;</span>
)
</pre>

<p>Also accepts keys as strings (for parsing from yaml for example):</p>

<pre class="ruby"><span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>.<span class="ruby-identifier">establish_connection</span>(
  <span class="ruby-string">&quot;adapter&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;sqlite&quot;</span>,
  <span class="ruby-string">&quot;database&quot;</span>  =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;path/to/dbfile&quot;</span>
)
</pre>

<p>The exceptions AdapterNotSpecified, AdapterNotFound and ArgumentError may
be returned on an error.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-establish_connection_source')" id="l_method-c-establish_connection_source">show</a>
                
              </p>
              <div id="method-c-establish_connection_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/lib/active_record/connection_adapters/abstract/connection_specification.rb, line 191</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">self</span>.<span class="ruby-identifier">establish_connection</span>(<span class="ruby-identifier">spec</span> = <span class="ruby-keyword">nil</span>)
  <span class="ruby-keyword">case</span> <span class="ruby-identifier">spec</span>
    <span class="ruby-keyword">when</span> <span class="ruby-keyword">nil</span>
      <span class="ruby-identifier">raise</span> <span class="ruby-constant">AdapterNotSpecified</span> <span class="ruby-keyword">unless</span> <span class="ruby-keyword">defined?</span> <span class="ruby-constant">RAILS_ENV</span>
      <span class="ruby-identifier">establish_connection</span>(<span class="ruby-constant">RAILS_ENV</span>)
    <span class="ruby-keyword">when</span> <span class="ruby-constant">ConnectionSpecification</span>
      <span class="ruby-identifier">clear_active_connection_name</span>
      <span class="ruby-ivar">@active_connection_name</span> = <span class="ruby-identifier">name</span>
      <span class="ruby-identifier">@@defined_connections</span>[<span class="ruby-identifier">name</span>] = <span class="ruby-identifier">spec</span>
    <span class="ruby-keyword">when</span> <span class="ruby-constant">Symbol</span>, <span class="ruby-constant">String</span>
      <span class="ruby-keyword">if</span> <span class="ruby-identifier">configuration</span> = <span class="ruby-identifier">configurations</span>[<span class="ruby-identifier">spec</span>.<span class="ruby-identifier">to_s</span>]
        <span class="ruby-identifier">establish_connection</span>(<span class="ruby-identifier">configuration</span>)
      <span class="ruby-keyword">else</span>
        <span class="ruby-identifier">raise</span> <span class="ruby-constant">AdapterNotSpecified</span>, <span class="ruby-node">&quot;#{spec} database is not configured&quot;</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">spec</span> = <span class="ruby-identifier">spec</span>.<span class="ruby-identifier">symbolize_keys</span>
      <span class="ruby-keyword">unless</span> <span class="ruby-identifier">spec</span>.<span class="ruby-identifier">key?</span>(<span class="ruby-value">:adapter</span>) <span class="ruby-keyword">then</span> <span class="ruby-identifier">raise</span> <span class="ruby-constant">AdapterNotSpecified</span>, <span class="ruby-string">&quot;database configuration does not specify adapter&quot;</span> <span class="ruby-keyword">end</span>
      <span class="ruby-identifier">adapter_method</span> = <span class="ruby-node">&quot;#{spec[:adapter]}_connection&quot;</span>
      <span class="ruby-keyword">unless</span> <span class="ruby-identifier">respond_to?</span>(<span class="ruby-identifier">adapter_method</span>) <span class="ruby-keyword">then</span> <span class="ruby-identifier">raise</span> <span class="ruby-constant">AdapterNotFound</span>, <span class="ruby-node">&quot;database configuration specifies nonexistent #{spec[:adapter]} adapter&quot;</span> <span class="ruby-keyword">end</span>
      <span class="ruby-identifier">remove_connection</span>
      <span class="ruby-identifier">establish_connection</span>(<span class="ruby-constant">ConnectionSpecification</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">spec</span>, <span class="ruby-identifier">adapter_method</span>))
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-exists-3F">
            
              <a name="method-c-exists-3F"></a><b>exists?</b>(id_or_conditions)
            
          </div>
          
          
            <div class="description">
              <p>Returns true if the given <code>id</code> represents the primary key of a
record in the database, false otherwise. You can also pass a set of SQL
conditions.  Example:</p>

<pre class="ruby"><span class="ruby-constant">Person</span>.<span class="ruby-identifier">exists?</span>(<span class="ruby-value">5</span>)
<span class="ruby-constant">Person</span>.<span class="ruby-identifier">exists?</span>(<span class="ruby-string">'5'</span>)
<span class="ruby-constant">Person</span>.<span class="ruby-identifier">exists?</span>(:<span class="ruby-identifier">name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;David&quot;</span>)
<span class="ruby-constant">Person</span>.<span class="ruby-identifier">exists?</span>([<span class="ruby-string">'name LIKE ?'</span>, <span class="ruby-node">&quot;%#{query}%&quot;</span>])
</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-exists-3F_source')" id="l_method-c-exists-3F_source">show</a>
                
              </p>
              <div id="method-c-exists-3F_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/lib/active_record/base.rb, line 437</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">exists?</span>(<span class="ruby-identifier">id_or_conditions</span>)
  <span class="ruby-operator">!</span><span class="ruby-identifier">find</span>(<span class="ruby-value">:first</span>, <span class="ruby-value">:conditions</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">expand_id_conditions</span>(<span class="ruby-identifier">id_or_conditions</span>)).<span class="ruby-identifier">nil?</span>
<span class="ruby-keyword">rescue</span> <span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">ActiveRecordError</span>
  <span class="ruby-keyword">false</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-find">
            
              <a name="method-c-find"></a><b>find</b>(*args)
            
          </div>
          
          
            <div class="description">
              <p>Find operates with three different retrieval approaches:</p>
<ul><li>
<p>Find by id: This can either be a specific id (1), a list of ids (1, 5, 6),
or an array of ids ([5, 6, 10]). If no record can be found for all of the
listed ids, then RecordNotFound will be raised.</p>
</li><li>
<p>Find first: This will return the first record matched by the options used.
These options can either be specific conditions or merely an order. If no
record can matched, nil is returned.</p>
</li><li>
<p>Find all: This will return all the records matched by the options used. If
no records are found, an empty array is returned.</p>
</li></ul>

<p>All approaches accept an option hash as their last parameter. The options
are:</p>
<ul><li>
<p><code>:conditions</code>: An SQL fragment like "administrator = 1" or [
"user_name = ?", username ]. See conditions in the intro.</p>
</li><li>
<p><code>:order</code>: An SQL fragment like "created_at DESC, name".</p>
</li><li>
<p><code>:group</code>: An attribute name by which the result should be
grouped. Uses the GROUP BY SQL-clause.</p>
</li><li>
<p><code>:limit</code>: An integer determining the limit on the number of rows
that should be returned.</p>
</li><li>
<p><code>:offset</code>: An integer determining the offset from where the rows
should be fetched. So at 5, it would skip the first 4 rows.</p>
</li><li>
<p><code>:joins</code>: An SQL fragment for additional joins like "LEFT JOIN
comments ON comments.post_id = id". (Rarely needed). The records will be
returned read-only since they will have attributes that do not correspond
to the table's columns. Pass :readonly =&gt; false to override.</p>
</li><li>
<p><code>:include</code>: Names associations that should be loaded alongside
using LEFT OUTER JOINs. The symbols named refer to already defined
associations. See eager loading under <a
href="Associations.html">Associations</a>.</p>
</li><li>
<p><code>:select</code>: By default, this is * as in SELECT * FROM, but can be
changed if you for example want to do a join, but not include the joined
columns.</p>
</li><li>
<p><code>:from</code>: By default, this is the table name of the class, but
can be changed to an alternate table name (or even the name of a database
view).</p>
</li><li>
<p><code>:readonly</code>: Mark the returned records read-only so they cannot
be saved or updated.</p>
</li><li>
<p><code>:lock</code>: An SQL fragment like "FOR UPDATE" or "LOCK IN SHARE
MODE". :lock =&gt; true gives connection's default exclusive lock, usually
"FOR UPDATE".</p>
</li></ul>

<p>Examples for find by id:</p>

<pre class="ruby"><span class="ruby-constant">Person</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">1</span>)       <span class="ruby-comment"># returns the object for ID = 1</span>
<span class="ruby-constant">Person</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">1</span>, <span class="ruby-value">2</span>, <span class="ruby-value">6</span>) <span class="ruby-comment"># returns an array for objects with IDs in (1, 2, 6)</span>
<span class="ruby-constant">Person</span>.<span class="ruby-identifier">find</span>([<span class="ruby-value">7</span>, <span class="ruby-value">17</span>]) <span class="ruby-comment"># returns an array for objects with IDs in (7, 17)</span>
<span class="ruby-constant">Person</span>.<span class="ruby-identifier">find</span>([<span class="ruby-value">1</span>])     <span class="ruby-comment"># returns an array for objects the object with ID = 1</span>
<span class="ruby-constant">Person</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">1</span>, :<span class="ruby-identifier">conditions</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;administrator = 1&quot;</span>, :<span class="ruby-identifier">order</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;created_on DESC&quot;</span>)
</pre>

<p>Examples for find first:</p>

<pre class="ruby"><span class="ruby-constant">Person</span>.<span class="ruby-identifier">find</span>(:<span class="ruby-identifier">first</span>) <span class="ruby-comment"># returns the first object fetched by SELECT * FROM people</span>
<span class="ruby-constant">Person</span>.<span class="ruby-identifier">find</span>(:<span class="ruby-identifier">first</span>, :<span class="ruby-identifier">conditions</span> =<span class="ruby-operator">&gt;</span> [ <span class="ruby-string">&quot;user_name = ?&quot;</span>, <span class="ruby-identifier">user_name</span>])
<span class="ruby-constant">Person</span>.<span class="ruby-identifier">find</span>(:<span class="ruby-identifier">first</span>, :<span class="ruby-identifier">order</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;created_on DESC&quot;</span>, :<span class="ruby-identifier">offset</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">5</span>)
</pre>

<p>Examples for find all:</p>

<pre class="ruby"><span class="ruby-constant">Person</span>.<span class="ruby-identifier">find</span>(:<span class="ruby-identifier">all</span>) <span class="ruby-comment"># returns an array of objects for all the rows fetched by SELECT * FROM people</span>
<span class="ruby-constant">Person</span>.<span class="ruby-identifier">find</span>(:<span class="ruby-identifier">all</span>, :<span class="ruby-identifier">conditions</span> =<span class="ruby-operator">&gt;</span> [ <span class="ruby-string">&quot;category IN (?)&quot;</span>, <span class="ruby-identifier">categories</span>], :<span class="ruby-identifier">limit</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">50</span>)
<span class="ruby-constant">Person</span>.<span class="ruby-identifier">find</span>(:<span class="ruby-identifier">all</span>, :<span class="ruby-identifier">offset</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">10</span>, :<span class="ruby-identifier">limit</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">10</span>)
<span class="ruby-constant">Person</span>.<span class="ruby-identifier">find</span>(:<span class="ruby-identifier">all</span>, :<span class="ruby-identifier">include</span> =<span class="ruby-operator">&gt;</span> [ :<span class="ruby-identifier">account</span>, :<span class="ruby-identifier">friends</span> ])
<span class="ruby-constant">Person</span>.<span class="ruby-identifier">find</span>(:<span class="ruby-identifier">all</span>, :<span class="ruby-identifier">group</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;category&quot;</span>)
</pre>

<p>Example for find with a lock. Imagine two concurrent transactions: each
will read person.visits == 2, add 1 to it, and save, resulting in two saves
of person.visits = 3.  By locking the row, the second transaction has to
wait until the first is finished; we get the expected person.visits == 4.</p>

<pre class="ruby"><span class="ruby-constant">Person</span>.<span class="ruby-identifier">transaction</span> <span class="ruby-keyword">do</span>
  <span class="ruby-identifier">person</span> = <span class="ruby-constant">Person</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">1</span>, :<span class="ruby-identifier">lock</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>)
  <span class="ruby-identifier">person</span>.<span class="ruby-identifier">visits</span> <span class="ruby-operator">+=</span> <span class="ruby-value">1</span>
  <span class="ruby-identifier">person</span>.<span class="ruby-identifier">save!</span>
<span class="ruby-keyword">end</span>
</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-find_source')" id="l_method-c-find_source">show</a>
                
              </p>
              <div id="method-c-find_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/lib/active_record/base.rb, line 411</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">find</span>(*<span class="ruby-identifier">args</span>)
  <span class="ruby-identifier">options</span> = <span class="ruby-identifier">extract_options_from_args!</span>(<span class="ruby-identifier">args</span>)
  <span class="ruby-identifier">validate_find_options</span>(<span class="ruby-identifier">options</span>)
  <span class="ruby-identifier">set_readonly_option!</span>(<span class="ruby-identifier">options</span>)

  <span class="ruby-keyword">case</span> <span class="ruby-identifier">args</span>.<span class="ruby-identifier">first</span>
    <span class="ruby-keyword">when</span> <span class="ruby-value">:first</span> <span class="ruby-keyword">then</span> <span class="ruby-identifier">find_initial</span>(<span class="ruby-identifier">options</span>)
    <span class="ruby-keyword">when</span> <span class="ruby-value">:all</span>   <span class="ruby-keyword">then</span> <span class="ruby-identifier">find_every</span>(<span class="ruby-identifier">options</span>)
    <span class="ruby-keyword">else</span>             <span class="ruby-identifier">find_from_ids</span>(<span class="ruby-identifier">args</span>, <span class="ruby-identifier">options</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-find_by_sql">
            
              <a name="method-c-find_by_sql"></a><b>find_by_sql</b>(sql)
            
          </div>
          
          
            <div class="description">
              <p>Works like find(:all), but requires a complete SQL string. Examples:</p>

<pre>Post.find_by_sql &quot;SELECT p.*, c.author FROM posts p, comments c WHERE p.id = c.post_id&quot;
Post.find_by_sql [&quot;SELECT * FROM posts WHERE author = ? AND created &gt; ?&quot;, author_id, start_date]</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-find_by_sql_source')" id="l_method-c-find_by_sql_source">show</a>
                
              </p>
              <div id="method-c-find_by_sql_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/lib/active_record/base.rb, line 426</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">find_by_sql</span>(<span class="ruby-identifier">sql</span>)
  <span class="ruby-identifier">connection</span>.<span class="ruby-identifier">select_all</span>(<span class="ruby-identifier">sanitize_sql</span>(<span class="ruby-identifier">sql</span>), <span class="ruby-node">&quot;#{name} Load&quot;</span>).<span class="ruby-identifier">collect!</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">record</span><span class="ruby-operator">|</span> <span class="ruby-identifier">instantiate</span>(<span class="ruby-identifier">record</span>) }
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-increment_counter">
            
              <a name="method-c-increment_counter"></a><b>increment_counter</b>(counter_name, id)
            
          </div>
          
          
            <div class="description">
              <p>Increments the specified counter by one. So
<code>DiscussionBoard.increment_counter(&quot;post_count&quot;,
discussion_board_id)</code> would increment the “post_count” counter on the
board responding to discussion_board_id. This is used for caching aggregate
values, so that they don’t need to be computed every time. Especially
important for looping over a collection where each element require a number
of aggregate values. Like the DiscussionBoard that needs to list both the
number of posts and comments.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-increment_counter_source')" id="l_method-c-increment_counter_source">show</a>
                
              </p>
              <div id="method-c-increment_counter_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/lib/active_record/base.rb, line 528</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">increment_counter</span>(<span class="ruby-identifier">counter_name</span>, <span class="ruby-identifier">id</span>)
  <span class="ruby-identifier">update_all</span> <span class="ruby-node">&quot;#{connection.quote_column_name(counter_name)} = #{connection.quote_column_name(counter_name)} + 1&quot;</span>, <span class="ruby-node">&quot;#{connection.quote_column_name(primary_key)} = #{quote_value(id)}&quot;</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-inheritance_column">
            
              <a name="method-c-inheritance_column"></a><b>inheritance_column</b>()
            
          </div>
          
          
            <div class="description">
              <p>Defines the column name for use with single table inheritance – can be set
in subclasses like so: self.inheritance_column = “type_id”</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-inheritance_column_source')" id="l_method-c-inheritance_column_source">show</a>
                
              </p>
              <div id="method-c-inheritance_column_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/lib/active_record/base.rb, line 656</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">inheritance_column</span>
  <span class="ruby-ivar">@inheritance_column</span> <span class="ruby-operator">||=</span> <span class="ruby-string">&quot;type&quot;</span>.<span class="ruby-identifier">freeze</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-inheritance_column-3D">
            
              <a name="method-c-inheritance_column-3D"></a><b>inheritance_column=</b>(value = nil, &amp;block)
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-new">
            
              <a name="method-c-new"></a><b>new</b>(attributes = nil)
            
          </div>
          
          
            <div class="description">
              <p>New objects can be instantiated as either empty (pass no construction
parameter) or pre-set with attributes but not yet saved (pass a hash with
key names matching the associated table column names). In both instances,
valid attribute keys are determined by the column names of the associated
table – hence you can’t have attributes that aren’t part of the table
columns.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-new_source')" id="l_method-c-new_source">show</a>
                
              </p>
              <div id="method-c-new_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/lib/active_record/base.rb, line 1504</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">initialize</span>(<span class="ruby-identifier">attributes</span> = <span class="ruby-keyword">nil</span>)
  <span class="ruby-ivar">@attributes</span> = <span class="ruby-identifier">attributes_from_column_definition</span>
  <span class="ruby-ivar">@new_record</span> = <span class="ruby-keyword">true</span>
  <span class="ruby-identifier">ensure_proper_type</span>
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">attributes</span> = <span class="ruby-identifier">attributes</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">attributes</span>.<span class="ruby-identifier">nil?</span>
  <span class="ruby-keyword">yield</span> <span class="ruby-keyword">self</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">block_given?</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-primary_key">
            
              <a name="method-c-primary_key"></a><b>primary_key</b>()
            
          </div>
          
          
            <div class="description">
              <p>Defines the primary key field – can be overridden in subclasses.
Overwriting will negate any effect of the primary_key_prefix_type setting,
though.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-primary_key_source')" id="l_method-c-primary_key_source">show</a>
                
              </p>
              <div id="method-c-primary_key_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/lib/active_record/base.rb, line 638</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">primary_key</span>
  <span class="ruby-identifier">reset_primary_key</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-primary_key-3D">
            
              <a name="method-c-primary_key-3D"></a><b>primary_key=</b>(value = nil, &amp;block)
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-remove_connection">
            
              <a name="method-c-remove_connection"></a><b>remove_connection</b>(klass=self)
            
          </div>
          
          
            <div class="description">
              <p>Remove the connection for this class. This will close the active connection
and the defined connection (if they exist). The result can be used as
argument for <a
href="Base.html#method-c-establish_connection">::establish_connection</a>,
for easy re-establishing of the connection.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-remove_connection_source')" id="l_method-c-remove_connection_source">show</a>
                
              </p>
              <div id="method-c-remove_connection_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/lib/active_record/connection_adapters/abstract/connection_specification.rb, line 247</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">self</span>.<span class="ruby-identifier">remove_connection</span>(<span class="ruby-identifier">klass</span>=<span class="ruby-keyword">self</span>)
  <span class="ruby-identifier">spec</span> = <span class="ruby-identifier">@@defined_connections</span>[<span class="ruby-identifier">klass</span>.<span class="ruby-identifier">name</span>]
  <span class="ruby-identifier">konn</span> = <span class="ruby-identifier">active_connections</span>[<span class="ruby-identifier">klass</span>.<span class="ruby-identifier">name</span>]
  <span class="ruby-identifier">@@defined_connections</span>.<span class="ruby-identifier">delete_if</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">key</span>, <span class="ruby-identifier">value</span><span class="ruby-operator">|</span> <span class="ruby-identifier">value</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">spec</span> }
  <span class="ruby-identifier">active_connections</span>.<span class="ruby-identifier">delete_if</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">key</span>, <span class="ruby-identifier">value</span><span class="ruby-operator">|</span> <span class="ruby-identifier">value</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">konn</span> }
  <span class="ruby-identifier">konn</span>.<span class="ruby-identifier">disconnect!</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">konn</span>
  <span class="ruby-identifier">spec</span>.<span class="ruby-identifier">config</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">spec</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-require_mysql">
            
              <a name="method-c-require_mysql"></a><b>require_mysql</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-require_mysql_source')" id="l_method-c-require_mysql_source">show</a>
                
              </p>
              <div id="method-c-require_mysql_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/lib/active_record/connection_adapters/mysql_adapter.rb, line 44</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">self</span>.<span class="ruby-identifier">require_mysql</span>
  <span class="ruby-comment"># Include the MySQL driver if one hasn't already been loaded</span>
  <span class="ruby-keyword">unless</span> <span class="ruby-keyword">defined?</span> <span class="ruby-constant">Mysql</span>
    <span class="ruby-keyword">begin</span>
      <span class="ruby-identifier">require_library_or_gem</span> <span class="ruby-string">'mysql'</span>
    <span class="ruby-keyword">rescue</span> <span class="ruby-constant">LoadError</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">cannot_require_mysql</span>
      <span class="ruby-comment"># Use the bundled Ruby/MySQL driver if no driver is already in place</span>
      <span class="ruby-keyword">begin</span>
        <span class="ruby-identifier">require</span> <span class="ruby-string">'active_record/vendor/mysql'</span>
      <span class="ruby-keyword">rescue</span> <span class="ruby-constant">LoadError</span>
        <span class="ruby-identifier">raise</span> <span class="ruby-identifier">cannot_require_mysql</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-comment"># Define Mysql::Result.all_hashes</span>
  <span class="ruby-constant">MysqlCompat</span>.<span class="ruby-identifier">define_all_hashes_method!</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-reset_column_information">
            
              <a name="method-c-reset_column_information"></a><b>reset_column_information</b>()
            
          </div>
          
          
            <div class="description">
              <p>Resets all the cached information about columns, which will cause them to
be reloaded on the next request.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-reset_column_information_source')" id="l_method-c-reset_column_information_source">show</a>
                
              </p>
              <div id="method-c-reset_column_information_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/lib/active_record/base.rb, line 805</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">reset_column_information</span>
  <span class="ruby-identifier">read_methods</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">name</span><span class="ruby-operator">|</span> <span class="ruby-identifier">undef_method</span>(<span class="ruby-identifier">name</span>) }
  <span class="ruby-ivar">@column_names</span> = <span class="ruby-ivar">@columns</span> = <span class="ruby-ivar">@columns_hash</span> = <span class="ruby-ivar">@content_columns</span> = <span class="ruby-ivar">@dynamic_methods_hash</span> = <span class="ruby-ivar">@read_methods</span> = <span class="ruby-ivar">@inheritance_column</span> = <span class="ruby-keyword">nil</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-sequence_name-3D">
            
              <a name="method-c-sequence_name-3D"></a><b>sequence_name=</b>(value = nil, &amp;block)
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-serialize">
            
              <a name="method-c-serialize"></a><b>serialize</b>(attr_name, class_name = Object)
            
          </div>
          
          
            <div class="description">
              <p>Specifies that the attribute by the name of <code>attr_name</code> should
be serialized before saving to the database and unserialized after loading
from the database. The serialization is done through YAML. If
<code>class_name</code> is specified, the serialized object must be of that
class on retrieval, or nil. Otherwise,
<code>SerializationTypeMismatch</code> will be raised.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-serialize_source')" id="l_method-c-serialize_source">show</a>
                
              </p>
              <div id="method-c-serialize_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/lib/active_record/base.rb, line 579</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">serialize</span>(<span class="ruby-identifier">attr_name</span>, <span class="ruby-identifier">class_name</span> = <span class="ruby-constant">Object</span>)
  <span class="ruby-identifier">serialized_attributes</span>[<span class="ruby-identifier">attr_name</span>.<span class="ruby-identifier">to_s</span>] = <span class="ruby-identifier">class_name</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-serialized_attributes">
            
              <a name="method-c-serialized_attributes"></a><b>serialized_attributes</b>()
            
          </div>
          
          
            <div class="description">
              <p>Returns a hash of all the attributes that have been specified for
serialization as keys and their class restriction as values.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-serialized_attributes_source')" id="l_method-c-serialized_attributes_source">show</a>
                
              </p>
              <div id="method-c-serialized_attributes_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/lib/active_record/base.rb, line 584</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">serialized_attributes</span>
  <span class="ruby-identifier">read_inheritable_attribute</span>(<span class="ruby-string">&quot;attr_serialized&quot;</span>) <span class="ruby-keyword">or</span> <span class="ruby-identifier">write_inheritable_attribute</span>(<span class="ruby-string">&quot;attr_serialized&quot;</span>, {})
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-set_inheritance_column">
            
              <a name="method-c-set_inheritance_column"></a><b>set_inheritance_column</b>(value = nil, &amp;block)
            
          </div>
          
          
            <div class="description">
              <p>Sets the name of the inheritance column to use to the given value, or (if
the value # is nil or false) to the value returned by the given block.</p>

<p>Example:</p>

<pre class="ruby"><span class="ruby-keyword">class</span> <span class="ruby-constant">Project</span> <span class="ruby-operator">&lt;</span> <span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>
  <span class="ruby-identifier">set_inheritance_column</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">original_inheritance_column</span> <span class="ruby-operator">+</span> <span class="ruby-string">&quot;_id&quot;</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span>
</pre>
            </div>
          
          
          
            <div class="aka">
              Also aliased as: <a href="Base.html#method-c-inheritance_column-3D">inheritance_column=</a>
            </div>
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-set_inheritance_column_source')" id="l_method-c-set_inheritance_column_source">show</a>
                
              </p>
              <div id="method-c-set_inheritance_column_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/lib/active_record/base.rb, line 710</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">set_inheritance_column</span>(<span class="ruby-identifier">value</span> = <span class="ruby-keyword">nil</span>, &amp;<span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">define_attr_method</span> <span class="ruby-value">:inheritance_column</span>, <span class="ruby-identifier">value</span>, &amp;<span class="ruby-identifier">block</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-set_primary_key">
            
              <a name="method-c-set_primary_key"></a><b>set_primary_key</b>(value = nil, &amp;block)
            
          </div>
          
          
            <div class="description">
              <p>Sets the name of the primary key column to use to the given value, or (if
the value is nil or false) to the value returned by the given block.</p>

<p>Example:</p>

<pre class="ruby"><span class="ruby-keyword">class</span> <span class="ruby-constant">Project</span> <span class="ruby-operator">&lt;</span> <span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>
  <span class="ruby-identifier">set_primary_key</span> <span class="ruby-string">&quot;sysid&quot;</span>
<span class="ruby-keyword">end</span>
</pre>
            </div>
          
          
          
            <div class="aka">
              Also aliased as: <a href="Base.html#method-c-primary_key-3D">primary_key=</a>
            </div>
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-set_primary_key_source')" id="l_method-c-set_primary_key_source">show</a>
                
              </p>
              <div id="method-c-set_primary_key_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/lib/active_record/base.rb, line 694</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">set_primary_key</span>(<span class="ruby-identifier">value</span> = <span class="ruby-keyword">nil</span>, &amp;<span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">define_attr_method</span> <span class="ruby-value">:primary_key</span>, <span class="ruby-identifier">value</span>, &amp;<span class="ruby-identifier">block</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-set_sequence_name">
            
              <a name="method-c-set_sequence_name"></a><b>set_sequence_name</b>(value = nil, &amp;block)
            
          </div>
          
          
            <div class="description">
              <p>Sets the name of the sequence to use when generating ids to the given
value, or (if the value is nil or false) to the value returned by the given
block. This is required for Oracle and is useful for any database which
relies on sequences for primary key generation.</p>

<p>If a sequence name is not explicitly set when using Oracle or Firebird, it
will default to the commonly used pattern of: #{<a
href="Base.html#method-c-table_name">::table_name</a>}_seq</p>

<p>If a sequence name is not explicitly set when using PostgreSQL, it will
discover the sequence corresponding to your primary key for you.</p>

<p>Example:</p>

<pre class="ruby"><span class="ruby-keyword">class</span> <span class="ruby-constant">Project</span> <span class="ruby-operator">&lt;</span> <span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>
  <span class="ruby-identifier">set_sequence_name</span> <span class="ruby-string">&quot;projectseq&quot;</span>   <span class="ruby-comment"># default would have been &quot;project_seq&quot;</span>
<span class="ruby-keyword">end</span>
</pre>
            </div>
          
          
          
            <div class="aka">
              Also aliased as: <a href="Base.html#method-c-sequence_name-3D">sequence_name=</a>
            </div>
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-set_sequence_name_source')" id="l_method-c-set_sequence_name_source">show</a>
                
              </p>
              <div id="method-c-set_sequence_name_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/lib/active_record/base.rb, line 731</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">set_sequence_name</span>(<span class="ruby-identifier">value</span> = <span class="ruby-keyword">nil</span>, &amp;<span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">define_attr_method</span> <span class="ruby-value">:sequence_name</span>, <span class="ruby-identifier">value</span>, &amp;<span class="ruby-identifier">block</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-set_table_name">
            
              <a name="method-c-set_table_name"></a><b>set_table_name</b>(value = nil, &amp;block)
            
          </div>
          
          
            <div class="description">
              <p>Sets the table name to use to the given value, or (if the value is nil or
false) to the value returned by the given block.</p>

<p>Example:</p>

<pre class="ruby"><span class="ruby-keyword">class</span> <span class="ruby-constant">Project</span> <span class="ruby-operator">&lt;</span> <span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>
  <span class="ruby-identifier">set_table_name</span> <span class="ruby-string">&quot;project&quot;</span>
<span class="ruby-keyword">end</span>
</pre>
            </div>
          
          
          
            <div class="aka">
              Also aliased as: <a href="Base.html#method-c-table_name-3D">table_name=</a>
            </div>
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-set_table_name_source')" id="l_method-c-set_table_name_source">show</a>
                
              </p>
              <div id="method-c-set_table_name_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/lib/active_record/base.rb, line 680</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">set_table_name</span>(<span class="ruby-identifier">value</span> = <span class="ruby-keyword">nil</span>, &amp;<span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">define_attr_method</span> <span class="ruby-value">:table_name</span>, <span class="ruby-identifier">value</span>, &amp;<span class="ruby-identifier">block</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-silence">
            
              <a name="method-c-silence"></a><b>silence</b>()
            
          </div>
          
          
            <div class="description">
              <p>Silences the logger for the duration of the block.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-silence_source')" id="l_method-c-silence_source">show</a>
                
              </p>
              <div id="method-c-silence_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/lib/active_record/base.rb, line 865</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">silence</span>
  <span class="ruby-identifier">old_logger_level</span>, <span class="ruby-identifier">logger</span>.<span class="ruby-identifier">level</span> = <span class="ruby-identifier">logger</span>.<span class="ruby-identifier">level</span>, <span class="ruby-constant">Logger</span><span class="ruby-operator">::</span><span class="ruby-constant">ERROR</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">logger</span>
  <span class="ruby-keyword">yield</span>
<span class="ruby-keyword">ensure</span>
  <span class="ruby-identifier">logger</span>.<span class="ruby-identifier">level</span> = <span class="ruby-identifier">old_logger_level</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">logger</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-table_exists-3F">
            
              <a name="method-c-table_exists-3F"></a><b>table_exists?</b>()
            
          </div>
          
          
            <div class="description">
              <p>Indicates whether the table associated with this class exists</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-table_exists-3F_source')" id="l_method-c-table_exists-3F_source">show</a>
                
              </p>
              <div id="method-c-table_exists-3F_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/lib/active_record/base.rb, line 745</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">table_exists?</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">connection</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-value">:tables</span>)
    <span class="ruby-identifier">connection</span>.<span class="ruby-identifier">tables</span>.<span class="ruby-identifier">include?</span> <span class="ruby-identifier">table_name</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-comment"># if the connection adapter hasn't implemented tables, there are two crude tests that can be</span>
    <span class="ruby-comment"># used - see if getting column info raises an error, or if the number of columns returned is zero</span>
    <span class="ruby-keyword">begin</span>
      <span class="ruby-identifier">reset_column_information</span>
      <span class="ruby-identifier">columns</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">&gt;</span> <span class="ruby-number">0</span>
    <span class="ruby-keyword">rescue</span> <span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">StatementInvalid</span>
      <span class="ruby-keyword">false</span>
    <span class="ruby-keyword">end</span>          
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-table_name">
            
              <a name="method-c-table_name"></a><b>table_name</b>()
            
          </div>
          
          
            <div class="description">
              <p>Guesses the table name (in forced lower-case) based on the name of the
class in the inheritance hierarchy descending directly from <a
href="../ActiveRecord.html">ActiveRecord</a>. So if the hierarchy looks
like: <a href="../Reply.html">Reply</a> &lt; Message &lt; <a
href="../ActiveRecord.html">ActiveRecord</a>, then Message is used to guess
the table name from even when called on <a href="../Reply.html">Reply</a>.
The rules used to do the guess are handled by the <a
href="../Inflector.html">Inflector</a> class in Active Support, which knows
almost all common English inflections (report a bug if your inflection
isn’t covered).</p>

<p><a href="../Nested.html">Nested</a> classes are given table names prefixed
by the singular form of the parent's table name. Example:</p>

<pre class="ruby"><span class="ruby-identifier">file</span>                  <span class="ruby-keyword">class</span>               <span class="ruby-identifier">table_name</span>
<span class="ruby-identifier">invoice</span>.<span class="ruby-identifier">rb</span>            <span class="ruby-constant">Invoice</span>             <span class="ruby-identifier">invoices</span>
<span class="ruby-identifier">invoice</span><span class="ruby-operator">/</span><span class="ruby-identifier">lineitem</span>.<span class="ruby-identifier">rb</span>   <span class="ruby-constant">Invoice</span><span class="ruby-operator">::</span><span class="ruby-constant">Lineitem</span>   <span class="ruby-identifier">invoice_lineitems</span>
</pre>

<p>Additionally, the class-level table_name_prefix is prepended and the
table_name_suffix is appended.  So if you have “myapp_” as a prefix, the
table name guess for an Invoice class becomes “myapp_invoices”.
Invoice::Lineitem becomes “myapp_invoice_lineitems”.</p>

<p>You can also overwrite this class method to allow for unguessable links,
such as a Mouse class with a link to a “mice” table. Example:</p>

<pre class="ruby"><span class="ruby-keyword">class</span> <span class="ruby-constant">Mouse</span> <span class="ruby-operator">&lt;</span> <span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>
  <span class="ruby-identifier">set_table_name</span> <span class="ruby-string">&quot;mice&quot;</span>
<span class="ruby-keyword">end</span>
</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-table_name_source')" id="l_method-c-table_name_source">show</a>
                
              </p>
              <div id="method-c-table_name_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/lib/active_record/base.rb, line 611</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">table_name</span>
  <span class="ruby-identifier">reset_table_name</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-table_name-3D">
            
              <a name="method-c-table_name-3D"></a><b>table_name=</b>(value = nil, &amp;block)
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-update">
            
              <a name="method-c-update"></a><b>update</b>(id, attributes)
            
          </div>
          
          
            <div class="description">
              <p>Finds the record from the passed <code>id</code>, instantly saves it with
the passed <code>attributes</code> (if the validation permits it), and
returns it. If the save fails under validations, the unsaved object is
still returned.</p>

<p>The arguments may also be given as arrays in which case the update method
is called for each pair of <code>id</code> and  <code>attributes</code> and
an array of objects is returned.</p>

<p>Example of updating one record:</p>

<pre class="ruby"><span class="ruby-constant">Person</span>.<span class="ruby-identifier">update</span>(<span class="ruby-value">15</span>, {:<span class="ruby-identifier">user_name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'Samuel'</span>, :<span class="ruby-identifier">group</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">'expert'</span>})
</pre>

<p>Example of updating multiple records:</p>

<pre class="ruby"><span class="ruby-identifier">people</span> = { <span class="ruby-value">1</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-string">&quot;first_name&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;David&quot;</span> }, <span class="ruby-value">2</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-string">&quot;first_name&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;Jeremy&quot;</span>} }       
<span class="ruby-constant">Person</span>.<span class="ruby-identifier">update</span>(<span class="ruby-identifier">people</span>.<span class="ruby-identifier">keys</span>, <span class="ruby-identifier">people</span>.<span class="ruby-identifier">values</span>)
</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-update_source')" id="l_method-c-update_source">show</a>
                
              </p>
              <div id="method-c-update_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/lib/active_record/base.rb, line 468</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">update</span>(<span class="ruby-identifier">id</span>, <span class="ruby-identifier">attributes</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">id</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Array</span>)
    <span class="ruby-identifier">idx</span> = <span class="ruby-number">-1</span>
    <span class="ruby-identifier">id</span>.<span class="ruby-identifier">collect</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">id</span><span class="ruby-operator">|</span> <span class="ruby-identifier">idx</span> <span class="ruby-operator">+=</span> <span class="ruby-number">1</span>; <span class="ruby-identifier">update</span>(<span class="ruby-identifier">id</span>, <span class="ruby-identifier">attributes</span>[<span class="ruby-identifier">idx</span>]) }
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">object</span> = <span class="ruby-identifier">find</span>(<span class="ruby-identifier">id</span>)
    <span class="ruby-identifier">object</span>.<span class="ruby-identifier">update_attributes</span>(<span class="ruby-identifier">attributes</span>)
    <span class="ruby-identifier">object</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-update_all">
            
              <a name="method-c-update_all"></a><b>update_all</b>(updates, conditions = nil)
            
          </div>
          
          
            <div class="description">
              <p>Updates all records with the SET-part of an SQL update statement in
<code>updates</code> and returns an integer with the number of rows
updated. <a href="../A.html">A</a> subset of the records can be selected by
specifying <code>conditions</code>. Example:</p>

<pre>Billing.update_all &quot;category = 'authorized', approved = 1&quot;, &quot;author = 'David'&quot;</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-update_all_source')" id="l_method-c-update_all_source">show</a>
                
              </p>
              <div id="method-c-update_all_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/lib/active_record/base.rb, line 494</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">update_all</span>(<span class="ruby-identifier">updates</span>, <span class="ruby-identifier">conditions</span> = <span class="ruby-keyword">nil</span>)
  <span class="ruby-identifier">sql</span>  = <span class="ruby-node">&quot;UPDATE #{table_name} SET #{sanitize_sql(updates)} &quot;</span>
  <span class="ruby-identifier">add_conditions!</span>(<span class="ruby-identifier">sql</span>, <span class="ruby-identifier">conditions</span>, <span class="ruby-identifier">scope</span>(<span class="ruby-value">:find</span>))
  <span class="ruby-identifier">connection</span>.<span class="ruby-identifier">update</span>(<span class="ruby-identifier">sql</span>, <span class="ruby-node">&quot;#{name} Update&quot;</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-with_exclusive_scope">
            
              <a name="method-c-with_exclusive_scope"></a><b>with_exclusive_scope</b>(method_scoping = {}, &amp;block)
            
          </div>
          
          
            <div class="description">
              <p>Works like <a href="Base.html#method-c-with_scope">::with_scope</a>, but
discards any nested properties.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-with_exclusive_scope_source')" id="l_method-c-with_exclusive_scope_source">show</a>
                
              </p>
              <div id="method-c-with_exclusive_scope_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/lib/active_record/base.rb, line 953</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">with_exclusive_scope</span>(<span class="ruby-identifier">method_scoping</span> = {}, &amp;<span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">with_scope</span>(<span class="ruby-identifier">method_scoping</span>, <span class="ruby-value">:overwrite</span>, &amp;<span class="ruby-identifier">block</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-with_scope">
            
              <a name="method-c-with_scope"></a><b>with_scope</b>(method_scoping = {}, action = :merge, &amp;block)
            
          </div>
          
          
            <div class="description">
              <p>Scope parameters to method calls within the block.  Takes a hash of
method_name =&gt; parameters hash. method_name may be :find or :create.
:find parameters may include the <code>:conditions</code>,
<code>:joins</code>, <code>:include</code>, <code>:offset</code>,
<code>:limit</code>, and <code>:readonly</code> options. :create parameters
are an attributes hash.</p>

<pre class="ruby"><span class="ruby-constant">Article</span>.<span class="ruby-identifier">with_scope</span>(:<span class="ruby-identifier">find</span> =<span class="ruby-operator">&gt;</span> { :<span class="ruby-identifier">conditions</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;blog_id = 1&quot;</span> }, :<span class="ruby-identifier">create</span> =<span class="ruby-operator">&gt;</span> { :<span class="ruby-identifier">blog_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span> }) <span class="ruby-keyword">do</span>
  <span class="ruby-constant">Article</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">1</span>) <span class="ruby-comment"># =&gt; SELECT * from articles WHERE blog_id = 1 AND id = 1</span>
  <span class="ruby-identifier">a</span> = <span class="ruby-constant">Article</span>.<span class="ruby-identifier">create</span>(<span class="ruby-value">1</span>)
  <span class="ruby-identifier">a</span>.<span class="ruby-identifier">blog_id</span> <span class="ruby-comment"># =&gt; 1</span>
<span class="ruby-keyword">end</span>
</pre>

<p>In nested scopings, all previous parameters are overwritten by inner rule
except :conditions in :find, that are merged as hash.</p>

<pre class="ruby"><span class="ruby-constant">Article</span>.<span class="ruby-identifier">with_scope</span>(:<span class="ruby-identifier">find</span> =<span class="ruby-operator">&gt;</span> { :<span class="ruby-identifier">conditions</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;blog_id = 1&quot;</span>, :<span class="ruby-identifier">limit</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span> }, :<span class="ruby-identifier">create</span> =<span class="ruby-operator">&gt;</span> { :<span class="ruby-identifier">blog_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span> }) <span class="ruby-keyword">do</span>
  <span class="ruby-constant">Article</span>.<span class="ruby-identifier">with_scope</span>(:<span class="ruby-identifier">find</span> =<span class="ruby-operator">&gt;</span> { :<span class="ruby-identifier">limit</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">10</span>})
    <span class="ruby-constant">Article</span>.<span class="ruby-identifier">find</span>(:<span class="ruby-identifier">all</span>) <span class="ruby-comment"># =&gt; SELECT * from articles WHERE blog_id = 1 LIMIT 10</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-constant">Article</span>.<span class="ruby-identifier">with_scope</span>(:<span class="ruby-identifier">find</span> =<span class="ruby-operator">&gt;</span> { :<span class="ruby-identifier">conditions</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;author_id = 3&quot;</span> })
    <span class="ruby-constant">Article</span>.<span class="ruby-identifier">find</span>(:<span class="ruby-identifier">all</span>) <span class="ruby-comment"># =&gt; SELECT * from articles WHERE blog_id = 1 AND author_id = 3 LIMIT 1</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span>
</pre>

<p>You can ignore any previous scopings by using
<code>with_exclusive_scope</code> method.</p>

<pre class="ruby"><span class="ruby-constant">Article</span>.<span class="ruby-identifier">with_scope</span>(:<span class="ruby-identifier">find</span> =<span class="ruby-operator">&gt;</span> { :<span class="ruby-identifier">conditions</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;blog_id = 1&quot;</span>, :<span class="ruby-identifier">limit</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span> }) <span class="ruby-keyword">do</span>
  <span class="ruby-constant">Article</span>.<span class="ruby-identifier">with_exclusive_scope</span>(:<span class="ruby-identifier">find</span> =<span class="ruby-operator">&gt;</span> { :<span class="ruby-identifier">limit</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">10</span> })
    <span class="ruby-constant">Article</span>.<span class="ruby-identifier">find</span>(:<span class="ruby-identifier">all</span>) <span class="ruby-comment"># =&gt; SELECT * from articles LIMIT 10</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span>
</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-with_scope_source')" id="l_method-c-with_scope_source">show</a>
                
              </p>
              <div id="method-c-with_scope_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/lib/active_record/base.rb, line 901</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">with_scope</span>(<span class="ruby-identifier">method_scoping</span> = {}, <span class="ruby-identifier">action</span> = <span class="ruby-value">:merge</span>, &amp;<span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">method_scoping</span> = <span class="ruby-identifier">method_scoping</span>.<span class="ruby-identifier">method_scoping</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">method_scoping</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-value">:method_scoping</span>)

  <span class="ruby-comment"># Dup first and second level of hash (method and params).</span>
  <span class="ruby-identifier">method_scoping</span> = <span class="ruby-identifier">method_scoping</span>.<span class="ruby-identifier">inject</span>({}) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">hash</span>, (<span class="ruby-identifier">method</span>, <span class="ruby-identifier">params</span>)<span class="ruby-operator">|</span>
    <span class="ruby-identifier">hash</span>[<span class="ruby-identifier">method</span>] = (<span class="ruby-identifier">params</span> <span class="ruby-operator">==</span> <span class="ruby-keyword">true</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">params</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">params</span>.<span class="ruby-identifier">dup</span>
    <span class="ruby-identifier">hash</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">method_scoping</span>.<span class="ruby-identifier">assert_valid_keys</span>([ <span class="ruby-value">:find</span>, <span class="ruby-value">:create</span> ])

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">f</span> = <span class="ruby-identifier">method_scoping</span>[<span class="ruby-value">:find</span>]
    <span class="ruby-identifier">f</span>.<span class="ruby-identifier">assert_valid_keys</span>([ <span class="ruby-value">:conditions</span>, <span class="ruby-value">:joins</span>, <span class="ruby-value">:select</span>, <span class="ruby-value">:include</span>, <span class="ruby-value">:from</span>, <span class="ruby-value">:offset</span>, <span class="ruby-value">:limit</span>, <span class="ruby-value">:order</span>, <span class="ruby-value">:readonly</span>, <span class="ruby-value">:lock</span> ])
    <span class="ruby-identifier">f</span>[<span class="ruby-value">:readonly</span>] = <span class="ruby-keyword">true</span> <span class="ruby-keyword">if</span> <span class="ruby-operator">!</span><span class="ruby-identifier">f</span>[<span class="ruby-value">:joins</span>].<span class="ruby-identifier">blank?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">f</span>.<span class="ruby-identifier">has_key?</span>(<span class="ruby-value">:readonly</span>)
  <span class="ruby-keyword">end</span>

  <span class="ruby-comment"># Merge scopings</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">action</span> <span class="ruby-operator">==</span> <span class="ruby-value">:merge</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">current_scoped_methods</span>
    <span class="ruby-identifier">method_scoping</span> = <span class="ruby-identifier">current_scoped_methods</span>.<span class="ruby-identifier">inject</span>(<span class="ruby-identifier">method_scoping</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">hash</span>, (<span class="ruby-identifier">method</span>, <span class="ruby-identifier">params</span>)<span class="ruby-operator">|</span>
      <span class="ruby-keyword">case</span> <span class="ruby-identifier">hash</span>[<span class="ruby-identifier">method</span>]
        <span class="ruby-keyword">when</span> <span class="ruby-constant">Hash</span>
          <span class="ruby-keyword">if</span> <span class="ruby-identifier">method</span> <span class="ruby-operator">==</span> <span class="ruby-value">:find</span>
            (<span class="ruby-identifier">hash</span>[<span class="ruby-identifier">method</span>].<span class="ruby-identifier">keys</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">params</span>.<span class="ruby-identifier">keys</span>).<span class="ruby-identifier">uniq</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">key</span><span class="ruby-operator">|</span>
              <span class="ruby-identifier">merge</span> = <span class="ruby-identifier">hash</span>[<span class="ruby-identifier">method</span>][<span class="ruby-identifier">key</span>] <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">params</span>[<span class="ruby-identifier">key</span>] <span class="ruby-comment"># merge if both scopes have the same key</span>
              <span class="ruby-keyword">if</span> <span class="ruby-identifier">key</span> <span class="ruby-operator">==</span> <span class="ruby-value">:conditions</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">merge</span>
                <span class="ruby-identifier">hash</span>[<span class="ruby-identifier">method</span>][<span class="ruby-identifier">key</span>] = [<span class="ruby-identifier">params</span>[<span class="ruby-identifier">key</span>], <span class="ruby-identifier">hash</span>[<span class="ruby-identifier">method</span>][<span class="ruby-identifier">key</span>]].<span class="ruby-identifier">collect</span>{ <span class="ruby-operator">|</span><span class="ruby-identifier">sql</span><span class="ruby-operator">|</span> <span class="ruby-string">&quot;( %s )&quot;</span> <span class="ruby-operator">%</span> <span class="ruby-identifier">sanitize_sql</span>(<span class="ruby-identifier">sql</span>) }.<span class="ruby-identifier">join</span>(<span class="ruby-string">&quot; AND &quot;</span>)
              <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">key</span> <span class="ruby-operator">==</span> <span class="ruby-value">:include</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">merge</span>
                <span class="ruby-identifier">hash</span>[<span class="ruby-identifier">method</span>][<span class="ruby-identifier">key</span>] = <span class="ruby-identifier">merge_includes</span>(<span class="ruby-identifier">hash</span>[<span class="ruby-identifier">method</span>][<span class="ruby-identifier">key</span>], <span class="ruby-identifier">params</span>[<span class="ruby-identifier">key</span>]).<span class="ruby-identifier">uniq</span>
              <span class="ruby-keyword">else</span>
                <span class="ruby-identifier">hash</span>[<span class="ruby-identifier">method</span>][<span class="ruby-identifier">key</span>] = <span class="ruby-identifier">hash</span>[<span class="ruby-identifier">method</span>][<span class="ruby-identifier">key</span>] <span class="ruby-operator">||</span> <span class="ruby-identifier">params</span>[<span class="ruby-identifier">key</span>]
              <span class="ruby-keyword">end</span>
            <span class="ruby-keyword">end</span>
          <span class="ruby-keyword">else</span>
            <span class="ruby-identifier">hash</span>[<span class="ruby-identifier">method</span>] = <span class="ruby-identifier">params</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">hash</span>[<span class="ruby-identifier">method</span>])
          <span class="ruby-keyword">end</span>
        <span class="ruby-keyword">else</span>
          <span class="ruby-identifier">hash</span>[<span class="ruby-identifier">method</span>] = <span class="ruby-identifier">params</span>
      <span class="ruby-keyword">end</span>
      <span class="ruby-identifier">hash</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">scoped_methods</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">method_scoping</span>

  <span class="ruby-keyword">begin</span>
    <span class="ruby-keyword">yield</span>
  <span class="ruby-keyword">ensure</span>
    <span class="ruby-keyword">self</span>.<span class="ruby-identifier">scoped_methods</span>.<span class="ruby-identifier">pop</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
              
      <div class="sectiontitle">Class Protected methods</div>
      
        <div class="method">
          <div class="title method-title" id="method-c-class_of_active_record_descendant">
            
              <a name="method-c-class_of_active_record_descendant"></a><b>class_of_active_record_descendant</b>(klass)
            
          </div>
          
          
            <div class="description">
              <p>Returns the class descending directly from <a
href="../ActiveRecord.html">ActiveRecord</a> in the inheritance hierarchy.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-class_of_active_record_descendant_source')" id="l_method-c-class_of_active_record_descendant_source">show</a>
                
              </p>
              <div id="method-c-class_of_active_record_descendant_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/lib/active_record/base.rb, line 1368</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">class_of_active_record_descendant</span>(<span class="ruby-identifier">klass</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">klass</span>.<span class="ruby-identifier">superclass</span> <span class="ruby-operator">==</span> <span class="ruby-constant">Base</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">klass</span>.<span class="ruby-identifier">superclass</span>.<span class="ruby-identifier">abstract_class?</span>
    <span class="ruby-identifier">klass</span>
  <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">klass</span>.<span class="ruby-identifier">superclass</span>.<span class="ruby-identifier">nil?</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-constant">ActiveRecordError</span>, <span class="ruby-node">&quot;#{name} doesn't belong in a hierarchy descending from ActiveRecord&quot;</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">class_of_active_record_descendant</span>(<span class="ruby-identifier">klass</span>.<span class="ruby-identifier">superclass</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-compute_type">
            
              <a name="method-c-compute_type"></a><b>compute_type</b>(type_name)
            
          </div>
          
          
            <div class="description">
              <p>Returns the class type of the record using the current module as a prefix.
So descendents of MyApp::Business::Account would appear as
MyApp::Business::AccountSubclass.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-compute_type_source')" id="l_method-c-compute_type_source">show</a>
                
              </p>
              <div id="method-c-compute_type_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/lib/active_record/base.rb, line 1358</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">compute_type</span>(<span class="ruby-identifier">type_name</span>)
  <span class="ruby-identifier">modularized_name</span> = <span class="ruby-identifier">type_name_with_module</span>(<span class="ruby-identifier">type_name</span>)
  <span class="ruby-keyword">begin</span>
    <span class="ruby-identifier">class_eval</span>(<span class="ruby-identifier">modularized_name</span>, <span class="ruby-keyword">__FILE__</span>, <span class="ruby-keyword">__LINE__</span>)
  <span class="ruby-keyword">rescue</span> <span class="ruby-constant">NameError</span>
    <span class="ruby-identifier">class_eval</span>(<span class="ruby-identifier">type_name</span>, <span class="ruby-keyword">__FILE__</span>, <span class="ruby-keyword">__LINE__</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-sanitize_conditions">
            
              <a name="method-c-sanitize_conditions"></a><b>sanitize_conditions</b>(condition)
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-sanitize_sql">
            
              <a name="method-c-sanitize_sql"></a><b>sanitize_sql</b>(condition)
            
          </div>
          
          
            <div class="description">
              <p>Accepts an array, hash, or string of sql conditions and sanitizes them into
a valid SQL fragment.</p>

<pre class="ruby">[<span class="ruby-string">&quot;name='%s' and group_id='%s'&quot;</span>, <span class="ruby-string">&quot;foo'bar&quot;</span>, <span class="ruby-value">4</span>]  <span class="ruby-identifier">returns</span>  <span class="ruby-string">&quot;name='foo''bar' and group_id='4'&quot;</span>
{ :<span class="ruby-identifier">name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;foo'bar&quot;</span>, :<span class="ruby-identifier">group_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">4</span> }  <span class="ruby-identifier">returns</span> <span class="ruby-string">&quot;name='foo''bar' and group_id='4'&quot;</span>
<span class="ruby-string">&quot;name='foo''bar' and group_id='4'&quot;</span> <span class="ruby-identifier">returns</span> <span class="ruby-string">&quot;name='foo''bar' and group_id='4'&quot;</span>
</pre>
            </div>
          
          
          
            <div class="aka">
              Also aliased as: <a href="Base.html#method-c-sanitize_conditions">sanitize_conditions</a>
            </div>
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-sanitize_sql_source')" id="l_method-c-sanitize_sql_source">show</a>
                
              </p>
              <div id="method-c-sanitize_sql_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/lib/active_record/base.rb, line 1388</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">sanitize_sql</span>(<span class="ruby-identifier">condition</span>)
  <span class="ruby-keyword">case</span> <span class="ruby-identifier">condition</span>
    <span class="ruby-keyword">when</span> <span class="ruby-constant">Array</span>; <span class="ruby-identifier">sanitize_sql_array</span>(<span class="ruby-identifier">condition</span>)
    <span class="ruby-keyword">when</span> <span class="ruby-constant">Hash</span>;  <span class="ruby-identifier">sanitize_sql_hash</span>(<span class="ruby-identifier">condition</span>)
    <span class="ruby-keyword">else</span>        <span class="ruby-identifier">condition</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-sanitize_sql_array">
            
              <a name="method-c-sanitize_sql_array"></a><b>sanitize_sql_array</b>(ary)
            
          </div>
          
          
            <div class="description">
              <p>Accepts an array of conditions.  The array has each value sanitized and
interpolated into the sql statement.</p>

<pre>[&quot;name='%s' and group_id='%s'&quot;, &quot;foo'bar&quot;, 4]  returns  &quot;name='foo''bar' and group_id='4'&quot;</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-sanitize_sql_array_source')" id="l_method-c-sanitize_sql_array_source">show</a>
                
              </p>
              <div id="method-c-sanitize_sql_array_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/lib/active_record/base.rb, line 1414</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">sanitize_sql_array</span>(<span class="ruby-identifier">ary</span>)
  <span class="ruby-identifier">statement</span>, *<span class="ruby-identifier">values</span> = <span class="ruby-identifier">ary</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">values</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Hash</span>) <span class="ruby-keyword">and</span> <span class="ruby-identifier">statement</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp">%r:\w+/</span>
    <span class="ruby-identifier">replace_named_bind_variables</span>(<span class="ruby-identifier">statement</span>, <span class="ruby-identifier">values</span>.<span class="ruby-identifier">first</span>)
  <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">statement</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-string">'?'</span>)
    <span class="ruby-identifier">replace_bind_variables</span>(<span class="ruby-identifier">statement</span>, <span class="ruby-identifier">values</span>)
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">statement</span> <span class="ruby-operator">%</span> <span class="ruby-identifier">values</span>.<span class="ruby-identifier">collect</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">value</span><span class="ruby-operator">|</span> <span class="ruby-identifier">connection</span>.<span class="ruby-identifier">quote_string</span>(<span class="ruby-identifier">value</span>.<span class="ruby-identifier">to_s</span>) }
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-sanitize_sql_hash">
            
              <a name="method-c-sanitize_sql_hash"></a><b>sanitize_sql_hash</b>(attrs)
            
          </div>
          
          
            <div class="description">
              <p>Sanitizes a hash of attribute/value pairs into SQL conditions.</p>

<pre class="ruby">{ :<span class="ruby-identifier">name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;foo'bar&quot;</span>, :<span class="ruby-identifier">group_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">4</span> }
  <span class="ruby-comment"># =&gt; &quot;name='foo''bar' and group_id= 4&quot;</span>
{ :<span class="ruby-identifier">status</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">nil</span>, :<span class="ruby-identifier">group_id</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-value">1</span>,<span class="ruby-value">2</span>,<span class="ruby-value">3</span>] }
  <span class="ruby-comment"># =&gt; &quot;status IS NULL and group_id IN (1,2,3)&quot;</span>
{ :<span class="ruby-identifier">age</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">13</span><span class="ruby-operator">..</span><span class="ruby-value">18</span> }
  <span class="ruby-comment"># =&gt; &quot;age BETWEEN 13 AND 18&quot;</span>
</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-sanitize_sql_hash_source')" id="l_method-c-sanitize_sql_hash_source">show</a>
                
              </p>
              <div id="method-c-sanitize_sql_hash_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/lib/active_record/base.rb, line 1403</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">sanitize_sql_hash</span>(<span class="ruby-identifier">attrs</span>)
  <span class="ruby-identifier">conditions</span> = <span class="ruby-identifier">attrs</span>.<span class="ruby-identifier">map</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">attr</span>, <span class="ruby-identifier">value</span><span class="ruby-operator">|</span>
    <span class="ruby-node">&quot;#{table_name}.#{connection.quote_column_name(attr)} #{attribute_condition(value)}&quot;</span>
  <span class="ruby-keyword">end</span>.<span class="ruby-identifier">join</span>(<span class="ruby-string">' AND '</span>)

  <span class="ruby-identifier">replace_bind_variables</span>(<span class="ruby-identifier">conditions</span>, <span class="ruby-identifier">expand_range_bind_variables</span>(<span class="ruby-identifier">attrs</span>.<span class="ruby-identifier">values</span>))
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
                  
      <div class="sectiontitle">Instance Public methods</div>
      
        <div class="method">
          <div class="title method-title" id="method-i-3D-3D">
            
              <a name="method-i-3D-3D"></a><b>==</b>(comparison_object)
            
          </div>
          
          
            <div class="description">
              <p>Returns true if the <code>comparison_object</code> is the same object, or
is of the same type and has the same id.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-3D-3D_source')" id="l_method-i-3D-3D_source">show</a>
                
              </p>
              <div id="method-i-3D-3D_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/lib/active_record/base.rb, line 1731</span>
<span class="ruby-keyword">def</span> <span class="ruby-operator">==</span>(<span class="ruby-keyword ruby-title">comparison_object</span>)
  <span class="ruby-identifier">comparison_object</span>.<span class="ruby-identifier">equal?</span>(<span class="ruby-keyword">self</span>) <span class="ruby-operator">||</span>
    (<span class="ruby-identifier">comparison_object</span>.<span class="ruby-identifier">instance_of?</span>(<span class="ruby-keyword">self</span>.<span class="ruby-identifier">class</span>) <span class="ruby-operator">&amp;&amp;</span> 
      <span class="ruby-identifier">comparison_object</span>.<span class="ruby-identifier">id</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">id</span> <span class="ruby-operator">&amp;&amp;</span> 
      <span class="ruby-operator">!</span><span class="ruby-identifier">comparison_object</span>.<span class="ruby-identifier">new_record?</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-5B-5D">
            
              <a name="method-i-5B-5D"></a><b>[]</b>(attr_name)
            
          </div>
          
          
            <div class="description">
              <p>Returns the value of the attribute identified by <code>attr_name</code>
after it has been typecast (for example, “2004-12-12” in a data column is
cast to a date object, like Date.new(2004, 12, 12)). (Alias for the
protected read_attribute method).</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-5B-5D_source')" id="l_method-i-5B-5D_source">show</a>
                
              </p>
              <div id="method-i-5B-5D_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/lib/active_record/base.rb, line 1653</span>
<span class="ruby-keyword">def</span> <span class="ruby-operator">[]</span>(<span class="ruby-keyword ruby-title">attr_name</span>)
  <span class="ruby-identifier">read_attribute</span>(<span class="ruby-identifier">attr_name</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-5B-5D-3D">
            
              <a name="method-i-5B-5D-3D"></a><b>[]=</b>(attr_name, value)
            
          </div>
          
          
            <div class="description">
              <p>Updates the attribute identified by <code>attr_name</code> with the
specified <code>value</code>. (Alias for the protected write_attribute
method).</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-5B-5D-3D_source')" id="l_method-i-5B-5D-3D_source">show</a>
                
              </p>
              <div id="method-i-5B-5D-3D_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/lib/active_record/base.rb, line 1659</span>
<span class="ruby-keyword">def</span> <span class="ruby-operator">[]=</span>(<span class="ruby-keyword ruby-title">attr_name</span>, <span class="ruby-identifier">value</span>)
  <span class="ruby-identifier">write_attribute</span>(<span class="ruby-identifier">attr_name</span>, <span class="ruby-identifier">value</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-attribute_names">
            
              <a name="method-i-attribute_names"></a><b>attribute_names</b>()
            
          </div>
          
          
            <div class="description">
              <p>Returns an array of names for the attributes available on this object
sorted alphabetically.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-attribute_names_source')" id="l_method-i-attribute_names_source">show</a>
                
              </p>
              <div id="method-i-attribute_names_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/lib/active_record/base.rb, line 1721</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">attribute_names</span>
  <span class="ruby-ivar">@attributes</span>.<span class="ruby-identifier">keys</span>.<span class="ruby-identifier">sort</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-attribute_present-3F">
            
              <a name="method-i-attribute_present-3F"></a><b>attribute_present?</b>(attribute)
            
          </div>
          
          
            <div class="description">
              <p>Returns true if the specified <code>attribute</code> has been set by the
user or by a database load and is neither nil nor empty? (the latter only
applies to objects that respond to empty?, most notably Strings).</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-attribute_present-3F_source')" id="l_method-i-attribute_present-3F_source">show</a>
                
              </p>
              <div id="method-i-attribute_present-3F_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/lib/active_record/base.rb, line 1710</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">attribute_present?</span>(<span class="ruby-identifier">attribute</span>)
  <span class="ruby-identifier">value</span> = <span class="ruby-identifier">read_attribute</span>(<span class="ruby-identifier">attribute</span>)
  <span class="ruby-operator">!</span><span class="ruby-identifier">value</span>.<span class="ruby-identifier">blank?</span> <span class="ruby-keyword">or</span> <span class="ruby-identifier">value</span> <span class="ruby-operator">==</span> <span class="ruby-number">0</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-attributes">
            
              <a name="method-i-attributes"></a><b>attributes</b>(options = nil)
            
          </div>
          
          
            <div class="description">
              <p>Returns a hash of all the attributes with their names as keys and clones of
their objects as values.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-attributes_source')" id="l_method-i-attributes_source">show</a>
                
              </p>
              <div id="method-i-attributes_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/lib/active_record/base.rb, line 1683</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">attributes</span>(<span class="ruby-identifier">options</span> = <span class="ruby-keyword">nil</span>)
  <span class="ruby-identifier">attributes</span> = <span class="ruby-identifier">clone_attributes</span> <span class="ruby-value">:read_attribute</span>
  
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">options</span>.<span class="ruby-identifier">nil?</span>
    <span class="ruby-identifier">attributes</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">except</span> = <span class="ruby-identifier">options</span>[<span class="ruby-value">:except</span>]
      <span class="ruby-identifier">except</span> = <span class="ruby-constant">Array</span>(<span class="ruby-identifier">except</span>).<span class="ruby-identifier">collect</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">attribute</span><span class="ruby-operator">|</span> <span class="ruby-identifier">attribute</span>.<span class="ruby-identifier">to_s</span> }
      <span class="ruby-identifier">except</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">attribute_name</span><span class="ruby-operator">|</span> <span class="ruby-identifier">attributes</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-identifier">attribute_name</span>) }
      <span class="ruby-identifier">attributes</span>
    <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">only</span> = <span class="ruby-identifier">options</span>[<span class="ruby-value">:only</span>]
      <span class="ruby-identifier">only</span> = <span class="ruby-constant">Array</span>(<span class="ruby-identifier">only</span>).<span class="ruby-identifier">collect</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">attribute</span><span class="ruby-operator">|</span> <span class="ruby-identifier">attribute</span>.<span class="ruby-identifier">to_s</span> }
      <span class="ruby-identifier">attributes</span>.<span class="ruby-identifier">delete_if</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">key</span>, <span class="ruby-identifier">value</span><span class="ruby-operator">|</span> <span class="ruby-operator">!</span><span class="ruby-identifier">only</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">key</span>) }
      <span class="ruby-identifier">attributes</span>
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>, <span class="ruby-node">&quot;Options does not specify :except or :only (#{options.keys.inspect})&quot;</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-attributes-3D">
            
              <a name="method-i-attributes-3D"></a><b>attributes=</b>(new_attributes)
            
          </div>
          
          
            <div class="description">
              <p>Allows you to set all the attributes at once by passing in a hash with keys
matching the attribute names (which again matches the column names).
Sensitive attributes can be protected from this form of mass-assignment by
using the <code>attr_protected</code> macro. Or you can alternatively
specify which attributes <strong>can</strong> be accessed in with the
<code>attr_accessible</code> macro. Then all the attributes not included in
that won’t be allowed to be mass-assigned.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-attributes-3D_source')" id="l_method-i-attributes-3D_source">show</a>
                
              </p>
              <div id="method-i-attributes-3D_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/lib/active_record/base.rb, line 1668</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">attributes=</span>(<span class="ruby-identifier">new_attributes</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">new_attributes</span>.<span class="ruby-identifier">nil?</span>
  <span class="ruby-identifier">attributes</span> = <span class="ruby-identifier">new_attributes</span>.<span class="ruby-identifier">dup</span>
  <span class="ruby-identifier">attributes</span>.<span class="ruby-identifier">stringify_keys!</span>

  <span class="ruby-identifier">multi_parameter_attributes</span> = []
  <span class="ruby-identifier">remove_attributes_protected_from_mass_assignment</span>(<span class="ruby-identifier">attributes</span>).<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">k</span>, <span class="ruby-identifier">v</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">k</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-string">&quot;(&quot;</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">multi_parameter_attributes</span> <span class="ruby-operator">&lt;&lt;</span> [ <span class="ruby-identifier">k</span>, <span class="ruby-identifier">v</span> ] <span class="ruby-operator">:</span> <span class="ruby-identifier">send</span>(<span class="ruby-identifier">k</span> <span class="ruby-operator">+</span> <span class="ruby-string">&quot;=&quot;</span>, <span class="ruby-identifier">v</span>)
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">assign_multiparameter_attributes</span>(<span class="ruby-identifier">multi_parameter_attributes</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-attributes_before_type_cast">
            
              <a name="method-i-attributes_before_type_cast"></a><b>attributes_before_type_cast</b>()
            
          </div>
          
          
            <div class="description">
              <p>Returns a hash of cloned attributes before typecasting and deserialization.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-attributes_before_type_cast_source')" id="l_method-i-attributes_before_type_cast_source">show</a>
                
              </p>
              <div id="method-i-attributes_before_type_cast_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/lib/active_record/base.rb, line 1704</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">attributes_before_type_cast</span>
  <span class="ruby-identifier">clone_attributes</span> <span class="ruby-value">:read_attribute_before_type_cast</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-clone">
            
              <a name="method-i-clone"></a><b>clone</b>()
            
          </div>
          
          
            <div class="description">
              <p>Returns a clone of the record that hasn’t been assigned an id yet and is
treated as a new record.  Note that this is a “shallow” clone: it copies
the object’s attributes only, not its associations. The extent of a “deep”
clone is application-specific and is therefore left to the application to
implement according to its need.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-clone_source')" id="l_method-i-clone_source">show</a>
                
              </p>
              <div id="method-i-clone_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/lib/active_record/base.rb, line 1575</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">clone</span>
  <span class="ruby-identifier">attrs</span> = <span class="ruby-keyword">self</span>.<span class="ruby-identifier">attributes_before_type_cast</span>
  <span class="ruby-identifier">attrs</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-keyword">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">primary_key</span>)
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">new</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">record</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">record</span>.<span class="ruby-identifier">send</span> <span class="ruby-value">:instance_variable_set</span>, <span class="ruby-string">'@attributes'</span>, <span class="ruby-identifier">attrs</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-column_for_attribute">
            
              <a name="method-i-column_for_attribute"></a><b>column_for_attribute</b>(name)
            
          </div>
          
          
            <div class="description">
              <p>Returns the column object for the named attribute.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-column_for_attribute_source')" id="l_method-i-column_for_attribute_source">show</a>
                
              </p>
              <div id="method-i-column_for_attribute_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/lib/active_record/base.rb, line 1726</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">column_for_attribute</span>(<span class="ruby-identifier">name</span>)
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">columns_hash</span>[<span class="ruby-identifier">name</span>.<span class="ruby-identifier">to_s</span>]
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-connection">
            
              <a name="method-i-connection"></a><b>connection</b>()
            
          </div>
          
          
            <div class="description">
              <p>Returns the connection currently associated with the class. This can also
be used to “borrow” the connection to do database work that isn’t easily
done without going straight to SQL.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-connection_source')" id="l_method-i-connection_source">show</a>
                
              </p>
              <div id="method-i-connection_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/lib/active_record/connection_adapters/abstract/connection_specification.rb, line 160</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">connection</span>
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">connection</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-decrement">
            
              <a name="method-i-decrement"></a><b>decrement</b>(attribute)
            
          </div>
          
          
            <div class="description">
              <p>Initializes the <code>attribute</code> to zero if nil and subtracts one.
Only makes sense for number-based attributes. Returns self.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-decrement_source')" id="l_method-i-decrement_source">show</a>
                
              </p>
              <div id="method-i-decrement_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/lib/active_record/base.rb, line 1617</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">decrement</span>(<span class="ruby-identifier">attribute</span>)
  <span class="ruby-keyword">self</span>[<span class="ruby-identifier">attribute</span>] <span class="ruby-operator">||=</span> <span class="ruby-number">0</span>
  <span class="ruby-keyword">self</span>[<span class="ruby-identifier">attribute</span>] <span class="ruby-operator">-=</span> <span class="ruby-number">1</span>
  <span class="ruby-keyword">self</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-decrement-21">
            
              <a name="method-i-decrement-21"></a><b>decrement!</b>(attribute)
            
          </div>
          
          
            <div class="description">
              <p>Decrements the <code>attribute</code> and saves the record.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-decrement-21_source')" id="l_method-i-decrement-21_source">show</a>
                
              </p>
              <div id="method-i-decrement-21_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/lib/active_record/base.rb, line 1624</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">decrement!</span>(<span class="ruby-identifier">attribute</span>)
  <span class="ruby-identifier">decrement</span>(<span class="ruby-identifier">attribute</span>).<span class="ruby-identifier">update_attribute</span>(<span class="ruby-identifier">attribute</span>, <span class="ruby-keyword">self</span>[<span class="ruby-identifier">attribute</span>])
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-destroy">
            
              <a name="method-i-destroy"></a><b>destroy</b>()
            
          </div>
          
          
            <div class="description">
              <p>Deletes the record in the database and freezes this instance to reflect
that no changes should be made (since they can’t be persisted).</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-destroy_source')" id="l_method-i-destroy_source">show</a>
                
              </p>
              <div id="method-i-destroy_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/lib/active_record/base.rb, line 1559</span>
      <span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">destroy</span>
        <span class="ruby-keyword">unless</span> <span class="ruby-identifier">new_record?</span>
          <span class="ruby-identifier">connection</span>.<span class="ruby-identifier">delete</span> <span class="ruby-string">&quot;            DELETE FROM #{self.class.table_name}
            WHERE #{connection.quote_column_name(self.class.primary_key)} = #{quoted_id}
&quot;</span>, <span class="ruby-node">&quot;#{self.class.name} Destroy&quot;</span>
        <span class="ruby-keyword">end</span>

        <span class="ruby-identifier">freeze</span>
      <span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-eql-3F">
            
              <a name="method-i-eql-3F"></a><b>eql?</b>(comparison_object)
            
          </div>
          
          
            <div class="description">
              <p>Delegates to ==</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-eql-3F_source')" id="l_method-i-eql-3F_source">show</a>
                
              </p>
              <div id="method-i-eql-3F_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/lib/active_record/base.rb, line 1739</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">eql?</span>(<span class="ruby-identifier">comparison_object</span>)
  <span class="ruby-keyword">self</span> <span class="ruby-operator">==</span> (<span class="ruby-identifier">comparison_object</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-freeze">
            
              <a name="method-i-freeze"></a><b>freeze</b>()
            
          </div>
          
          
            <div class="description">
              <p>Just freeze the attributes hash, such that associations are still
accessible even on destroyed records.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-freeze_source')" id="l_method-i-freeze_source">show</a>
                
              </p>
              <div id="method-i-freeze_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/lib/active_record/base.rb, line 1771</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">freeze</span>
  <span class="ruby-ivar">@attributes</span>.<span class="ruby-identifier">freeze</span>; <span class="ruby-keyword">self</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-frozen-3F">
            
              <a name="method-i-frozen-3F"></a><b>frozen?</b>()
            
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-frozen-3F_source')" id="l_method-i-frozen-3F_source">show</a>
                
              </p>
              <div id="method-i-frozen-3F_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/lib/active_record/base.rb, line 1775</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">frozen?</span>
  <span class="ruby-ivar">@attributes</span>.<span class="ruby-identifier">frozen?</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-has_attribute-3F">
            
              <a name="method-i-has_attribute-3F"></a><b>has_attribute?</b>(attr_name)
            
          </div>
          
          
            <div class="description">
              <p>Returns true if the given attribute is in the attributes hash</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-has_attribute-3F_source')" id="l_method-i-has_attribute-3F_source">show</a>
                
              </p>
              <div id="method-i-has_attribute-3F_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/lib/active_record/base.rb, line 1716</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">has_attribute?</span>(<span class="ruby-identifier">attr_name</span>)
  <span class="ruby-ivar">@attributes</span>.<span class="ruby-identifier">has_key?</span>(<span class="ruby-identifier">attr_name</span>.<span class="ruby-identifier">to_s</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-hash">
            
              <a name="method-i-hash"></a><b>hash</b>()
            
          </div>
          
          
            <div class="description">
              <p>Delegates to id in order to allow two records of the same type and id to
work with something like:</p>

<pre class="ruby">[ <span class="ruby-constant">Person</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">1</span>), <span class="ruby-constant">Person</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">2</span>), <span class="ruby-constant">Person</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">3</span>) ] &amp; [ <span class="ruby-constant">Person</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">1</span>), <span class="ruby-constant">Person</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">4</span>) ] <span class="ruby-comment"># =&gt; [ Person.find(1) ]</span>
</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-hash_source')" id="l_method-i-hash_source">show</a>
                
              </p>
              <div id="method-i-hash_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/lib/active_record/base.rb, line 1745</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">hash</span>
  <span class="ruby-identifier">id</span>.<span class="ruby-identifier">hash</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-id">
            
              <a name="method-i-id"></a><b>id</b>()
            
          </div>
          
          
            <div class="description">
              <p><a href="../A.html">A</a> model instance's primary key is always available
as model.id whether you name it the default 'id' or set it to something
else.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-id_source')" id="l_method-i-id_source">show</a>
                
              </p>
              <div id="method-i-id_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/lib/active_record/base.rb, line 1514</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">id</span>
  <span class="ruby-identifier">attr_name</span> = <span class="ruby-keyword">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">primary_key</span>
  <span class="ruby-identifier">column</span> = <span class="ruby-identifier">column_for_attribute</span>(<span class="ruby-identifier">attr_name</span>)
  <span class="ruby-identifier">define_read_method</span>(<span class="ruby-value">:id</span>, <span class="ruby-identifier">attr_name</span>, <span class="ruby-identifier">column</span>) <span class="ruby-keyword">if</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">generate_read_methods</span>
  <span class="ruby-identifier">read_attribute</span>(<span class="ruby-identifier">attr_name</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-id-3D">
            
              <a name="method-i-id-3D"></a><b>id=</b>(value)
            
          </div>
          
          
            <div class="description">
              <p>Sets the primary ID.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-id-3D_source')" id="l_method-i-id-3D_source">show</a>
                
              </p>
              <div id="method-i-id-3D_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/lib/active_record/base.rb, line 1536</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">id=</span>(<span class="ruby-identifier">value</span>)
  <span class="ruby-identifier">write_attribute</span>(<span class="ruby-keyword">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">primary_key</span>, <span class="ruby-identifier">value</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-increment">
            
              <a name="method-i-increment"></a><b>increment</b>(attribute)
            
          </div>
          
          
            <div class="description">
              <p>Initializes the <code>attribute</code> to zero if nil and adds one. Only
makes sense for number-based attributes. Returns self.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-increment_source')" id="l_method-i-increment_source">show</a>
                
              </p>
              <div id="method-i-increment_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/lib/active_record/base.rb, line 1605</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">increment</span>(<span class="ruby-identifier">attribute</span>)
  <span class="ruby-keyword">self</span>[<span class="ruby-identifier">attribute</span>] <span class="ruby-operator">||=</span> <span class="ruby-number">0</span>
  <span class="ruby-keyword">self</span>[<span class="ruby-identifier">attribute</span>] <span class="ruby-operator">+=</span> <span class="ruby-number">1</span>
  <span class="ruby-keyword">self</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-increment-21">
            
              <a name="method-i-increment-21"></a><b>increment!</b>(attribute)
            
          </div>
          
          
            <div class="description">
              <p>Increments the <code>attribute</code> and saves the record.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-increment-21_source')" id="l_method-i-increment-21_source">show</a>
                
              </p>
              <div id="method-i-increment-21_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/lib/active_record/base.rb, line 1612</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">increment!</span>(<span class="ruby-identifier">attribute</span>)
  <span class="ruby-identifier">increment</span>(<span class="ruby-identifier">attribute</span>).<span class="ruby-identifier">update_attribute</span>(<span class="ruby-identifier">attribute</span>, <span class="ruby-keyword">self</span>[<span class="ruby-identifier">attribute</span>])
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-new_record-3F">
            
              <a name="method-i-new_record-3F"></a><b>new_record?</b>()
            
          </div>
          
          
            <div class="description">
              <p>Returns true if this object hasn’t been saved yet – that is, a record for
the object doesn’t exist yet.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-new_record-3F_source')" id="l_method-i-new_record-3F_source">show</a>
                
              </p>
              <div id="method-i-new_record-3F_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/lib/active_record/base.rb, line 1541</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">new_record?</span>
  <span class="ruby-ivar">@new_record</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-readonly-3F">
            
              <a name="method-i-readonly-3F"></a><b>readonly?</b>()
            
          </div>
          
          
            <div class="description">
              <p>Records loaded through joins with piggy-back attributes will be marked as
read only as they cannot be saved and return true to this query.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-readonly-3F_source')" id="l_method-i-readonly-3F_source">show</a>
                
              </p>
              <div id="method-i-readonly-3F_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/lib/active_record/base.rb, line 1780</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">readonly?</span>
  <span class="ruby-ivar">@readonly</span> <span class="ruby-operator">==</span> <span class="ruby-keyword">true</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-reload">
            
              <a name="method-i-reload"></a><b>reload</b>(options = nil)
            
          </div>
          
          
            <div class="description">
              <p>Reloads the attributes of this object from the database. The optional
options argument is passed to find when reloading so you may do e.g.
record.reload(:lock =&gt; true) to reload the same record with an exclusive
row lock.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-reload_source')" id="l_method-i-reload_source">show</a>
                
              </p>
              <div id="method-i-reload_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/lib/active_record/base.rb, line 1643</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">reload</span>(<span class="ruby-identifier">options</span> = <span class="ruby-keyword">nil</span>)
  <span class="ruby-identifier">clear_aggregation_cache</span>
  <span class="ruby-identifier">clear_association_cache</span>
  <span class="ruby-ivar">@attributes</span>.<span class="ruby-identifier">update</span>(<span class="ruby-keyword">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">find</span>(<span class="ruby-keyword">self</span>.<span class="ruby-identifier">id</span>, <span class="ruby-identifier">options</span>).<span class="ruby-identifier">instance_variable_get</span>(<span class="ruby-string">'@attributes'</span>))
  <span class="ruby-keyword">self</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-respond_to-3F">
            
              <a name="method-i-respond_to-3F"></a><b>respond_to?</b>(method, include_priv = false)
            
          </div>
          
          
            <div class="description">
              <p><a href="../A.html">A</a> <a href="../Person.html">Person</a> object with a
name attribute can ask person.respond_to?("name"),
person.respond_to?("name="), and person.respond_to?("name?") which will all
return true.</p>
            </div>
          
          
          
            <div class="aka">
              Also aliased as: <a href="Base.html#method-i-respond_to_without_attributes-3F">respond_to_without_attributes?</a>
            </div>
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-respond_to-3F_source')" id="l_method-i-respond_to-3F_source">show</a>
                
              </p>
              <div id="method-i-respond_to-3F_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/lib/active_record/base.rb, line 1754</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">respond_to?</span>(<span class="ruby-identifier">method</span>, <span class="ruby-identifier">include_priv</span> = <span class="ruby-keyword">false</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-ivar">@attributes</span>.<span class="ruby-identifier">nil?</span>
    <span class="ruby-keyword">return</span> <span class="ruby-keyword">super</span>
  <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">attr_name</span> = <span class="ruby-keyword">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">column_methods_hash</span>[<span class="ruby-identifier">method</span>.<span class="ruby-identifier">to_sym</span>]
    <span class="ruby-keyword">return</span> <span class="ruby-keyword">true</span> <span class="ruby-keyword">if</span> <span class="ruby-ivar">@attributes</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">attr_name</span>) <span class="ruby-operator">||</span> <span class="ruby-identifier">attr_name</span> <span class="ruby-operator">==</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">primary_key</span>
    <span class="ruby-keyword">return</span> <span class="ruby-keyword">false</span> <span class="ruby-keyword">if</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">read_methods</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">attr_name</span>)
  <span class="ruby-keyword">elsif</span> <span class="ruby-ivar">@attributes</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">method_name</span> = <span class="ruby-identifier">method</span>.<span class="ruby-identifier">to_s</span>)
    <span class="ruby-keyword">return</span> <span class="ruby-keyword">true</span>
  <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">md</span> = <span class="ruby-keyword">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">match_attribute_method?</span>(<span class="ruby-identifier">method</span>.<span class="ruby-identifier">to_s</span>)
    <span class="ruby-keyword">return</span> <span class="ruby-keyword">true</span> <span class="ruby-keyword">if</span> <span class="ruby-ivar">@attributes</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">md</span>.<span class="ruby-identifier">pre_match</span>)
  <span class="ruby-keyword">end</span>
  <span class="ruby-comment"># super must be called at the end of the method, because the inherited respond_to?</span>
  <span class="ruby-comment"># would return true for generated readers, even if the attribute wasn't present</span>
  <span class="ruby-keyword">super</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-respond_to_without_attributes-3F">
            
              <a name="method-i-respond_to_without_attributes-3F"></a><b>respond_to_without_attributes?</b>(method, include_priv = false)
            
          </div>
          
          
            <div class="description">
              <p>For checking respond_to? without searching the attributes (which is
faster).</p>
            </div>
          
          
          
          
          
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-save">
            
              <a name="method-i-save"></a><b>save</b>()
            
          </div>
          
          
            <div class="description">
              <ul><li>
<p>No record exists: Creates a new record with values matching those of the
object attributes.</p>
</li><li>
<p><a href="../A.html">A</a> record does exist: Updates the record with values
matching those of the object attributes.</p>
</li></ul>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-save_source')" id="l_method-i-save_source">show</a>
                
              </p>
              <div id="method-i-save_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/lib/active_record/base.rb, line 1547</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">save</span>
  <span class="ruby-identifier">create_or_update</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-save-21">
            
              <a name="method-i-save-21"></a><b>save!</b>()
            
          </div>
          
          
            <div class="description">
              <p>Attempts to save the record, but instead of just returning false if it
couldn’t happen, it raises a  RecordNotSaved exception</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-save-21_source')" id="l_method-i-save-21_source">show</a>
                
              </p>
              <div id="method-i-save-21_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/lib/active_record/base.rb, line 1553</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">save!</span>
  <span class="ruby-identifier">create_or_update</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">raise</span>(<span class="ruby-constant">RecordNotSaved</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-to_param">
            
              <a name="method-i-to_param"></a><b>to_param</b>()
            
          </div>
          
          
            <div class="description">
              <p>Enables Active Record objects to be used as URL parameters in Action Pack
automatically.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-to_param_source')" id="l_method-i-to_param_source">show</a>
                
              </p>
              <div id="method-i-to_param_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/lib/active_record/base.rb, line 1522</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">to_param</span>
  <span class="ruby-comment"># We can't use alias_method here, because method 'id' optimizes itself on the fly.</span>
  (<span class="ruby-identifier">id</span> = <span class="ruby-keyword">self</span>.<span class="ruby-identifier">id</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">id</span>.<span class="ruby-identifier">to_s</span> <span class="ruby-operator">:</span> <span class="ruby-keyword">nil</span> <span class="ruby-comment"># Be sure to stringify the id for routes</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-toggle">
            
              <a name="method-i-toggle"></a><b>toggle</b>(attribute)
            
          </div>
          
          
            <div class="description">
              <p>Turns an <code>attribute</code> that’s currently true into false and vice
versa. Returns self.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-toggle_source')" id="l_method-i-toggle_source">show</a>
                
              </p>
              <div id="method-i-toggle_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/lib/active_record/base.rb, line 1629</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">toggle</span>(<span class="ruby-identifier">attribute</span>)
  <span class="ruby-keyword">self</span>[<span class="ruby-identifier">attribute</span>] = <span class="ruby-operator">!</span><span class="ruby-identifier">send</span>(<span class="ruby-node">&quot;#{attribute}?&quot;</span>)
  <span class="ruby-keyword">self</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-toggle-21">
            
              <a name="method-i-toggle-21"></a><b>toggle!</b>(attribute)
            
          </div>
          
          
            <div class="description">
              <p>Toggles the <code>attribute</code> and saves the record.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-toggle-21_source')" id="l_method-i-toggle-21_source">show</a>
                
              </p>
              <div id="method-i-toggle-21_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/lib/active_record/base.rb, line 1635</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">toggle!</span>(<span class="ruby-identifier">attribute</span>)
  <span class="ruby-identifier">toggle</span>(<span class="ruby-identifier">attribute</span>).<span class="ruby-identifier">update_attribute</span>(<span class="ruby-identifier">attribute</span>, <span class="ruby-keyword">self</span>[<span class="ruby-identifier">attribute</span>])
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-update_attribute">
            
              <a name="method-i-update_attribute"></a><b>update_attribute</b>(name, value)
            
          </div>
          
          
            <div class="description">
              <p>Updates a single attribute and saves the record. This is especially useful
for boolean flags on existing records. Note: This method is overwritten by
the Validation module that’ll make sure that updates made with this method
doesn’t get subjected to validation checks. Hence, attributes can be
updated even if the full object isn’t valid.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-update_attribute_source')" id="l_method-i-update_attribute_source">show</a>
                
              </p>
              <div id="method-i-update_attribute_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/lib/active_record/base.rb, line 1586</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">update_attribute</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">value</span>)
  <span class="ruby-identifier">send</span>(<span class="ruby-identifier">name</span>.<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-string">'='</span>, <span class="ruby-identifier">value</span>)
  <span class="ruby-identifier">save</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-update_attributes">
            
              <a name="method-i-update_attributes"></a><b>update_attributes</b>(attributes)
            
          </div>
          
          
            <div class="description">
              <p>Updates all the attributes from the passed-in Hash and saves the record. If
the object is invalid, the saving will fail and false will be returned.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-update_attributes_source')" id="l_method-i-update_attributes_source">show</a>
                
              </p>
              <div id="method-i-update_attributes_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/lib/active_record/base.rb, line 1593</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">update_attributes</span>(<span class="ruby-identifier">attributes</span>)
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">attributes</span> = <span class="ruby-identifier">attributes</span>
  <span class="ruby-identifier">save</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-update_attributes-21">
            
              <a name="method-i-update_attributes-21"></a><b>update_attributes!</b>(attributes)
            
          </div>
          
          
            <div class="description">
              <p>Updates an object just like <a
href="Base.html#method-i-update_attributes">#update_attributes</a> but
calls save! instead of save so an exception is raised if the record is
invalid.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-update_attributes-21_source')" id="l_method-i-update_attributes-21_source">show</a>
                
              </p>
              <div id="method-i-update_attributes-21_source" class="dyn-source">
                <pre><span class="ruby-comment"># File rails/activerecord/lib/active_record/base.rb, line 1599</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">update_attributes!</span>(<span class="ruby-identifier">attributes</span>)
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">attributes</span> = <span class="ruby-identifier">attributes</span>
  <span class="ruby-identifier">save!</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
                    </div>
    </div>
  </body>
</html>    